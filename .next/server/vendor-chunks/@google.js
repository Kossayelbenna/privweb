"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@google";
exports.ids = ["vendor-chunks/@google"];
exports.modules = {

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/assets/close-material-svg.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/assets/close-material-svg.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\" fill=\"#000000\">\n    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement\n         support for dynamic re-coloring of UI components -->\n    <defs>\n      <filter id=\"drop-shadow\" x=\"-100%\" y=\"-100%\" width=\"300%\" height=\"300%\">\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"1\"/>\n        <feOffset dx=\"0\" dy=\"0\" result=\"offsetblur\"/>\n        <feFlood flood-color=\"#000000\"/>\n        <feComposite in2=\"offsetblur\" operator=\"in\"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n      </filter>\n    </defs>\n    <path filter=\"url(#drop-shadow)\" d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\n    <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n</svg>`);\n//# sourceMappingURL=close-material-svg.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy9jbG9zZS1tYXRlcmlhbC1zdmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzJCO0FBQzNCLGlFQUFlLHlDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEVBQUM7QUFDUiIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy9jbG9zZS1tYXRlcmlhbC1zdmcuanM/OTRjNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGh0bWwgYFxuPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiIzAwMDAwMFwiPlxuICAgIDwhLS0gTk9URShjZGF0YSk6IFRoaXMgU1ZHIGZpbHRlciBpcyBhIHN0b3AtZ2FwIHVudGlsIHdlIGNhbiBpbXBsZW1lbnRcbiAgICAgICAgIHN1cHBvcnQgZm9yIGR5bmFtaWMgcmUtY29sb3Jpbmcgb2YgVUkgY29tcG9uZW50cyAtLT5cbiAgICA8ZGVmcz5cbiAgICAgIDxmaWx0ZXIgaWQ9XCJkcm9wLXNoYWRvd1wiIHg9XCItMTAwJVwiIHk9XCItMTAwJVwiIHdpZHRoPVwiMzAwJVwiIGhlaWdodD1cIjMwMCVcIj5cbiAgICAgICAgPGZlR2F1c3NpYW5CbHVyIGluPVwiU291cmNlQWxwaGFcIiBzdGREZXZpYXRpb249XCIxXCIvPlxuICAgICAgICA8ZmVPZmZzZXQgZHg9XCIwXCIgZHk9XCIwXCIgcmVzdWx0PVwib2Zmc2V0Ymx1clwiLz5cbiAgICAgICAgPGZlRmxvb2QgZmxvb2QtY29sb3I9XCIjMDAwMDAwXCIvPlxuICAgICAgICA8ZmVDb21wb3NpdGUgaW4yPVwib2Zmc2V0Ymx1clwiIG9wZXJhdG9yPVwiaW5cIi8+XG4gICAgICAgIDxmZU1lcmdlPlxuICAgICAgICAgIDxmZU1lcmdlTm9kZS8+XG4gICAgICAgICAgPGZlTWVyZ2VOb2RlIGluPVwiU291cmNlR3JhcGhpY1wiLz5cbiAgICAgICAgPC9mZU1lcmdlPlxuICAgICAgPC9maWx0ZXI+XG4gICAgPC9kZWZzPlxuICAgIDxwYXRoIGZpbHRlcj1cInVybCgjZHJvcC1zaGFkb3cpXCIgZD1cIk0xOSA2LjQxTDE3LjU5IDUgMTIgMTAuNTkgNi40MSA1IDUgNi40MSAxMC41OSAxMiA1IDE3LjU5IDYuNDEgMTkgMTIgMTMuNDEgMTcuNTkgMTkgMTkgMTcuNTkgMTMuNDEgMTJ6XCIvPlxuICAgIDxwYXRoIGQ9XCJNMCAwaDI0djI0SDB6XCIgZmlsbD1cIm5vbmVcIi8+XG48L3N2Zz5gO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xvc2UtbWF0ZXJpYWwtc3ZnLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/assets/close-material-svg.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/assets/controls-svg.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/assets/controls-svg.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"25\" height=\"36\">\n    <defs>\n        <path id=\"A\" d=\"M.001.232h24.997V36H.001z\" />\n    </defs>\n    <g transform=\"translate(-11 -4)\" fill=\"none\" fill-rule=\"evenodd\">\n        <path fill-opacity=\"0\" fill=\"#fff\" d=\"M0 0h44v44H0z\" />\n        <g transform=\"translate(11 3)\">\n            <path d=\"M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z\" fill-opacity=\".5\" fill=\"#e4e4e4\" />\n            <path d=\"M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91\" fill-opacity=\".6\" fill=\"#000\" />\n            <path d=\"M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z\" fill=\"#fff\" />\n            <g transform=\"translate(0 .769)\">\n                <mask id=\"B\" fill=\"#fff\">\n                    <use xlink:href=\"#A\" />\n                </mask>\n                <path d=\"M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325\" fill-opacity=\".05\" fill=\"#000\" mask=\"url(#B)\" />\n            </g>\n        </g>\n    </g>\n</svg>`);\n//# sourceMappingURL=controls-svg.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy9jb250cm9scy1zdmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzJCO0FBQzNCLGlFQUFlLHlDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sRUFBQztBQUNSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvYXNzZXRzL2NvbnRyb2xzLXN2Zy5qcz80ZTRlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGh0bWwgfSBmcm9tICdsaXQnO1xuZXhwb3J0IGRlZmF1bHQgaHRtbCBgXG48c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB3aWR0aD1cIjI1XCIgaGVpZ2h0PVwiMzZcIj5cbiAgICA8ZGVmcz5cbiAgICAgICAgPHBhdGggaWQ9XCJBXCIgZD1cIk0uMDAxLjIzMmgyNC45OTdWMzZILjAwMXpcIiAvPlxuICAgIDwvZGVmcz5cbiAgICA8ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoLTExIC00KVwiIGZpbGw9XCJub25lXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgICAgICA8cGF0aCBmaWxsLW9wYWNpdHk9XCIwXCIgZmlsbD1cIiNmZmZcIiBkPVwiTTAgMGg0NHY0NEgwelwiIC8+XG4gICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgxMSAzKVwiPlxuICAgICAgICAgICAgPHBhdGggZD1cIk04LjczMyAxMS4xNjVjLjA0LTEuMTA4Ljc2Ni0yLjAyNyAxLjc0My0yLjMwN2EyLjU0IDIuNTQgMCAwIDEgLjYyOC0uMDg5Yy4xNiAwIC4zMTQuMDE3LjQ2My4wNDQgMS4wODguMiAxLjkgMS4wOTIgMS45IDIuMTZ2OC44OGgxLjI2YzIuOTQzLTEuMzkgNS00LjQ1IDUtOC4wMjVhOS4wMSA5LjAxIDAgMCAwLTEuOS01LjU2bC0uNDMtLjVjLS43NjUtLjgzOC0xLjY4My0xLjUyMi0yLjcxMi0yLTEuMDU3LS40OS0yLjIyNi0uNzctMy40Ni0uNzdzLTIuNC4yNzgtMy40Ni43N2MtMS4wMy40NzgtMS45NDcgMS4xNjItMi43MSAybC0uNDMuNWE5LjAxIDkuMDEgMCAwIDAtMS45IDUuNTYgOS4wNCA5LjA0IDAgMCAwIC4wOTQgMS4zMDVjLjAzLjIxLjA4OC40MS4xMy42MTdsLjEzNi42MjRjLjA4My4yODYuMTk2LjU2LjMwNS44MzJsLjEyNC4zMzNhOC43OCA4Ljc4IDAgMCAwIC41MDkuOTUzbC4wNjUuMTIyYTguNjkgOC42OSAwIDAgMCAzLjUyMSAzLjE5MWwxLjExLjUzN3YtOS4xNzh6XCIgZmlsbC1vcGFjaXR5PVwiLjVcIiBmaWxsPVwiI2U0ZTRlNFwiIC8+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTIyLjk0IDI2LjIxOGwtMi43NiA3Ljc0Yy0uMTcyLjQ4NS0uNjc2LjgtMS4yNTMuOEgxMi4yNGMtMS42MDYgMC0zLjA5Mi0uNjgtMy45OC0xLjgyLTEuNTkyLTIuMDQ4LTMuNjQ3LTMuODIyLTYuMTEtNS4yNy0uMDk1LS4wNTUtLjE1LS4xMzctLjE1Mi0uMjMtLjAwNC0uMS4wNDYtLjE5Ni4xOTMtLjI5Ny41Ni0uMzkzIDEuMjM0LS42IDEuOTI2LS42YTMuNDMgMy40MyAwIDAgMSAuNjkxLjA2OWw0LjkyMi45OTRWMTAuOTcyYzAtLjY2My42MTUtMS4yMDMgMS4zNy0xLjIwM3MxLjM3My41NCAxLjM3MyAxLjIwM3Y5Ljg4MmgyLjk1M2MuMjczIDAgLjUzMy4wNzMuNzU3LjIxbDYuMjU3IDMuODc0Yy4wMjcuMDE3LjA0NS4wNDIuMDcuMDYuNDEuMjk2LjU4Ni43Ny40MjYgMS4yMk00LjEgMTYuNjE0Yy0uMDI0LS4wNC0uMDQyLS4wODMtLjA2NS0uMTIyYTguNjkgOC42OSAwIDAgMS0uNTA5LS45NTNjLS4wNDgtLjEwNy0uMDgtLjIyMy0uMTI0LS4zMzNsLS4zMDUtLjgzMmMtLjA1OC0uMjAyLS4wOS0uNDE2LS4xMzYtLjYyNGwtLjEzLS42MTdhOS4wMyA5LjAzIDAgMCAxLS4wOTQtMS4zMDVjMC0yLjEwNy43MTQtNC4wNCAxLjktNS41NmwuNDMtLjVjLjc2NC0uODQgMS42ODItMS41MjMgMi43MS0yIDEuMDU4LS40OSAyLjIyNi0uNzcgMy40Ni0uNzdzMi40MDIuMjggMy40Ni43N2MxLjAzLjQ3NyAxLjk0NyAxLjE2IDIuNzEyIDJsLjQyOC41YTkgOSAwIDAgMSAxLjkwMSA1LjU1OWMwIDMuNTc3LTIuMDU2IDYuNjM2LTUgOC4wMjZoLTEuMjZ2LTguODgyYzAtMS4wNjctLjgyMi0xLjk2LTEuOS0yLjE2LS4xNS0uMDI4LS4zMDQtLjA0NC0uNDYzLS4wNDQtLjIyIDAtLjQyNy4wMzctLjYyOC4wOS0uOTc3LjI4LTEuNzAzIDEuMTk4LTEuNzQzIDIuMzA2djkuMTc4bC0xLjExLS41MzdDNi4xOCAxOS4wOTggNC45NiAxOCA0LjEgMTYuNjE0TTIyLjk3IDI0LjA5bC02LjI1Ni0zLjg3NGMtLjEwMi0uMDYzLS4yMTgtLjA5OC0uMzMtLjE0NCAyLjY4My0xLjggNC4zNTQtNC44NTUgNC4zNTQtOC4yNDMgMC0uNDg2LS4wMzctLjk2NC0uMTA0LTEuNDNhOS45NyA5Ljk3IDAgMCAwLTEuNTctNC4xMjhsLS4yOTUtLjQwOC0uMDY2LS4wOTJhMTAuMDUgMTAuMDUgMCAwIDAtLjk0OS0xLjA3OGMtLjM0Mi0uMzM0LS43MDgtLjY0My0xLjA5NC0uOTIyLTEuMTU1LS44MzQtMi40OTItMS40MTItMy45NC0xLjY1bC0uNzMyLS4wODgtLjc0OC0uMDNhOS4yOSA5LjI5IDAgMCAwLTEuNDgyLjExOWMtMS40NDcuMjM4LTIuNzg2LjgxNi0zLjk0IDEuNjVhOS4zMyA5LjMzIDAgMCAwLS44MTMuNjg2IDkuNTkgOS41OSAwIDAgMC0uODQ1Ljg3N2wtLjM4NS40MzctLjM2LjUtLjI4OC40NjgtLjQxOC43NzgtLjA0LjA5Yy0uNTkzIDEuMjgtLjkzIDIuNzEtLjkzIDQuMjIyIDAgMy44MzIgMi4xODIgNy4zNDIgNS41NiA4LjkzOGwxLjQzNy42OHY0Ljk0Nkw1IDI1LjY0YTQuNDQgNC40NCAwIDAgMC0uODg4LS4wODZjLS4wMTcgMC0uMDM0LjAwMy0uMDUuMDAzLS4yNTIuMDA0LS41MDMuMDMzLS43NS4wOGE1LjA4IDUuMDggMCAwIDAtLjIzNy4wNTZjLS4xOTMuMDQ2LS4zODIuMTA3LS41NjguMTgtLjA3NS4wMy0uMTUuMDU3LS4yMjUuMS0uMjUuMTE0LS40OTQuMjQ0LS43MjMuNDA1YTEuMzEgMS4zMSAwIDAgMC0uNTY2IDEuMTIyIDEuMjggMS4yOCAwIDAgMCAuNjQ1IDEuMDUxQzQgMjkuOTI1IDUuOTYgMzEuNjE0IDcuNDczIDMzLjU2M2E1LjA2IDUuMDYgMCAwIDAgLjQzNC40OTFjMS4wODYgMS4wODIgMi42NTYgMS43MTMgNC4zMjYgMS43MTVoNi42OTdjLjc0OC0uMDAxIDEuNDMtLjMzMyAxLjg1OC0uODcyLjE0Mi0uMTguMjU2LS4zOC4zMzYtLjYwMmwyLjc1Ny03Ljc0Yy4wOTQtLjI2LjEzLS41My4xMTItLjc5NHMtLjA4OC0uNTItLjIwMy0uNzZhMi4xOSAyLjE5IDAgMCAwLS44MjEtLjkxXCIgZmlsbC1vcGFjaXR5PVwiLjZcIiBmaWxsPVwiIzAwMFwiIC8+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTIyLjQ0NCAyNC45NGwtNi4yNTctMy44NzRhMS40NSAxLjQ1IDAgMCAwLS43NTctLjIxMWgtMi45NTN2LTkuODhjMC0uNjYzLS42MTYtMS4yMDMtMS4zNzMtMS4yMDNzLTEuMzcuNTQtMS4zNyAxLjIwM3YxNi42NDNsLTQuOTIyLS45OTRhMy40NCAzLjQ0IDAgMCAwLS42OTItLjA2OSAzLjM1IDMuMzUgMCAwIDAtMS45MjUuNTk4Yy0uMTQ3LjEwMi0uMTk4LjE5OC0uMTk0LjI5OC4wMDQuMDk0LjA1OC4xNzYuMTUzLjIzIDIuNDYyIDEuNDQ4IDQuNTE3IDMuMjIgNi4xMSA1LjI3Ljg4NyAxLjE0IDIuMzczIDEuODIgMy45OCAxLjgyaDYuNjg2Yy41NzcgMCAxLjA4LS4zMjYgMS4yNTMtLjhsMi43Ni03Ljc0Yy4xNi0uNDQ4LS4wMTctLjkyMy0uNDI2LTEuMjItLjAyNS0uMDItLjA0My0uMDQzLS4wNy0uMDZ6XCIgZmlsbD1cIiNmZmZcIiAvPlxuICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAgLjc2OSlcIj5cbiAgICAgICAgICAgICAgICA8bWFzayBpZD1cIkJcIiBmaWxsPVwiI2ZmZlwiPlxuICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIjQVwiIC8+XG4gICAgICAgICAgICAgICAgPC9tYXNrPlxuICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjMuOTkzIDI0Ljk5MmExLjk2IDEuOTYgMCAwIDEtLjExMS43OTRsLTIuNzU4IDcuNzRjLS4wOC4yMi0uMTk0LjQyMy0uMzM2LjYwMi0uNDI3LjU0LTEuMTEuODctMS44NTcuODcyaC02LjY5OGMtMS42Ny0uMDAyLTMuMjQtLjYzMy00LjMyNi0xLjcxNS0uMTU0LS4xNTQtLjMtLjMxOC0uNDM0LS40OUM1Ljk2IDMwLjg0NiA0IDI5LjE1NyAxLjY0NiAyNy43NzNjLS4zODUtLjIyNS0uNjI2LS42MTgtLjY0NS0xLjA1YTEuMzEgMS4zMSAwIDAgMSAuNTY2LTEuMTIyIDQuNTYgNC41NiAwIDAgMSAuNzIzLS40MDVsLjIyNS0uMWE0LjMgNC4zIDAgMCAxIC41NjgtLjE4bC4yMzctLjA1NmMuMjQ4LS4wNDYuNS0uMDc1Ljc1LS4wOC4wMTggMCAuMDM0LS4wMDMuMDUtLjAwMy4zMDMtLjAwMS41OTcuMDI3Ljg5LjA4NmwzLjcyMi43NTJWMjAuNjhsLTEuNDM2LS42OGMtMy4zNzctMS41OTYtNS41Ni01LjEwNi01LjU2LTguOTM4IDAtMS41MS4zMzYtMi45NC45My00LjIyMi4wMTUtLjAzLjAyNS0uMDYuMDQtLjA5LjEyNy0uMjY3LjI2OC0uNTI1LjQxOC0uNzc4LjA5My0uMTYuMTg2LS4zMTYuMjg4LS40NjguMDYzLS4wOTUuMTMzLS4xODYuMi0uMjc3TDMuNzczIDVjLjExOC0uMTU1LjI2LS4yOS4zODUtLjQzNy4yNjYtLjMuNTQ0LS42MDQuODQ1LS44NzdhOS4zMyA5LjMzIDAgMCAxIC44MTMtLjY4NkM2Ljk3IDIuMTY3IDguMzEgMS41OSA5Ljc1NyAxLjM1YTkuMjcgOS4yNyAwIDAgMSAxLjQ4MS0uMTE5IDguODIgOC44MiAwIDAgMSAuNzQ4LjAzMWMuMjQ3LjAyLjQ5LjA1LjczMy4wODggMS40NDguMjM4IDIuNzg2LjgxNiAzLjk0IDEuNjUuMzg3LjI4Ljc1Mi41ODggMS4wOTQuOTIyYTkuOTQgOS45NCAwIDAgMSAuOTQ5IDEuMDc4bC4wNjYuMDkyYy4xMDIuMTMzLjIwMy4yNjguMjk1LjQwOGE5Ljk3IDkuOTcgMCAwIDEgMS41NzEgNC4xMjhjLjA2Ni40NjcuMTAzLjk0NS4xMDMgMS40MyAwIDMuMzg4LTEuNjcgNi40NTMtNC4zNTMgOC4yNDMuMTEuMDQ2LjIyNy4wOC4zMy4xNDRsNi4yNTYgMy44NzRjLjM3LjIzLjY0NS41NS44Mi45LjExNS4yNC4xODUuNDk4LjIwMy43Nm0uNjk3LTEuMTk1Yy0uMjY1LS41NS0uNjc3LTEuMDA3LTEuMTk0LTEuMzI2bC01LjMyMy0zLjI5N2MyLjI1NS0yLjAzNyAzLjU2NC00Ljk3IDMuNTY0LTguMTE0IDAtMi4xOS0uNjM3LTQuMzA0LTEuODQtNi4xMTQtLjEyNi0uMTg4LS4yNi0uMzctLjQtLjU1Mi0uNjQ1LS44NDgtMS40MDItMS42LTIuMjUyLTIuMjA0QzE1LjQ3Mi45MSAxMy4zOTMuMjMyIDExLjIzOC4yMzJBMTAuMjEgMTAuMjEgMCAwIDAgNS4yMyAyLjE5Yy0uODQ4LjYxNC0xLjYwNiAxLjM1Ni0yLjI1MyAyLjIwNS0uMTM2LjE4LS4yNzIuMzYzLS4zOTguNTVDMS4zNzQgNi43NTYuNzM3IDguODcuNzM3IDExLjA2YzAgNC4yMTggMi40MDcgOC4wOCA2LjEzMyA5Ljg0MmwuODYzLjQxdjMuMDkybC0yLjUyNS0uNTFjLS4zNTYtLjA3LS43MTctLjEwNi0xLjA3Ni0uMTA2YTUuNDUgNS40NSAwIDAgMC0zLjE0Ljk5NmMtLjY1My40Ni0xLjAyMiAxLjIwMi0uOTkgMS45ODNhMi4yOCAyLjI4IDAgMCAwIDEuMTM4IDEuODcyYzIuMjQgMS4zMTggNC4xMDYgMi45MjMgNS41NDMgNC43NzIgMS4yNiAxLjYyIDMuMzMzIDIuNTkgNS41NSAyLjU5Mmg2LjY5OGMxLjQyLS4wMDEgMi42OC0uODYgMy4xMzQtMi4xMzhsMi43Ni03Ljc0Yy4yNzItLjc1Ny4yMjQtMS41ODQtLjEzNC0yLjMyNVwiIGZpbGwtb3BhY2l0eT1cIi4wNVwiIGZpbGw9XCIjMDAwXCIgbWFzaz1cInVybCgjQilcIiAvPlxuICAgICAgICAgICAgPC9nPlxuICAgICAgICA8L2c+XG4gICAgPC9nPlxuPC9zdmc+YDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRyb2xzLXN2Zy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/assets/controls-svg.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n<svg version=\"1.1\" id=\"view_x5F_in_x5F_AR_x5F_icon\"\n\t xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"24px\" height=\"24px\"\n\t viewBox=\"0 0 24 24\" enable-background=\"new 0 0 24 24\" xml:space=\"preserve\">\n<rect id=\"Bounding_Box\" x=\"0\" y=\"0\" fill=\"none\" width=\"24\" height=\"24\"/>\n<g id=\"Art_layer\">\n\t<path d=\"M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z\"/>\n\t<path d=\"M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z\"/>\n\t<path d=\"M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z\"/>\n\t<path d=\"M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z\"/>\n\t<g>\n\t\t<path d=\"M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3\n\t\t\tl5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62\n\t\t\tl4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z\"/>\n\t</g>\n</g>\n</svg>`);\n//# sourceMappingURL=view-in-ar-material-svg.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2Fzc2V0cy92aWV3LWluLWFyLW1hdGVyaWFsLXN2Zy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDMkI7QUFDM0IsaUVBQWUseUNBQUk7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxFQUFDO0FBQ1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9hc3NldHMvdmlldy1pbi1hci1tYXRlcmlhbC1zdmcuanM/NDQxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnbGl0JztcbmV4cG9ydCBkZWZhdWx0IGh0bWwgYFxuPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgaWQ9XCJ2aWV3X3g1Rl9pbl94NUZfQVJfeDVGX2ljb25cIlxuXHQgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiXG5cdCB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDI0IDI0XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbjxyZWN0IGlkPVwiQm91bmRpbmdfQm94XCIgeD1cIjBcIiB5PVwiMFwiIGZpbGw9XCJub25lXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIvPlxuPGcgaWQ9XCJBcnRfbGF5ZXJcIj5cblx0PHBhdGggZD1cIk0zLDRjMC0wLjU1LDAuNDUtMSwxLTFoMlYxSDRDMi4zNSwxLDEsMi4zNSwxLDR2MmgyVjR6XCIvPlxuXHQ8cGF0aCBkPVwiTTIwLDNjMC41NSwwLDEsMC40NSwxLDF2MmgyVjRjMC0xLjY1LTEuMzUtMy0zLTNoLTJ2MkgyMHpcIi8+XG5cdDxwYXRoIGQ9XCJNNCwyMWMtMC41NSwwLTEtMC40NS0xLTF2LTJIMXYyYzAsMS42NSwxLjM1LDMsMywzaDJ2LTJINHpcIi8+XG5cdDxwYXRoIGQ9XCJNMjAsMjFjMC41NSwwLDEtMC40NSwxLTF2LTJoMnYyYzAsMS42NS0xLjM1LDMtMywzaC0ydi0ySDIwelwiLz5cblx0PGc+XG5cdFx0PHBhdGggZD1cIk0xOC4yNSw3LjZsLTUuNS0zLjE4Yy0wLjQ2LTAuMjctMS4wNC0wLjI3LTEuNSwwTDUuNzUsNy42QzUuMjksNy44Nyw1LDguMzYsNSw4Ljl2Ni4zNWMwLDAuNTQsMC4yOSwxLjAzLDAuNzUsMS4zXG5cdFx0XHRsNS41LDMuMThjMC40NiwwLjI3LDEuMDQsMC4yNywxLjUsMGw1LjUtMy4xOGMwLjQ2LTAuMjcsMC43NS0wLjc2LDAuNzUtMS4zVjguOUMxOSw4LjM2LDE4LjcxLDcuODcsMTguMjUsNy42eiBNNywxNC45NnYtNC42MlxuXHRcdFx0bDQsMi4zMnY0LjYxTDcsMTQuOTZ6IE0xMiwxMC45M0w4LDguNjFsNC0yLjMxbDQsMi4zMUwxMiwxMC45M3ogTTEzLDE3LjI3di00LjYxbDQtMi4zMnY0LjYyTDEzLDE3LjI3elwiLz5cblx0PC9nPlxuPC9nPlxuPC9zdmc+YDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZpZXctaW4tYXItbWF0ZXJpYWwtc3ZnLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/constants.js":
/*!************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/constants.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HAS_INTERSECTION_OBSERVER: () => (/* binding */ HAS_INTERSECTION_OBSERVER),\n/* harmony export */   HAS_RESIZE_OBSERVER: () => (/* binding */ HAS_RESIZE_OBSERVER),\n/* harmony export */   HAS_WEBXR_DEVICE_API: () => (/* binding */ HAS_WEBXR_DEVICE_API),\n/* harmony export */   HAS_WEBXR_HIT_TEST_API: () => (/* binding */ HAS_WEBXR_HIT_TEST_API),\n/* harmony export */   IS_ANDROID: () => (/* binding */ IS_ANDROID),\n/* harmony export */   IS_AR_QUICKLOOK_CANDIDATE: () => (/* binding */ IS_AR_QUICKLOOK_CANDIDATE),\n/* harmony export */   IS_CHROMEOS: () => (/* binding */ IS_CHROMEOS),\n/* harmony export */   IS_FIREFOX: () => (/* binding */ IS_FIREFOX),\n/* harmony export */   IS_IOS: () => (/* binding */ IS_IOS),\n/* harmony export */   IS_IOS_CHROME: () => (/* binding */ IS_IOS_CHROME),\n/* harmony export */   IS_IOS_SAFARI: () => (/* binding */ IS_IOS_SAFARI),\n/* harmony export */   IS_MOBILE: () => (/* binding */ IS_MOBILE),\n/* harmony export */   IS_OCULUS: () => (/* binding */ IS_OCULUS),\n/* harmony export */   IS_SAFARI: () => (/* binding */ IS_SAFARI),\n/* harmony export */   IS_SCENEVIEWER_CANDIDATE: () => (/* binding */ IS_SCENEVIEWER_CANDIDATE),\n/* harmony export */   IS_WEBXR_AR_CANDIDATE: () => (/* binding */ IS_WEBXR_AR_CANDIDATE),\n/* harmony export */   IS_WKWEBVIEW: () => (/* binding */ IS_WKWEBVIEW)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// NOTE(cdata): The HAS_WEBXR_* constants can be enabled in Chrome by turning on\n// the appropriate flags. However, just because we have the API does not\n// guarantee that AR will work.\nconst HAS_WEBXR_DEVICE_API = navigator.xr != null &&\n    self.XRSession != null && navigator.xr.isSessionSupported != null;\nconst HAS_WEBXR_HIT_TEST_API = HAS_WEBXR_DEVICE_API &&\n    self.XRSession.prototype.requestHitTestSource != null;\nconst HAS_RESIZE_OBSERVER = self.ResizeObserver != null;\nconst HAS_INTERSECTION_OBSERVER = self.IntersectionObserver != null;\nconst IS_WEBXR_AR_CANDIDATE = HAS_WEBXR_HIT_TEST_API;\nconst IS_MOBILE = (() => {\n    const userAgent = navigator.userAgent || navigator.vendor || self.opera;\n    let check = false;\n    // eslint-disable-next-line\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i\n        .test(userAgent) ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i\n            .test(userAgent.substr(0, 4))) {\n        check = true;\n    }\n    return check;\n})();\nconst IS_CHROMEOS = /\\bCrOS\\b/.test(navigator.userAgent);\nconst IS_ANDROID = /android/i.test(navigator.userAgent);\n// Prior to iOS 13, detecting iOS Safari was relatively straight-forward.\n// As of iOS 13, Safari on iPad (in its default configuration) reports the same\n// user-agent string as Safari on desktop MacOS. Strictly speaking, we only care\n// about iOS for the purposes if selecting for cases where Quick Look is known\n// to be supported. However, for API correctness purposes, we must rely on\n// known, detectable signals to distinguish iOS Safari from MacOS Safari. At the\n// time of this writing, there are no non-iOS/iPadOS Apple devices with\n// multi-touch displays.\n// @see https://stackoverflow.com/questions/57765958/how-to-detect-ipad-and-ipad-os-version-in-ios-13-and-up\n// @see https://forums.developer.apple.com/thread/119186\n// @see https://github.com/google/model-viewer/issues/758\nconst IS_IOS = (/iPad|iPhone|iPod/.test(navigator.userAgent) && !self.MSStream) ||\n    (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);\n// @see https://developer.chrome.com/multidevice/user-agent\nconst IS_SAFARI = /Safari\\//.test(navigator.userAgent);\nconst IS_FIREFOX = /firefox/i.test(navigator.userAgent);\nconst IS_OCULUS = /OculusBrowser/.test(navigator.userAgent);\nconst IS_IOS_CHROME = IS_IOS && /CriOS\\//.test(navigator.userAgent);\nconst IS_IOS_SAFARI = IS_IOS && IS_SAFARI;\nconst IS_SCENEVIEWER_CANDIDATE = IS_ANDROID && !IS_FIREFOX && !IS_OCULUS;\nconst IS_WKWEBVIEW = Boolean(window.webkit && window.webkit.messageHandlers);\n// If running in iOS Safari proper, and not within a WKWebView component instance, check for ARQL feature support.\n// Otherwise, if running in a WKWebView instance, check for known ARQL compatible iOS browsers, including:\n// Chrome (CriOS), Edge (EdgiOS), Firefox (FxiOS), Google App (GSA), DuckDuckGo (DuckDuckGo).\n// All other iOS browsers / apps will fail by default.\nconst IS_AR_QUICKLOOK_CANDIDATE = (() => {\n    if (IS_IOS) {\n        if (!IS_WKWEBVIEW) {\n            const tempAnchor = document.createElement('a');\n            return Boolean(tempAnchor.relList && tempAnchor.relList.supports && tempAnchor.relList.supports('ar'));\n        }\n        else {\n            return Boolean(/CriOS\\/|EdgiOS\\/|FxiOS\\/|GSA\\/|DuckDuckGo\\//.test(navigator.userAgent));\n        }\n    }\n    else {\n        return false;\n    }\n})();\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ007QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9jb25zdGFudHMuanM/MGM2YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBOT1RFKGNkYXRhKTogVGhlIEhBU19XRUJYUl8qIGNvbnN0YW50cyBjYW4gYmUgZW5hYmxlZCBpbiBDaHJvbWUgYnkgdHVybmluZyBvblxuLy8gdGhlIGFwcHJvcHJpYXRlIGZsYWdzLiBIb3dldmVyLCBqdXN0IGJlY2F1c2Ugd2UgaGF2ZSB0aGUgQVBJIGRvZXMgbm90XG4vLyBndWFyYW50ZWUgdGhhdCBBUiB3aWxsIHdvcmsuXG5leHBvcnQgY29uc3QgSEFTX1dFQlhSX0RFVklDRV9BUEkgPSBuYXZpZ2F0b3IueHIgIT0gbnVsbCAmJlxuICAgIHNlbGYuWFJTZXNzaW9uICE9IG51bGwgJiYgbmF2aWdhdG9yLnhyLmlzU2Vzc2lvblN1cHBvcnRlZCAhPSBudWxsO1xuZXhwb3J0IGNvbnN0IEhBU19XRUJYUl9ISVRfVEVTVF9BUEkgPSBIQVNfV0VCWFJfREVWSUNFX0FQSSAmJlxuICAgIHNlbGYuWFJTZXNzaW9uLnByb3RvdHlwZS5yZXF1ZXN0SGl0VGVzdFNvdXJjZSAhPSBudWxsO1xuZXhwb3J0IGNvbnN0IEhBU19SRVNJWkVfT0JTRVJWRVIgPSBzZWxmLlJlc2l6ZU9ic2VydmVyICE9IG51bGw7XG5leHBvcnQgY29uc3QgSEFTX0lOVEVSU0VDVElPTl9PQlNFUlZFUiA9IHNlbGYuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgIT0gbnVsbDtcbmV4cG9ydCBjb25zdCBJU19XRUJYUl9BUl9DQU5ESURBVEUgPSBIQVNfV0VCWFJfSElUX1RFU1RfQVBJO1xuZXhwb3J0IGNvbnN0IElTX01PQklMRSA9ICgoKSA9PiB7XG4gICAgY29uc3QgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHNlbGYub3BlcmE7XG4gICAgbGV0IGNoZWNrID0gZmFsc2U7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgaWYgKC8oYW5kcm9pZHxiYlxcZCt8bWVlZ28pLittb2JpbGV8YXZhbnRnb3xiYWRhXFwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcXC98cGx1Y2tlcnxwb2NrZXR8cHNwfHNlcmllcyg0fDYpMHxzeW1iaWFufHRyZW98dXBcXC4oYnJvd3NlcnxsaW5rKXx2b2RhZm9uZXx3YXB8d2luZG93cyBjZXx4ZGF8eGlpbm8vaVxuICAgICAgICAudGVzdCh1c2VyQWdlbnQpIHx8XG4gICAgICAgIC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pXG4gICAgICAgICAgICAudGVzdCh1c2VyQWdlbnQuc3Vic3RyKDAsIDQpKSkge1xuICAgICAgICBjaGVjayA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBjaGVjaztcbn0pKCk7XG5leHBvcnQgY29uc3QgSVNfQ0hST01FT1MgPSAvXFxiQ3JPU1xcYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmV4cG9ydCBjb25zdCBJU19BTkRST0lEID0gL2FuZHJvaWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuLy8gUHJpb3IgdG8gaU9TIDEzLCBkZXRlY3RpbmcgaU9TIFNhZmFyaSB3YXMgcmVsYXRpdmVseSBzdHJhaWdodC1mb3J3YXJkLlxuLy8gQXMgb2YgaU9TIDEzLCBTYWZhcmkgb24gaVBhZCAoaW4gaXRzIGRlZmF1bHQgY29uZmlndXJhdGlvbikgcmVwb3J0cyB0aGUgc2FtZVxuLy8gdXNlci1hZ2VudCBzdHJpbmcgYXMgU2FmYXJpIG9uIGRlc2t0b3AgTWFjT1MuIFN0cmljdGx5IHNwZWFraW5nLCB3ZSBvbmx5IGNhcmVcbi8vIGFib3V0IGlPUyBmb3IgdGhlIHB1cnBvc2VzIGlmIHNlbGVjdGluZyBmb3IgY2FzZXMgd2hlcmUgUXVpY2sgTG9vayBpcyBrbm93blxuLy8gdG8gYmUgc3VwcG9ydGVkLiBIb3dldmVyLCBmb3IgQVBJIGNvcnJlY3RuZXNzIHB1cnBvc2VzLCB3ZSBtdXN0IHJlbHkgb25cbi8vIGtub3duLCBkZXRlY3RhYmxlIHNpZ25hbHMgdG8gZGlzdGluZ3Vpc2ggaU9TIFNhZmFyaSBmcm9tIE1hY09TIFNhZmFyaS4gQXQgdGhlXG4vLyB0aW1lIG9mIHRoaXMgd3JpdGluZywgdGhlcmUgYXJlIG5vIG5vbi1pT1MvaVBhZE9TIEFwcGxlIGRldmljZXMgd2l0aFxuLy8gbXVsdGktdG91Y2ggZGlzcGxheXMuXG4vLyBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU3NzY1OTU4L2hvdy10by1kZXRlY3QtaXBhZC1hbmQtaXBhZC1vcy12ZXJzaW9uLWluLWlvcy0xMy1hbmQtdXBcbi8vIEBzZWUgaHR0cHM6Ly9mb3J1bXMuZGV2ZWxvcGVyLmFwcGxlLmNvbS90aHJlYWQvMTE5MTg2XG4vLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvbW9kZWwtdmlld2VyL2lzc3Vlcy83NThcbmV4cG9ydCBjb25zdCBJU19JT1MgPSAoL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIXNlbGYuTVNTdHJlYW0pIHx8XG4gICAgKG5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxKTtcbi8vIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9tdWx0aWRldmljZS91c2VyLWFnZW50XG5leHBvcnQgY29uc3QgSVNfU0FGQVJJID0gL1NhZmFyaVxcLy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmV4cG9ydCBjb25zdCBJU19GSVJFRk9YID0gL2ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuZXhwb3J0IGNvbnN0IElTX09DVUxVUyA9IC9PY3VsdXNCcm93c2VyLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuZXhwb3J0IGNvbnN0IElTX0lPU19DSFJPTUUgPSBJU19JT1MgJiYgL0NyaU9TXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuZXhwb3J0IGNvbnN0IElTX0lPU19TQUZBUkkgPSBJU19JT1MgJiYgSVNfU0FGQVJJO1xuZXhwb3J0IGNvbnN0IElTX1NDRU5FVklFV0VSX0NBTkRJREFURSA9IElTX0FORFJPSUQgJiYgIUlTX0ZJUkVGT1ggJiYgIUlTX09DVUxVUztcbmV4cG9ydCBjb25zdCBJU19XS1dFQlZJRVcgPSBCb29sZWFuKHdpbmRvdy53ZWJraXQgJiYgd2luZG93LndlYmtpdC5tZXNzYWdlSGFuZGxlcnMpO1xuLy8gSWYgcnVubmluZyBpbiBpT1MgU2FmYXJpIHByb3BlciwgYW5kIG5vdCB3aXRoaW4gYSBXS1dlYlZpZXcgY29tcG9uZW50IGluc3RhbmNlLCBjaGVjayBmb3IgQVJRTCBmZWF0dXJlIHN1cHBvcnQuXG4vLyBPdGhlcndpc2UsIGlmIHJ1bm5pbmcgaW4gYSBXS1dlYlZpZXcgaW5zdGFuY2UsIGNoZWNrIGZvciBrbm93biBBUlFMIGNvbXBhdGlibGUgaU9TIGJyb3dzZXJzLCBpbmNsdWRpbmc6XG4vLyBDaHJvbWUgKENyaU9TKSwgRWRnZSAoRWRnaU9TKSwgRmlyZWZveCAoRnhpT1MpLCBHb29nbGUgQXBwIChHU0EpLCBEdWNrRHVja0dvIChEdWNrRHVja0dvKS5cbi8vIEFsbCBvdGhlciBpT1MgYnJvd3NlcnMgLyBhcHBzIHdpbGwgZmFpbCBieSBkZWZhdWx0LlxuZXhwb3J0IGNvbnN0IElTX0FSX1FVSUNLTE9PS19DQU5ESURBVEUgPSAoKCkgPT4ge1xuICAgIGlmIChJU19JT1MpIHtcbiAgICAgICAgaWYgKCFJU19XS1dFQlZJRVcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbih0ZW1wQW5jaG9yLnJlbExpc3QgJiYgdGVtcEFuY2hvci5yZWxMaXN0LnN1cHBvcnRzICYmIHRlbXBBbmNob3IucmVsTGlzdC5zdXBwb3J0cygnYXInKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gQm9vbGVhbigvQ3JpT1NcXC98RWRnaU9TXFwvfEZ4aU9TXFwvfEdTQVxcL3xEdWNrRHVja0dvXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/decorators.js":
/*!*************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/decorators.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   style: () => (/* binding */ style)\n/* harmony export */ });\n/* harmony import */ var _styles_evaluators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/evaluators */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js\");\n/* harmony import */ var _styles_parsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* harmony import */ var _styles_style_effector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/style-effector */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/style-effector.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n/**\n * The @style decorator is responsible for coordinating the conversion of a\n * CSS-like string property value into numbers that can be applied to\n * lower-level constructs. It also can optionally manage the lifecycle of a\n * StyleEffector which allows automatic updates for styles that use env() or\n * var() functions.\n *\n * The decorator is configured with Intrinsics and the property key for a\n * method that handles updates. The named update handler is invoked with the\n * result of parsing and evaluating the raw property string value. The format of\n * the evaluated result is derived from the basis of the configured Intrinsics,\n * and is always an array of numbers of fixed length.\n *\n * NOTE: This decorator depends on the property updating mechanism defined by\n * UpdatingElement as exported by the lit-element module. That means it *must*\n * be used in conjunction with the @property decorator, or equivalent\n * JavaScript.\n *\n * Supported configurations are:\n *\n *  - `intrinsics`: An Intrinsics struct that describes how to interpret a\n * serialized style attribute. For more detail on intrinsics see\n * ./styles/evaluators.ts\n *  - `updateHandler`: A string or Symbol that is the key of a method to be\n * invoked with the result of parsing and evaluating a serialized style string.\n *  - `observeEffects`: Optional, if set to true then styles that use env() will\n * cause their update handlers to be invoked every time the corresponding\n * environment variable changes (even if the style attribute itself remains\n * static).\n */\nconst style = (config) => {\n    const observeEffects = config.observeEffects || false;\n    const getIntrinsics = config.intrinsics instanceof Function ?\n        config.intrinsics :\n        (() => config.intrinsics);\n    return (proto, propertyName) => {\n        const originalUpdated = proto.updated;\n        const originalConnectedCallback = proto.connectedCallback;\n        const originalDisconnectedCallback = proto.disconnectedCallback;\n        const $styleEffector = Symbol(`${propertyName}StyleEffector`);\n        const $styleEvaluator = Symbol(`${propertyName}StyleEvaluator`);\n        const $updateEvaluator = Symbol(`${propertyName}UpdateEvaluator`);\n        const $evaluateAndSync = Symbol(`${propertyName}EvaluateAndSync`);\n        Object.defineProperties(proto, {\n            [$styleEffector]: { value: null, writable: true },\n            [$styleEvaluator]: { value: null, writable: true },\n            [$updateEvaluator]: {\n                value: function () {\n                    const ast = (0,_styles_parsers__WEBPACK_IMPORTED_MODULE_1__.parseExpressions)(this[propertyName]);\n                    this[$styleEvaluator] =\n                        new _styles_evaluators__WEBPACK_IMPORTED_MODULE_0__.StyleEvaluator(ast, getIntrinsics(this));\n                    if (this[$styleEffector] == null && observeEffects) {\n                        this[$styleEffector] =\n                            new _styles_style_effector__WEBPACK_IMPORTED_MODULE_2__.StyleEffector(() => this[$evaluateAndSync]());\n                    }\n                    if (this[$styleEffector] != null) {\n                        this[$styleEffector].observeEffectsFor(ast);\n                    }\n                }\n            },\n            [$evaluateAndSync]: {\n                value: function () {\n                    if (this[$styleEvaluator] == null) {\n                        return;\n                    }\n                    const result = this[$styleEvaluator].evaluate();\n                    // @see https://github.com/microsoft/TypeScript/pull/30769\n                    // @see https://github.com/Microsoft/TypeScript/issues/1863\n                    this[config.updateHandler](result);\n                }\n            },\n            updated: {\n                value: function (changedProperties) {\n                    // Always invoke updates to styles first. This gives a class that\n                    // uses this decorator the opportunity to override the effect, or\n                    // respond to it, in its own implementation of `updated`.\n                    if (changedProperties.has(propertyName)) {\n                        this[$updateEvaluator]();\n                        this[$evaluateAndSync]();\n                    }\n                    originalUpdated.call(this, changedProperties);\n                }\n            },\n            connectedCallback: {\n                value: function () {\n                    originalConnectedCallback.call(this);\n                    this.requestUpdate(propertyName, this[propertyName]);\n                }\n            },\n            disconnectedCallback: {\n                value: function () {\n                    originalDisconnectedCallback.call(this);\n                    if (this[$styleEffector] != null) {\n                        this[$styleEffector].dispose();\n                        this[$styleEffector] = null;\n                    }\n                }\n            }\n        });\n    };\n};\n//# sourceMappingURL=decorators.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2RlY29yYXRvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDcUQ7QUFDRDtBQUNJO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxhQUFhO0FBQ3RELDBDQUEwQyxhQUFhO0FBQ3ZELDJDQUEyQyxhQUFhO0FBQ3hELDJDQUEyQyxhQUFhO0FBQ3hEO0FBQ0EsZ0NBQWdDLDZCQUE2QjtBQUM3RCxpQ0FBaUMsNkJBQTZCO0FBQzlEO0FBQ0E7QUFDQSxnQ0FBZ0MsaUVBQWdCO0FBQ2hEO0FBQ0EsNEJBQTRCLDhEQUFjO0FBQzFDO0FBQ0E7QUFDQSxnQ0FBZ0MsaUVBQWE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2RlY29yYXRvcnMuanM/ODZkNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBTdHlsZUV2YWx1YXRvciB9IGZyb20gJy4vc3R5bGVzL2V2YWx1YXRvcnMnO1xuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9ucyB9IGZyb20gJy4vc3R5bGVzL3BhcnNlcnMnO1xuaW1wb3J0IHsgU3R5bGVFZmZlY3RvciB9IGZyb20gJy4vc3R5bGVzL3N0eWxlLWVmZmVjdG9yJztcbi8qKlxuICogVGhlIEBzdHlsZSBkZWNvcmF0b3IgaXMgcmVzcG9uc2libGUgZm9yIGNvb3JkaW5hdGluZyB0aGUgY29udmVyc2lvbiBvZiBhXG4gKiBDU1MtbGlrZSBzdHJpbmcgcHJvcGVydHkgdmFsdWUgaW50byBudW1iZXJzIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG9cbiAqIGxvd2VyLWxldmVsIGNvbnN0cnVjdHMuIEl0IGFsc28gY2FuIG9wdGlvbmFsbHkgbWFuYWdlIHRoZSBsaWZlY3ljbGUgb2YgYVxuICogU3R5bGVFZmZlY3RvciB3aGljaCBhbGxvd3MgYXV0b21hdGljIHVwZGF0ZXMgZm9yIHN0eWxlcyB0aGF0IHVzZSBlbnYoKSBvclxuICogdmFyKCkgZnVuY3Rpb25zLlxuICpcbiAqIFRoZSBkZWNvcmF0b3IgaXMgY29uZmlndXJlZCB3aXRoIEludHJpbnNpY3MgYW5kIHRoZSBwcm9wZXJ0eSBrZXkgZm9yIGFcbiAqIG1ldGhvZCB0aGF0IGhhbmRsZXMgdXBkYXRlcy4gVGhlIG5hbWVkIHVwZGF0ZSBoYW5kbGVyIGlzIGludm9rZWQgd2l0aCB0aGVcbiAqIHJlc3VsdCBvZiBwYXJzaW5nIGFuZCBldmFsdWF0aW5nIHRoZSByYXcgcHJvcGVydHkgc3RyaW5nIHZhbHVlLiBUaGUgZm9ybWF0IG9mXG4gKiB0aGUgZXZhbHVhdGVkIHJlc3VsdCBpcyBkZXJpdmVkIGZyb20gdGhlIGJhc2lzIG9mIHRoZSBjb25maWd1cmVkIEludHJpbnNpY3MsXG4gKiBhbmQgaXMgYWx3YXlzIGFuIGFycmF5IG9mIG51bWJlcnMgb2YgZml4ZWQgbGVuZ3RoLlxuICpcbiAqIE5PVEU6IFRoaXMgZGVjb3JhdG9yIGRlcGVuZHMgb24gdGhlIHByb3BlcnR5IHVwZGF0aW5nIG1lY2hhbmlzbSBkZWZpbmVkIGJ5XG4gKiBVcGRhdGluZ0VsZW1lbnQgYXMgZXhwb3J0ZWQgYnkgdGhlIGxpdC1lbGVtZW50IG1vZHVsZS4gVGhhdCBtZWFucyBpdCAqbXVzdCpcbiAqIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgQHByb3BlcnR5IGRlY29yYXRvciwgb3IgZXF1aXZhbGVudFxuICogSmF2YVNjcmlwdC5cbiAqXG4gKiBTdXBwb3J0ZWQgY29uZmlndXJhdGlvbnMgYXJlOlxuICpcbiAqICAtIGBpbnRyaW5zaWNzYDogQW4gSW50cmluc2ljcyBzdHJ1Y3QgdGhhdCBkZXNjcmliZXMgaG93IHRvIGludGVycHJldCBhXG4gKiBzZXJpYWxpemVkIHN0eWxlIGF0dHJpYnV0ZS4gRm9yIG1vcmUgZGV0YWlsIG9uIGludHJpbnNpY3Mgc2VlXG4gKiAuL3N0eWxlcy9ldmFsdWF0b3JzLnRzXG4gKiAgLSBgdXBkYXRlSGFuZGxlcmA6IEEgc3RyaW5nIG9yIFN5bWJvbCB0aGF0IGlzIHRoZSBrZXkgb2YgYSBtZXRob2QgdG8gYmVcbiAqIGludm9rZWQgd2l0aCB0aGUgcmVzdWx0IG9mIHBhcnNpbmcgYW5kIGV2YWx1YXRpbmcgYSBzZXJpYWxpemVkIHN0eWxlIHN0cmluZy5cbiAqICAtIGBvYnNlcnZlRWZmZWN0c2A6IE9wdGlvbmFsLCBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHN0eWxlcyB0aGF0IHVzZSBlbnYoKSB3aWxsXG4gKiBjYXVzZSB0aGVpciB1cGRhdGUgaGFuZGxlcnMgdG8gYmUgaW52b2tlZCBldmVyeSB0aW1lIHRoZSBjb3JyZXNwb25kaW5nXG4gKiBlbnZpcm9ubWVudCB2YXJpYWJsZSBjaGFuZ2VzIChldmVuIGlmIHRoZSBzdHlsZSBhdHRyaWJ1dGUgaXRzZWxmIHJlbWFpbnNcbiAqIHN0YXRpYykuXG4gKi9cbmV4cG9ydCBjb25zdCBzdHlsZSA9IChjb25maWcpID0+IHtcbiAgICBjb25zdCBvYnNlcnZlRWZmZWN0cyA9IGNvbmZpZy5vYnNlcnZlRWZmZWN0cyB8fCBmYWxzZTtcbiAgICBjb25zdCBnZXRJbnRyaW5zaWNzID0gY29uZmlnLmludHJpbnNpY3MgaW5zdGFuY2VvZiBGdW5jdGlvbiA/XG4gICAgICAgIGNvbmZpZy5pbnRyaW5zaWNzIDpcbiAgICAgICAgKCgpID0+IGNvbmZpZy5pbnRyaW5zaWNzKTtcbiAgICByZXR1cm4gKHByb3RvLCBwcm9wZXJ0eU5hbWUpID0+IHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxVcGRhdGVkID0gcHJvdG8udXBkYXRlZDtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxDb25uZWN0ZWRDYWxsYmFjayA9IHByb3RvLmNvbm5lY3RlZENhbGxiYWNrO1xuICAgICAgICBjb25zdCBvcmlnaW5hbERpc2Nvbm5lY3RlZENhbGxiYWNrID0gcHJvdG8uZGlzY29ubmVjdGVkQ2FsbGJhY2s7XG4gICAgICAgIGNvbnN0ICRzdHlsZUVmZmVjdG9yID0gU3ltYm9sKGAke3Byb3BlcnR5TmFtZX1TdHlsZUVmZmVjdG9yYCk7XG4gICAgICAgIGNvbnN0ICRzdHlsZUV2YWx1YXRvciA9IFN5bWJvbChgJHtwcm9wZXJ0eU5hbWV9U3R5bGVFdmFsdWF0b3JgKTtcbiAgICAgICAgY29uc3QgJHVwZGF0ZUV2YWx1YXRvciA9IFN5bWJvbChgJHtwcm9wZXJ0eU5hbWV9VXBkYXRlRXZhbHVhdG9yYCk7XG4gICAgICAgIGNvbnN0ICRldmFsdWF0ZUFuZFN5bmMgPSBTeW1ib2woYCR7cHJvcGVydHlOYW1lfUV2YWx1YXRlQW5kU3luY2ApO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm90bywge1xuICAgICAgICAgICAgWyRzdHlsZUVmZmVjdG9yXTogeyB2YWx1ZTogbnVsbCwgd3JpdGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgIFskc3R5bGVFdmFsdWF0b3JdOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgWyR1cGRhdGVFdmFsdWF0b3JdOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXN0ID0gcGFyc2VFeHByZXNzaW9ucyh0aGlzW3Byb3BlcnR5TmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRzdHlsZUV2YWx1YXRvcl0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFN0eWxlRXZhbHVhdG9yKGFzdCwgZ2V0SW50cmluc2ljcyh0aGlzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzWyRzdHlsZUVmZmVjdG9yXSA9PSBudWxsICYmIG9ic2VydmVFZmZlY3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRzdHlsZUVmZmVjdG9yXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFN0eWxlRWZmZWN0b3IoKCkgPT4gdGhpc1skZXZhbHVhdGVBbmRTeW5jXSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1skc3R5bGVFZmZlY3Rvcl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skc3R5bGVFZmZlY3Rvcl0ub2JzZXJ2ZUVmZmVjdHNGb3IoYXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBbJGV2YWx1YXRlQW5kU3luY106IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1skc3R5bGVFdmFsdWF0b3JdID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzWyRzdHlsZUV2YWx1YXRvcl0uZXZhbHVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvcHVsbC8zMDc2OVxuICAgICAgICAgICAgICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTg2M1xuICAgICAgICAgICAgICAgICAgICB0aGlzW2NvbmZpZy51cGRhdGVIYW5kbGVyXShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVkOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChjaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbHdheXMgaW52b2tlIHVwZGF0ZXMgdG8gc3R5bGVzIGZpcnN0LiBUaGlzIGdpdmVzIGEgY2xhc3MgdGhhdFxuICAgICAgICAgICAgICAgICAgICAvLyB1c2VzIHRoaXMgZGVjb3JhdG9yIHRoZSBvcHBvcnR1bml0eSB0byBvdmVycmlkZSB0aGUgZWZmZWN0LCBvclxuICAgICAgICAgICAgICAgICAgICAvLyByZXNwb25kIHRvIGl0LCBpbiBpdHMgb3duIGltcGxlbWVudGF0aW9uIG9mIGB1cGRhdGVkYC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcyhwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVFdmFsdWF0b3JdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRldmFsdWF0ZUFuZFN5bmNdKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxVcGRhdGVkLmNhbGwodGhpcywgY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25uZWN0ZWRDYWxsYmFjazoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29ubmVjdGVkQ2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKHByb3BlcnR5TmFtZSwgdGhpc1twcm9wZXJ0eU5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2s6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbERpc2Nvbm5lY3RlZENhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzWyRzdHlsZUVmZmVjdG9yXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRzdHlsZUVmZmVjdG9yXS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRzdHlsZUVmZmVjdG9yXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb3JhdG9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/decorators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/animation.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/animation.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnimationMixin: () => (/* binding */ AnimationMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\nconst MILLISECONDS_PER_SECOND = 1000.0;\nconst $changeAnimation = Symbol('changeAnimation');\nconst $paused = Symbol('paused');\nconst DEFAULT_PLAY_OPTIONS = {\n    repetitions: Infinity,\n    pingpong: false\n};\nconst AnimationMixin = (ModelViewerElement) => {\n    var _a;\n    class AnimationModelViewerElement extends ModelViewerElement {\n        constructor(...args) {\n            super(args);\n            this.autoplay = false;\n            this.animationName = undefined;\n            this.animationCrossfadeDuration = 300;\n            this[_a] = true;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].subscribeMixerEvent('loop', (e) => {\n                const count = e.action._loopCount;\n                this.dispatchEvent(new CustomEvent('loop', { detail: { count } }));\n            });\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].subscribeMixerEvent('finished', () => {\n                this[$paused] = true;\n                this.dispatchEvent(new CustomEvent('finished'));\n            });\n        }\n        /**\n         * Returns an array\n         */\n        get availableAnimations() {\n            if (this.loaded) {\n                return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationNames;\n            }\n            return [];\n        }\n        get duration() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].duration;\n        }\n        get paused() {\n            return this[$paused];\n        }\n        get currentTime() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTime;\n        }\n        set currentTime(value) {\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTime = value;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n        }\n        get timeScale() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTimeScale;\n        }\n        set timeScale(value) {\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].animationTimeScale = value;\n        }\n        pause() {\n            if (this[$paused]) {\n                return;\n            }\n            this[$paused] = true;\n            this.dispatchEvent(new CustomEvent('pause'));\n        }\n        play(options) {\n            if (this.availableAnimations.length > 0) {\n                this[$paused] = false;\n                this[$changeAnimation](options);\n                this.dispatchEvent(new CustomEvent('play'));\n            }\n        }\n        [(_a = $paused, _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad)]() {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad]();\n            this[$paused] = true;\n            if (this.autoplay) {\n                this.play();\n            }\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$tick](_time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$tick](_time, delta);\n            if (this[$paused] ||\n                (!this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$getModelIsVisible]() && !this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].isPresenting)) {\n                return;\n            }\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].updateAnimation(delta / MILLISECONDS_PER_SECOND);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has('autoplay') && this.autoplay) {\n                this.play();\n            }\n            if (changedProperties.has('animationName')) {\n                this[$changeAnimation]();\n            }\n        }\n        [$changeAnimation](options = DEFAULT_PLAY_OPTIONS) {\n            var _b;\n            const repetitions = (_b = options.repetitions) !== null && _b !== void 0 ? _b : Infinity;\n            const mode = options.pingpong ?\n                three__WEBPACK_IMPORTED_MODULE_2__.LoopPingPong :\n                (repetitions === 1 ? three__WEBPACK_IMPORTED_MODULE_2__.LoopOnce : three__WEBPACK_IMPORTED_MODULE_2__.LoopRepeat);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].playAnimation(this.animationName, this.animationCrossfadeDuration / MILLISECONDS_PER_SECOND, mode, repetitions);\n            // If we are currently paused, we need to force a render so that\n            // the scene updates to the first frame of the new animation\n            if (this[$paused]) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].updateAnimation(0);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean })\n    ], AnimationModelViewerElement.prototype, \"autoplay\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'animation-name' })\n    ], AnimationModelViewerElement.prototype, \"animationName\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Number, attribute: 'animation-crossfade-duration' })\n    ], AnimationModelViewerElement.prototype, \"animationCrossfadeDuration\", void 0);\n    return AnimationModelViewerElement;\n};\n//# sourceMappingURL=animation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2FuaW1hdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFJLElBQUksU0FBSTtBQUM5QjtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUM2QztBQUNjO0FBQ3dEO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFNO0FBQ3ZCO0FBQ0EsNkRBQTZELFVBQVUsU0FBUztBQUNoRixhQUFhO0FBQ2IsaUJBQWlCLHlEQUFNO0FBQ3ZCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlEQUFNO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlEQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseURBQU07QUFDOUI7QUFDQTtBQUNBLGlCQUFpQix5REFBTTtBQUN2QixpQkFBaUIsK0RBQVk7QUFDN0I7QUFDQTtBQUNBLHdCQUF3Qix5REFBTTtBQUM5QjtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrREFBWTtBQUNwQyxrQkFBa0IsK0RBQVk7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQUs7QUFDZCxrQkFBa0Isd0RBQUs7QUFDdkI7QUFDQSx1QkFBdUIscUVBQWtCLGFBQWEsNERBQVM7QUFDL0Q7QUFDQTtBQUNBLGlCQUFpQix5REFBTTtBQUN2QixpQkFBaUIsK0RBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrQ0FBWTtBQUM1QixxQ0FBcUMsMkNBQVEsR0FBRyw2Q0FBVTtBQUMxRCxpQkFBaUIseURBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlEQUFNO0FBQzNCLHFCQUFxQiwrREFBWTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkRBQVEsR0FBRyxlQUFlO0FBQ2xDO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsMkNBQTJDO0FBQzlEO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcseURBQXlEO0FBQzVFO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvYW5pbWF0aW9uLmpzPzg3ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBMb29wT25jZSwgTG9vcFBpbmdQb25nLCBMb29wUmVwZWF0IH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgJGdldE1vZGVsSXNWaXNpYmxlLCAkbmVlZHNSZW5kZXIsICRvbk1vZGVsTG9hZCwgJHJlbmRlcmVyLCAkc2NlbmUsICR0aWNrIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuY29uc3QgTUlMTElTRUNPTkRTX1BFUl9TRUNPTkQgPSAxMDAwLjA7XG5jb25zdCAkY2hhbmdlQW5pbWF0aW9uID0gU3ltYm9sKCdjaGFuZ2VBbmltYXRpb24nKTtcbmNvbnN0ICRwYXVzZWQgPSBTeW1ib2woJ3BhdXNlZCcpO1xuY29uc3QgREVGQVVMVF9QTEFZX09QVElPTlMgPSB7XG4gICAgcmVwZXRpdGlvbnM6IEluZmluaXR5LFxuICAgIHBpbmdwb25nOiBmYWxzZVxufTtcbmV4cG9ydCBjb25zdCBBbmltYXRpb25NaXhpbiA9IChNb2RlbFZpZXdlckVsZW1lbnQpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY2xhc3MgQW5pbWF0aW9uTW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICAgICAgc3VwZXIoYXJncyk7XG4gICAgICAgICAgICB0aGlzLmF1dG9wbGF5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNyb3NzZmFkZUR1cmF0aW9uID0gMzAwO1xuICAgICAgICAgICAgdGhpc1tfYV0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpc1skc2NlbmVdLnN1YnNjcmliZU1peGVyRXZlbnQoJ2xvb3AnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZS5hY3Rpb24uX2xvb3BDb3VudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb29wJywgeyBkZXRhaWw6IHsgY291bnQgfSB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5zdWJzY3JpYmVNaXhlckV2ZW50KCdmaW5pc2hlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzWyRwYXVzZWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdmaW5pc2hlZCcpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGFuIGFycmF5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQgYXZhaWxhYmxlQW5pbWF0aW9ucygpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzWyRzY2VuZV0uYW5pbWF0aW9uTmFtZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJHNjZW5lXS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBnZXQgcGF1c2VkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJHBhdXNlZF07XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJHNjZW5lXS5hbmltYXRpb25UaW1lO1xuICAgICAgICB9XG4gICAgICAgIHNldCBjdXJyZW50VGltZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpc1skc2NlbmVdLmFuaW1hdGlvblRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICB9XG4gICAgICAgIGdldCB0aW1lU2NhbGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skc2NlbmVdLmFuaW1hdGlvblRpbWVTY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgdGltZVNjYWxlKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzWyRzY2VuZV0uYW5pbWF0aW9uVGltZVNjYWxlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAodGhpc1skcGF1c2VkXSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJHBhdXNlZF0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGF1c2UnKSk7XG4gICAgICAgIH1cbiAgICAgICAgcGxheShvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdmFpbGFibGVBbmltYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRwYXVzZWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpc1skY2hhbmdlQW5pbWF0aW9uXShvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdwbGF5JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFsoX2EgPSAkcGF1c2VkLCAkb25Nb2RlbExvYWQpXSgpIHtcbiAgICAgICAgICAgIHN1cGVyWyRvbk1vZGVsTG9hZF0oKTtcbiAgICAgICAgICAgIHRoaXNbJHBhdXNlZF0gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBbJHRpY2tdKF90aW1lLCBkZWx0YSkge1xuICAgICAgICAgICAgc3VwZXJbJHRpY2tdKF90aW1lLCBkZWx0YSk7XG4gICAgICAgICAgICBpZiAodGhpc1skcGF1c2VkXSB8fFxuICAgICAgICAgICAgICAgICghdGhpc1skZ2V0TW9kZWxJc1Zpc2libGVdKCkgJiYgIXRoaXNbJHJlbmRlcmVyXS5pc1ByZXNlbnRpbmcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1skc2NlbmVdLnVwZGF0ZUFuaW1hdGlvbihkZWx0YSAvIE1JTExJU0VDT05EU19QRVJfU0VDT05EKTtcbiAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYXV0b3BsYXknKSAmJiB0aGlzLmF1dG9wbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhbmltYXRpb25OYW1lJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRjaGFuZ2VBbmltYXRpb25dKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgWyRjaGFuZ2VBbmltYXRpb25dKG9wdGlvbnMgPSBERUZBVUxUX1BMQVlfT1BUSU9OUykge1xuICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgY29uc3QgcmVwZXRpdGlvbnMgPSAoX2IgPSBvcHRpb25zLnJlcGV0aXRpb25zKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBJbmZpbml0eTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGUgPSBvcHRpb25zLnBpbmdwb25nID9cbiAgICAgICAgICAgICAgICBMb29wUGluZ1BvbmcgOlxuICAgICAgICAgICAgICAgIChyZXBldGl0aW9ucyA9PT0gMSA/IExvb3BPbmNlIDogTG9vcFJlcGVhdCk7XG4gICAgICAgICAgICB0aGlzWyRzY2VuZV0ucGxheUFuaW1hdGlvbih0aGlzLmFuaW1hdGlvbk5hbWUsIHRoaXMuYW5pbWF0aW9uQ3Jvc3NmYWRlRHVyYXRpb24gLyBNSUxMSVNFQ09ORFNfUEVSX1NFQ09ORCwgbW9kZSwgcmVwZXRpdGlvbnMpO1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGN1cnJlbnRseSBwYXVzZWQsIHdlIG5lZWQgdG8gZm9yY2UgYSByZW5kZXIgc28gdGhhdFxuICAgICAgICAgICAgLy8gdGhlIHNjZW5lIHVwZGF0ZXMgdG8gdGhlIGZpcnN0IGZyYW1lIG9mIHRoZSBuZXcgYW5pbWF0aW9uXG4gICAgICAgICAgICBpZiAodGhpc1skcGF1c2VkXSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS51cGRhdGVBbmltYXRpb24oMCk7XG4gICAgICAgICAgICAgICAgdGhpc1skbmVlZHNSZW5kZXJdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiB9KVxuICAgIF0sIEFuaW1hdGlvbk1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiYXV0b3BsYXlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FuaW1hdGlvbi1uYW1lJyB9KVxuICAgIF0sIEFuaW1hdGlvbk1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiYW5pbWF0aW9uTmFtZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciwgYXR0cmlidXRlOiAnYW5pbWF0aW9uLWNyb3NzZmFkZS1kdXJhdGlvbicgfSlcbiAgICBdLCBBbmltYXRpb25Nb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImFuaW1hdGlvbkNyb3NzZmFkZUR1cmF0aW9uXCIsIHZvaWQgMCk7XG4gICAgcmV0dXJuIEFuaW1hdGlvbk1vZGVsVmlld2VyRWxlbWVudDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/animation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/annotation.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/annotation.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationMixin: () => (/* binding */ AnnotationMixin)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_Hotspot_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../three-components/Hotspot.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\nconst $hotspotMap = Symbol('hotspotMap');\nconst $mutationCallback = Symbol('mutationCallback');\nconst $observer = Symbol('observer');\nconst $addHotspot = Symbol('addHotspot');\nconst $removeHotspot = Symbol('removeHotspot');\nconst worldToModel = new three__WEBPACK_IMPORTED_MODULE_2__.Matrix4();\nconst worldToModelNormal = new three__WEBPACK_IMPORTED_MODULE_2__.Matrix3();\n/**\n * AnnotationMixin implements a declarative API to add hotspots and annotations.\n * Child elements of the <model-viewer> element that have a slot name that\n * begins with \"hotspot\" and data-position and data-normal attributes in\n * the format of the camera-target attribute will be added to the scene and\n * track the specified model coordinates.\n */\nconst AnnotationMixin = (ModelViewerElement) => {\n    var _a, _b, _c;\n    class AnnotationModelViewerElement extends ModelViewerElement {\n        constructor() {\n            super(...arguments);\n            this[_a] = new Map();\n            this[_b] = (mutations) => {\n                mutations.forEach((mutation) => {\n                    // NOTE: Be wary that in ShadyDOM cases, the MutationRecord\n                    // only has addedNodes and removedNodes (and no other details).\n                    if (!(mutation instanceof MutationRecord) ||\n                        mutation.type === 'childList') {\n                        mutation.addedNodes.forEach((node) => {\n                            this[$addHotspot](node);\n                        });\n                        mutation.removedNodes.forEach((node) => {\n                            this[$removeHotspot](node);\n                        });\n                        this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$needsRender]();\n                    }\n                });\n            };\n            this[_c] = new MutationObserver(this[$mutationCallback]);\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            for (let i = 0; i < this.children.length; ++i) {\n                this[$addHotspot](this.children[i]);\n            }\n            const { ShadyDOM } = self;\n            if (ShadyDOM == null) {\n                this[$observer].observe(this, { childList: true });\n            }\n            else {\n                this[$observer] =\n                    ShadyDOM.observeChildren(this, this[$mutationCallback]);\n            }\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            const { ShadyDOM } = self;\n            if (ShadyDOM == null) {\n                this[$observer].disconnect();\n            }\n            else {\n                ShadyDOM.unobserveChildren(this[$observer]);\n            }\n        }\n        [(_a = $hotspotMap, _b = $mutationCallback, _c = $observer, _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$tick)](time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$tick](time, delta);\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene];\n            const { annotationRenderer } = scene;\n            const camera = scene.getCamera();\n            if (scene.shouldRender()) {\n                scene.updateHotspots(camera.position);\n                annotationRenderer.domElement.style.display = '';\n                annotationRenderer.render(scene, camera);\n            }\n        }\n        /**\n         * Since the data-position and data-normal attributes are not observed, use\n         * this method to move a hotspot. Keep in mind that all hotspots with the\n         * same slot name use a single location and the first definition takes\n         * precedence, until updated with this method.\n         */\n        updateHotspot(config) {\n            const hotspot = this[$hotspotMap].get(config.name);\n            if (hotspot == null) {\n                return;\n            }\n            hotspot.updatePosition(config.position);\n            hotspot.updateNormal(config.normal);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$needsRender]();\n        }\n        /**\n         * This method returns in-scene data about a requested hotspot including\n         * its position in screen (canvas) space and its current visibility.\n         */\n        queryHotspot(name) {\n            const hotspot = this[$hotspotMap].get(name);\n            if (hotspot == null) {\n                return null;\n            }\n            const position = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hotspot.position);\n            const normal = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hotspot.normal);\n            const facingCamera = hotspot.facingCamera;\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene];\n            const camera = scene.getCamera();\n            const vector = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n            vector.setFromMatrixPosition(hotspot.matrixWorld);\n            vector.project(camera);\n            const widthHalf = scene.width / 2;\n            const heightHalf = scene.height / 2;\n            vector.x = (vector.x * widthHalf) + widthHalf;\n            vector.y = -(vector.y * heightHalf) + heightHalf;\n            const canvasPosition = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(vector.x, vector.y, vector.z));\n            if (!Number.isFinite(canvasPosition.x) ||\n                !Number.isFinite(canvasPosition.y)) {\n                return null;\n            }\n            return { position, normal, canvasPosition, facingCamera };\n        }\n        /**\n         * This method returns the model position, normal and texture coordinate\n         * of the point on the mesh corresponding to the input pixel coordinates\n         * given relative to the model-viewer element. The position and normal\n         * are returned as strings in the format suitable for putting in a\n         * hotspot's data-position and data-normal attributes. If the mesh is\n         * not hit, the result is null.\n         */\n        positionAndNormalFromPoint(pixelX, pixelY) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene];\n            const ndcPosition = scene.getNDC(pixelX, pixelY);\n            const hit = scene.positionAndNormalFromPoint(ndcPosition);\n            if (hit == null) {\n                return null;\n            }\n            worldToModel.copy(scene.target.matrixWorld).invert();\n            const position = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hit.position.applyMatrix4(worldToModel));\n            worldToModelNormal.getNormalMatrix(worldToModel);\n            const normal = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector3D)(hit.normal.applyNormalMatrix(worldToModelNormal));\n            let uv = null;\n            if (hit.uv != null) {\n                uv = (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.toVector2D)(hit.uv);\n            }\n            return { position: position, normal: normal, uv: uv };\n        }\n        [$addHotspot](node) {\n            if (!(node instanceof HTMLElement &&\n                node.slot.indexOf('hotspot') === 0)) {\n                return;\n            }\n            let hotspot = this[$hotspotMap].get(node.slot);\n            if (hotspot != null) {\n                hotspot.increment();\n            }\n            else {\n                hotspot = new _three_components_Hotspot_js__WEBPACK_IMPORTED_MODULE_1__.Hotspot({\n                    name: node.slot,\n                    position: node.dataset.position,\n                    normal: node.dataset.normal,\n                });\n                this[$hotspotMap].set(node.slot, hotspot);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].addHotspot(hotspot);\n            }\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].queueRender();\n        }\n        [$removeHotspot](node) {\n            if (!(node instanceof HTMLElement)) {\n                return;\n            }\n            const hotspot = this[$hotspotMap].get(node.slot);\n            if (!hotspot) {\n                return;\n            }\n            if (hotspot.decrement()) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].removeHotspot(hotspot);\n                this[$hotspotMap].delete(node.slot);\n            }\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.$scene].queueRender();\n        }\n    }\n    return AnnotationModelViewerElement;\n};\n//# sourceMappingURL=annotation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2Fubm90YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDa0Q7QUFDNEM7QUFDckM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwwQ0FBTztBQUNoQywrQkFBK0IsMENBQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsNkJBQTZCLCtEQUFZO0FBQ3pDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMEJBQTBCO0FBQ3REO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBLGdEQUFnRCxpQkFBaUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLHdEQUFLO0FBQ3pFLGtCQUFrQix3REFBSztBQUN2QiwrQkFBK0IseURBQU07QUFDckMsb0JBQW9CLHFCQUFxQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLCtEQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGlFQUFVO0FBQ3ZDLDJCQUEyQixpRUFBVTtBQUNyQztBQUNBLCtCQUErQix5REFBTTtBQUNyQztBQUNBLCtCQUErQiwwQ0FBTztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsaUVBQVUsS0FBSywwQ0FBTztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBTTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUVBQVU7QUFDdkM7QUFDQSwyQkFBMkIsaUVBQVU7QUFDckM7QUFDQTtBQUNBLHFCQUFxQixpRUFBVTtBQUMvQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlFQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLHFCQUFxQix5REFBTTtBQUMzQjtBQUNBLGlCQUFpQix5REFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBTTtBQUMzQjtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9mZWF0dXJlcy9hbm5vdGF0aW9uLmpzPzNhZjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgTWF0cml4MywgTWF0cml4NCwgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7ICRuZWVkc1JlbmRlciwgJHNjZW5lLCAkdGljaywgdG9WZWN0b3IyRCwgdG9WZWN0b3IzRCB9IGZyb20gJy4uL21vZGVsLXZpZXdlci1iYXNlLmpzJztcbmltcG9ydCB7IEhvdHNwb3QgfSBmcm9tICcuLi90aHJlZS1jb21wb25lbnRzL0hvdHNwb3QuanMnO1xuY29uc3QgJGhvdHNwb3RNYXAgPSBTeW1ib2woJ2hvdHNwb3RNYXAnKTtcbmNvbnN0ICRtdXRhdGlvbkNhbGxiYWNrID0gU3ltYm9sKCdtdXRhdGlvbkNhbGxiYWNrJyk7XG5jb25zdCAkb2JzZXJ2ZXIgPSBTeW1ib2woJ29ic2VydmVyJyk7XG5jb25zdCAkYWRkSG90c3BvdCA9IFN5bWJvbCgnYWRkSG90c3BvdCcpO1xuY29uc3QgJHJlbW92ZUhvdHNwb3QgPSBTeW1ib2woJ3JlbW92ZUhvdHNwb3QnKTtcbmNvbnN0IHdvcmxkVG9Nb2RlbCA9IG5ldyBNYXRyaXg0KCk7XG5jb25zdCB3b3JsZFRvTW9kZWxOb3JtYWwgPSBuZXcgTWF0cml4MygpO1xuLyoqXG4gKiBBbm5vdGF0aW9uTWl4aW4gaW1wbGVtZW50cyBhIGRlY2xhcmF0aXZlIEFQSSB0byBhZGQgaG90c3BvdHMgYW5kIGFubm90YXRpb25zLlxuICogQ2hpbGQgZWxlbWVudHMgb2YgdGhlIDxtb2RlbC12aWV3ZXI+IGVsZW1lbnQgdGhhdCBoYXZlIGEgc2xvdCBuYW1lIHRoYXRcbiAqIGJlZ2lucyB3aXRoIFwiaG90c3BvdFwiIGFuZCBkYXRhLXBvc2l0aW9uIGFuZCBkYXRhLW5vcm1hbCBhdHRyaWJ1dGVzIGluXG4gKiB0aGUgZm9ybWF0IG9mIHRoZSBjYW1lcmEtdGFyZ2V0IGF0dHJpYnV0ZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzY2VuZSBhbmRcbiAqIHRyYWNrIHRoZSBzcGVjaWZpZWQgbW9kZWwgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBBbm5vdGF0aW9uTWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY2xhc3MgQW5ub3RhdGlvbk1vZGVsVmlld2VyRWxlbWVudCBleHRlbmRzIE1vZGVsVmlld2VyRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgICAgIHRoaXNbX2FdID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgdGhpc1tfYl0gPSAobXV0YXRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goKG11dGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IEJlIHdhcnkgdGhhdCBpbiBTaGFkeURPTSBjYXNlcywgdGhlIE11dGF0aW9uUmVjb3JkXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgaGFzIGFkZGVkTm9kZXMgYW5kIHJlbW92ZWROb2RlcyAoYW5kIG5vIG90aGVyIGRldGFpbHMpLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIShtdXRhdGlvbiBpbnN0YW5jZW9mIE11dGF0aW9uUmVjb3JkKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb24udHlwZSA9PT0gJ2NoaWxkTGlzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uLmFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJGFkZEhvdHNwb3RdKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbi5yZW1vdmVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJHJlbW92ZUhvdHNwb3RdKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbX2NdID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpc1skbXV0YXRpb25DYWxsYmFja10pO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGFkZEhvdHNwb3RdKHRoaXMuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBTaGFkeURPTSB9ID0gc2VsZjtcbiAgICAgICAgICAgIGlmIChTaGFkeURPTSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skb2JzZXJ2ZXJdLm9ic2VydmUodGhpcywgeyBjaGlsZExpc3Q6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRvYnNlcnZlcl0gPVxuICAgICAgICAgICAgICAgICAgICBTaGFkeURPTS5vYnNlcnZlQ2hpbGRyZW4odGhpcywgdGhpc1skbXV0YXRpb25DYWxsYmFja10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIGNvbnN0IHsgU2hhZHlET00gfSA9IHNlbGY7XG4gICAgICAgICAgICBpZiAoU2hhZHlET00gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJG9ic2VydmVyXS5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBTaGFkeURPTS51bm9ic2VydmVDaGlsZHJlbih0aGlzWyRvYnNlcnZlcl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFsoX2EgPSAkaG90c3BvdE1hcCwgX2IgPSAkbXV0YXRpb25DYWxsYmFjaywgX2MgPSAkb2JzZXJ2ZXIsICR0aWNrKV0odGltZSwgZGVsdGEpIHtcbiAgICAgICAgICAgIHN1cGVyWyR0aWNrXSh0aW1lLCBkZWx0YSk7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGNvbnN0IHsgYW5ub3RhdGlvblJlbmRlcmVyIH0gPSBzY2VuZTtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYSA9IHNjZW5lLmdldENhbWVyYSgpO1xuICAgICAgICAgICAgaWYgKHNjZW5lLnNob3VsZFJlbmRlcigpKSB7XG4gICAgICAgICAgICAgICAgc2NlbmUudXBkYXRlSG90c3BvdHMoY2FtZXJhLnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uUmVuZGVyZXIuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvblJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogU2luY2UgdGhlIGRhdGEtcG9zaXRpb24gYW5kIGRhdGEtbm9ybWFsIGF0dHJpYnV0ZXMgYXJlIG5vdCBvYnNlcnZlZCwgdXNlXG4gICAgICAgICAqIHRoaXMgbWV0aG9kIHRvIG1vdmUgYSBob3RzcG90LiBLZWVwIGluIG1pbmQgdGhhdCBhbGwgaG90c3BvdHMgd2l0aCB0aGVcbiAgICAgICAgICogc2FtZSBzbG90IG5hbWUgdXNlIGEgc2luZ2xlIGxvY2F0aW9uIGFuZCB0aGUgZmlyc3QgZGVmaW5pdGlvbiB0YWtlc1xuICAgICAgICAgKiBwcmVjZWRlbmNlLCB1bnRpbCB1cGRhdGVkIHdpdGggdGhpcyBtZXRob2QuXG4gICAgICAgICAqL1xuICAgICAgICB1cGRhdGVIb3RzcG90KGNvbmZpZykge1xuICAgICAgICAgICAgY29uc3QgaG90c3BvdCA9IHRoaXNbJGhvdHNwb3RNYXBdLmdldChjb25maWcubmFtZSk7XG4gICAgICAgICAgICBpZiAoaG90c3BvdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaG90c3BvdC51cGRhdGVQb3NpdGlvbihjb25maWcucG9zaXRpb24pO1xuICAgICAgICAgICAgaG90c3BvdC51cGRhdGVOb3JtYWwoY29uZmlnLm5vcm1hbCk7XG4gICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBpbi1zY2VuZSBkYXRhIGFib3V0IGEgcmVxdWVzdGVkIGhvdHNwb3QgaW5jbHVkaW5nXG4gICAgICAgICAqIGl0cyBwb3NpdGlvbiBpbiBzY3JlZW4gKGNhbnZhcykgc3BhY2UgYW5kIGl0cyBjdXJyZW50IHZpc2liaWxpdHkuXG4gICAgICAgICAqL1xuICAgICAgICBxdWVyeUhvdHNwb3QobmFtZSkge1xuICAgICAgICAgICAgY29uc3QgaG90c3BvdCA9IHRoaXNbJGhvdHNwb3RNYXBdLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmIChob3RzcG90ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdG9WZWN0b3IzRChob3RzcG90LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IG5vcm1hbCA9IHRvVmVjdG9yM0QoaG90c3BvdC5ub3JtYWwpO1xuICAgICAgICAgICAgY29uc3QgZmFjaW5nQ2FtZXJhID0gaG90c3BvdC5mYWNpbmdDYW1lcmE7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVyYSA9IHNjZW5lLmdldENhbWVyYSgpO1xuICAgICAgICAgICAgY29uc3QgdmVjdG9yID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgICAgIHZlY3Rvci5zZXRGcm9tTWF0cml4UG9zaXRpb24oaG90c3BvdC5tYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICB2ZWN0b3IucHJvamVjdChjYW1lcmEpO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGhIYWxmID0gc2NlbmUud2lkdGggLyAyO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0SGFsZiA9IHNjZW5lLmhlaWdodCAvIDI7XG4gICAgICAgICAgICB2ZWN0b3IueCA9ICh2ZWN0b3IueCAqIHdpZHRoSGFsZikgKyB3aWR0aEhhbGY7XG4gICAgICAgICAgICB2ZWN0b3IueSA9IC0odmVjdG9yLnkgKiBoZWlnaHRIYWxmKSArIGhlaWdodEhhbGY7XG4gICAgICAgICAgICBjb25zdCBjYW52YXNQb3NpdGlvbiA9IHRvVmVjdG9yM0QobmV3IFZlY3RvcjModmVjdG9yLngsIHZlY3Rvci55LCB2ZWN0b3IueikpO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoY2FudmFzUG9zaXRpb24ueCkgfHxcbiAgICAgICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKGNhbnZhc1Bvc2l0aW9uLnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBwb3NpdGlvbiwgbm9ybWFsLCBjYW52YXNQb3NpdGlvbiwgZmFjaW5nQ2FtZXJhIH07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIG1vZGVsIHBvc2l0aW9uLCBub3JtYWwgYW5kIHRleHR1cmUgY29vcmRpbmF0ZVxuICAgICAgICAgKiBvZiB0aGUgcG9pbnQgb24gdGhlIG1lc2ggY29ycmVzcG9uZGluZyB0byB0aGUgaW5wdXQgcGl4ZWwgY29vcmRpbmF0ZXNcbiAgICAgICAgICogZ2l2ZW4gcmVsYXRpdmUgdG8gdGhlIG1vZGVsLXZpZXdlciBlbGVtZW50LiBUaGUgcG9zaXRpb24gYW5kIG5vcm1hbFxuICAgICAgICAgKiBhcmUgcmV0dXJuZWQgYXMgc3RyaW5ncyBpbiB0aGUgZm9ybWF0IHN1aXRhYmxlIGZvciBwdXR0aW5nIGluIGFcbiAgICAgICAgICogaG90c3BvdCdzIGRhdGEtcG9zaXRpb24gYW5kIGRhdGEtbm9ybWFsIGF0dHJpYnV0ZXMuIElmIHRoZSBtZXNoIGlzXG4gICAgICAgICAqIG5vdCBoaXQsIHRoZSByZXN1bHQgaXMgbnVsbC5cbiAgICAgICAgICovXG4gICAgICAgIHBvc2l0aW9uQW5kTm9ybWFsRnJvbVBvaW50KHBpeGVsWCwgcGl4ZWxZKSB7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGNvbnN0IG5kY1Bvc2l0aW9uID0gc2NlbmUuZ2V0TkRDKHBpeGVsWCwgcGl4ZWxZKTtcbiAgICAgICAgICAgIGNvbnN0IGhpdCA9IHNjZW5lLnBvc2l0aW9uQW5kTm9ybWFsRnJvbVBvaW50KG5kY1Bvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChoaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29ybGRUb01vZGVsLmNvcHkoc2NlbmUudGFyZ2V0Lm1hdHJpeFdvcmxkKS5pbnZlcnQoKTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdG9WZWN0b3IzRChoaXQucG9zaXRpb24uYXBwbHlNYXRyaXg0KHdvcmxkVG9Nb2RlbCkpO1xuICAgICAgICAgICAgd29ybGRUb01vZGVsTm9ybWFsLmdldE5vcm1hbE1hdHJpeCh3b3JsZFRvTW9kZWwpO1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsID0gdG9WZWN0b3IzRChoaXQubm9ybWFsLmFwcGx5Tm9ybWFsTWF0cml4KHdvcmxkVG9Nb2RlbE5vcm1hbCkpO1xuICAgICAgICAgICAgbGV0IHV2ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChoaXQudXYgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHV2ID0gdG9WZWN0b3IyRChoaXQudXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgcG9zaXRpb246IHBvc2l0aW9uLCBub3JtYWw6IG5vcm1hbCwgdXY6IHV2IH07XG4gICAgICAgIH1cbiAgICAgICAgWyRhZGRIb3RzcG90XShub2RlKSB7XG4gICAgICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICBub2RlLnNsb3QuaW5kZXhPZignaG90c3BvdCcpID09PSAwKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBob3RzcG90ID0gdGhpc1skaG90c3BvdE1hcF0uZ2V0KG5vZGUuc2xvdCk7XG4gICAgICAgICAgICBpZiAoaG90c3BvdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaG90c3BvdC5pbmNyZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvdHNwb3QgPSBuZXcgSG90c3BvdCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5vZGUuc2xvdCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IG5vZGUuZGF0YXNldC5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsOiBub2RlLmRhdGFzZXQubm9ybWFsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXNbJGhvdHNwb3RNYXBdLnNldChub2RlLnNsb3QsIGhvdHNwb3QpO1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5hZGRIb3RzcG90KGhvdHNwb3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1skc2NlbmVdLnF1ZXVlUmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgWyRyZW1vdmVIb3RzcG90XShub2RlKSB7XG4gICAgICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaG90c3BvdCA9IHRoaXNbJGhvdHNwb3RNYXBdLmdldChub2RlLnNsb3QpO1xuICAgICAgICAgICAgaWYgKCFob3RzcG90KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhvdHNwb3QuZGVjcmVtZW50KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0ucmVtb3ZlSG90c3BvdChob3RzcG90KTtcbiAgICAgICAgICAgICAgICB0aGlzWyRob3RzcG90TWFwXS5kZWxldGUobm9kZS5zbG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5xdWV1ZVJlbmRlcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBBbm5vdGF0aW9uTW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFubm90YXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/annotation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/ar.js":
/*!**************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/ar.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $openIOSARQuickLook: () => (/* binding */ $openIOSARQuickLook),\n/* harmony export */   $openSceneViewer: () => (/* binding */ $openSceneViewer),\n/* harmony export */   ARMixin: () => (/* binding */ ARMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three_examples_jsm_exporters_USDZExporter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/exporters/USDZExporter.js */ \"(ssr)/./node_modules/three/examples/jsm/exporters/USDZExporter.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/constants.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_deserializers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/deserializers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/deserializers.js\");\n/* harmony import */ var _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../three-components/ARRenderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\nlet isWebXRBlocked = false;\nlet isSceneViewerBlocked = false;\nconst noArViewerSigil = '#model-viewer-no-ar-fallback';\nconst deserializeARModes = (0,_styles_deserializers_js__WEBPACK_IMPORTED_MODULE_3__.enumerationDeserializer)(['quick-look', 'scene-viewer', 'webxr', 'none']);\nconst DEFAULT_AR_MODES = 'webxr scene-viewer quick-look';\nconst ARMode = {\n    QUICK_LOOK: 'quick-look',\n    SCENE_VIEWER: 'scene-viewer',\n    WEBXR: 'webxr',\n    NONE: 'none'\n};\nconst $arButtonContainer = Symbol('arButtonContainer');\nconst $enterARWithWebXR = Symbol('enterARWithWebXR');\nconst $openSceneViewer = Symbol('openSceneViewer');\nconst $openIOSARQuickLook = Symbol('openIOSARQuickLook');\nconst $canActivateAR = Symbol('canActivateAR');\nconst $arMode = Symbol('arMode');\nconst $arModes = Symbol('arModes');\nconst $arAnchor = Symbol('arAnchor');\nconst $preload = Symbol('preload');\nconst $onARButtonContainerClick = Symbol('onARButtonContainerClick');\nconst $onARStatus = Symbol('onARStatus');\nconst $onARTracking = Symbol('onARTracking');\nconst $onARTap = Symbol('onARTap');\nconst $selectARMode = Symbol('selectARMode');\nconst $triggerLoad = Symbol('triggerLoad');\nconst ARMixin = (ModelViewerElement) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    class ARModelViewerElement extends ModelViewerElement {\n        constructor() {\n            super(...arguments);\n            this.ar = false;\n            this.arScale = 'auto';\n            this.arPlacement = 'floor';\n            this.arModes = DEFAULT_AR_MODES;\n            this.iosSrc = null;\n            this.xrEnvironment = false;\n            this[_a] = false;\n            // TODO: Add this to the shadow root as part of this mixin's\n            // implementation:\n            this[_b] = this.shadowRoot.querySelector('.ar-button');\n            this[_c] = document.createElement('a');\n            this[_d] = new Set();\n            this[_e] = ARMode.NONE;\n            this[_f] = false;\n            this[_g] = (event) => {\n                event.preventDefault();\n                this.activateAR();\n            };\n            this[_h] = ({ status }) => {\n                if (status === _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.NOT_PRESENTING ||\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.presentedScene === this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene]) {\n                    this.setAttribute('ar-status', status);\n                    this.dispatchEvent(new CustomEvent('ar-status', { detail: { status } }));\n                    if (status === _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.NOT_PRESENTING) {\n                        this.removeAttribute('ar-tracking');\n                    }\n                    else if (status === _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.SESSION_STARTED) {\n                        this.setAttribute('ar-tracking', _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARTracking.TRACKING);\n                    }\n                }\n            };\n            this[_j] = ({ status }) => {\n                this.setAttribute('ar-tracking', status);\n                this.dispatchEvent(new CustomEvent('ar-tracking', { detail: { status } }));\n            };\n            this[_k] = (event) => {\n                if (event.data == '_apple_ar_quicklook_button_tapped') {\n                    this.dispatchEvent(new CustomEvent('quick-look-button-tapped'));\n                }\n            };\n        }\n        get canActivateAR() {\n            return this[$arMode] !== ARMode.NONE;\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.addEventListener('status', this[$onARStatus]);\n            this.setAttribute('ar-status', _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.NOT_PRESENTING);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.addEventListener('tracking', this[$onARTracking]);\n            this[$arAnchor].addEventListener('message', this[$onARTap]);\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.removeEventListener('status', this[$onARStatus]);\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.removeEventListener('tracking', this[$onARTracking]);\n            this[$arAnchor].removeEventListener('message', this[$onARTap]);\n        }\n        update(changedProperties) {\n            super.update(changedProperties);\n            if (changedProperties.has('arScale')) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].canScale = this.arScale !== 'fixed';\n            }\n            if (changedProperties.has('arPlacement')) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].updateShadow();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$needsRender]();\n            }\n            if (changedProperties.has('arModes')) {\n                this[$arModes] = deserializeARModes(this.arModes);\n            }\n            if (changedProperties.has('ar') || changedProperties.has('arModes') ||\n                changedProperties.has('src') || changedProperties.has('iosSrc')) {\n                this[$selectARMode]();\n            }\n        }\n        /**\n         * Activates AR. Note that for any mode that is not WebXR-based, this\n         * method most likely has to be called synchronous from a user\n         * interaction handler. Otherwise, attempts to activate modes that\n         * require user interaction will most likely be ignored.\n         */\n        async activateAR() {\n            switch (this[$arMode]) {\n                case ARMode.QUICK_LOOK:\n                    this[$openIOSARQuickLook]();\n                    break;\n                case ARMode.WEBXR:\n                    await this[$enterARWithWebXR]();\n                    break;\n                case ARMode.SCENE_VIEWER:\n                    this[$openSceneViewer]();\n                    break;\n                default:\n                    console.warn('No AR Mode can be activated. This is probably due to missing \\\nconfiguration or device capabilities');\n                    break;\n            }\n        }\n        async [(_a = $canActivateAR, _b = $arButtonContainer, _c = $arAnchor, _d = $arModes, _e = $arMode, _f = $preload, _g = $onARButtonContainerClick, _h = $onARStatus, _j = $onARTracking, _k = $onARTap, $selectARMode)]() {\n            let arMode = ARMode.NONE;\n            if (this.ar) {\n                if (this.src != null) {\n                    for (const value of this[$arModes]) {\n                        if (value === 'webxr' && _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_WEBXR_AR_CANDIDATE && !isWebXRBlocked &&\n                            await this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.supportsPresentation()) {\n                            arMode = ARMode.WEBXR;\n                            break;\n                        }\n                        if (value === 'scene-viewer' && _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_SCENEVIEWER_CANDIDATE &&\n                            !isSceneViewerBlocked) {\n                            arMode = ARMode.SCENE_VIEWER;\n                            break;\n                        }\n                        if (value === 'quick-look' && _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_AR_QUICKLOOK_CANDIDATE) {\n                            arMode = ARMode.QUICK_LOOK;\n                            break;\n                        }\n                    }\n                }\n                // The presence of ios-src overrides the absence of quick-look\n                // ar-mode.\n                if (arMode === ARMode.NONE && this.iosSrc != null &&\n                    _constants_js__WEBPACK_IMPORTED_MODULE_1__.IS_AR_QUICKLOOK_CANDIDATE) {\n                    arMode = ARMode.QUICK_LOOK;\n                }\n            }\n            if (arMode !== ARMode.NONE) {\n                this[$arButtonContainer].classList.add('enabled');\n                this[$arButtonContainer].addEventListener('click', this[$onARButtonContainerClick]);\n            }\n            else if (this[$arButtonContainer].classList.contains('enabled')) {\n                this[$arButtonContainer].removeEventListener('click', this[$onARButtonContainerClick]);\n                this[$arButtonContainer].classList.remove('enabled');\n                // If AR went from working to not, notify the element.\n                const status = _three_components_ARRenderer_js__WEBPACK_IMPORTED_MODULE_4__.ARStatus.FAILED;\n                this.setAttribute('ar-status', status);\n                this.dispatchEvent(new CustomEvent('ar-status', { detail: { status } }));\n            }\n            this[$arMode] = arMode;\n        }\n        async [$enterARWithWebXR]() {\n            console.log('Attempting to present in AR with WebXR...');\n            await this[$triggerLoad]();\n            try {\n                this[$arButtonContainer].removeEventListener('click', this[$onARButtonContainerClick]);\n                const { arRenderer } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer];\n                arRenderer.placeOnWall = this.arPlacement === 'wall';\n                await arRenderer.present(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene], this.xrEnvironment);\n            }\n            catch (error) {\n                console.warn('Error while trying to present in AR with WebXR');\n                console.error(error);\n                await this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.stopPresenting();\n                isWebXRBlocked = true;\n                console.warn('Falling back to next ar-mode');\n                await this[$selectARMode]();\n                this.activateAR();\n            }\n            finally {\n                this[$selectARMode]();\n            }\n        }\n        async [$triggerLoad]() {\n            if (!this.loaded) {\n                this[$preload] = true;\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$updateSource]();\n                await (0,_utilities_js__WEBPACK_IMPORTED_MODULE_5__.waitForEvent)(this, 'load');\n                this[$preload] = false;\n            }\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$shouldAttemptPreload]() {\n            return super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$shouldAttemptPreload]() || this[$preload];\n        }\n        /**\n         * Takes a URL and a title string, and attempts to launch Scene Viewer on\n         * the current device.\n         */\n        [$openSceneViewer]() {\n            const location = self.location.toString();\n            const locationUrl = new URL(location);\n            const modelUrl = new URL(this.src, location);\n            const params = new URLSearchParams(modelUrl.search);\n            locationUrl.hash = noArViewerSigil;\n            // modelUrl can contain title/link/sound etc.\n            params.set('mode', 'ar_preferred');\n            if (!params.has('disable_occlusion')) {\n                params.set('disable_occlusion', 'true');\n            }\n            if (this.arScale === 'fixed') {\n                params.set('resizable', 'false');\n            }\n            if (this.arPlacement === 'wall') {\n                params.set('enable_vertical_placement', 'true');\n            }\n            if (params.has('sound')) {\n                const soundUrl = new URL(params.get('sound'), location);\n                params.set('sound', soundUrl.toString());\n            }\n            if (params.has('link')) {\n                const linkUrl = new URL(params.get('link'), location);\n                params.set('link', linkUrl.toString());\n            }\n            const intent = `intent://arvr.google.com/scene-viewer/1.0?${params.toString() + '&file=' +\n                encodeURIComponent(modelUrl\n                    .toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(locationUrl.toString())};end;`;\n            const undoHashChange = () => {\n                if (self.location.hash === noArViewerSigil) {\n                    isSceneViewerBlocked = true;\n                    // The new history will be the current URL with a new hash.\n                    // Go back one step so that we reset to the expected URL.\n                    // NOTE(cdata): this should not invoke any browser-level navigation\n                    // because hash-only changes modify the URL in-place without\n                    // navigating:\n                    self.history.back();\n                    console.warn('Error while trying to present in AR with Scene Viewer');\n                    console.warn('Falling back to next ar-mode');\n                    this[$selectARMode]();\n                    // Would be nice to activateAR() here, but webXR fails due to not\n                    // seeing a user activation.\n                }\n            };\n            self.addEventListener('hashchange', undoHashChange, { once: true });\n            this[$arAnchor].setAttribute('href', intent);\n            console.log('Attempting to present in AR with Scene Viewer...');\n            this[$arAnchor].click();\n        }\n        /**\n         * Takes a URL to a USDZ file and sets the appropriate fields so that\n         * Safari iOS can intent to their AR Quick Look.\n         */\n        async [$openIOSARQuickLook]() {\n            const generateUsdz = !this.iosSrc;\n            this[$arButtonContainer].classList.remove('enabled');\n            const objectURL = generateUsdz ? await this.prepareUSDZ() : this.iosSrc;\n            const modelUrl = new URL(objectURL, self.location.toString());\n            if (generateUsdz) {\n                const location = self.location.toString();\n                const locationUrl = new URL(location);\n                const srcUrl = new URL(this.src, locationUrl);\n                if (srcUrl.hash) {\n                    modelUrl.hash = srcUrl.hash;\n                }\n            }\n            if (this.arScale === 'fixed') {\n                if (modelUrl.hash) {\n                    modelUrl.hash += '&';\n                }\n                modelUrl.hash += 'allowsContentScaling=0';\n            }\n            const anchor = this[$arAnchor];\n            anchor.setAttribute('rel', 'ar');\n            const img = document.createElement('img');\n            anchor.appendChild(img);\n            anchor.setAttribute('href', modelUrl.toString());\n            if (generateUsdz) {\n                anchor.setAttribute('download', 'model.usdz');\n            }\n            // attach anchor to shadow DOM to ensure iOS16 ARQL banner click message event propagation \n            anchor.style.display = 'none';\n            if (!anchor.isConnected)\n                this.shadowRoot.appendChild(anchor);\n            console.log('Attempting to present in AR with Quick Look...');\n            anchor.click();\n            anchor.removeChild(img);\n            if (generateUsdz) {\n                URL.revokeObjectURL(objectURL);\n            }\n            this[$arButtonContainer].classList.add('enabled');\n        }\n        async prepareUSDZ() {\n            const updateSourceProgress = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$progressTracker].beginActivity();\n            await this[$triggerLoad]();\n            const { model, shadow } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            if (model == null) {\n                return '';\n            }\n            let visible = false;\n            // Remove shadow from export\n            if (shadow != null) {\n                visible = shadow.visible;\n                shadow.visible = false;\n            }\n            updateSourceProgress(0.2);\n            const exporter = new three_examples_jsm_exporters_USDZExporter_js__WEBPACK_IMPORTED_MODULE_6__.USDZExporter();\n            const arraybuffer = await exporter.parse(model);\n            const blob = new Blob([arraybuffer], {\n                type: 'model/vnd.usdz+zip',\n            });\n            const url = URL.createObjectURL(blob);\n            updateSourceProgress(1);\n            if (shadow != null) {\n                shadow.visible = visible;\n            }\n            return url;\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean, attribute: 'ar' })\n    ], ARModelViewerElement.prototype, \"ar\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'ar-scale' })\n    ], ARModelViewerElement.prototype, \"arScale\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'ar-placement' })\n    ], ARModelViewerElement.prototype, \"arPlacement\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'ar-modes' })\n    ], ARModelViewerElement.prototype, \"arModes\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'ios-src' })\n    ], ARModelViewerElement.prototype, \"iosSrc\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean, attribute: 'xr-environment' })\n    ], ARModelViewerElement.prototype, \"xrEnvironment\", void 0);\n    return ARModelViewerElement;\n};\n//# sourceMappingURL=ar.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2FyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQzZDO0FBQytCO0FBQ2lDO0FBQ3FCO0FBQzdEO0FBQ0k7QUFDMUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlGQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsUUFBUTtBQUNsQywrQkFBK0IscUVBQVE7QUFDdkMseUJBQXlCLDREQUFTLHFDQUFxQyx5REFBTTtBQUM3RTtBQUNBLHNFQUFzRSxVQUFVLFVBQVU7QUFDMUYsbUNBQW1DLHFFQUFRO0FBQzNDO0FBQ0E7QUFDQSx3Q0FBd0MscUVBQVE7QUFDaEQseURBQXlELHVFQUFVO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0Esb0VBQW9FLFVBQVUsVUFBVTtBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNERBQVM7QUFDMUIsMkNBQTJDLHFFQUFRO0FBQ25ELGlCQUFpQiw0REFBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBUztBQUMxQixpQkFBaUIsNERBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBTTtBQUMzQjtBQUNBO0FBQ0EscUJBQXFCLHlEQUFNO0FBQzNCLHFCQUFxQiwrREFBWTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxnRUFBcUI7QUFDdEUsdUNBQXVDLDREQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxtRUFBd0I7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Qsb0VBQXlCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0VBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscUVBQVE7QUFDdkM7QUFDQSxrRUFBa0UsVUFBVSxVQUFVO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYSxPQUFPLDREQUFTO0FBQ3JEO0FBQ0EsOENBQThDLHlEQUFNO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDREQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnRUFBYTtBQUNsQyxzQkFBc0IsMkRBQVk7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyx3RUFBcUI7QUFDOUIseUJBQXlCLHdFQUFxQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0U7QUFDeEU7QUFDQSxpQ0FBaUMsUUFBUSxhQUFhLDJCQUEyQixrQ0FBa0MseUJBQXlCLDRDQUE0QyxJQUFJO0FBQzVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFlBQVk7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLG1FQUFnQjtBQUM5RDtBQUNBLG9CQUFvQixnQkFBZ0IsT0FBTyx5REFBTTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzRkFBWTtBQUM3QztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLGdDQUFnQztBQUNuRDtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLHFDQUFxQztBQUN4RDtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLHlDQUF5QztBQUM1RDtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLHFDQUFxQztBQUN4RDtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLG9DQUFvQztBQUN2RDtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLDRDQUE0QztBQUMvRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2FyLmpzPzgwMWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBVU0RaRXhwb3J0ZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vZXhwb3J0ZXJzL1VTRFpFeHBvcnRlci5qcyc7XG5pbXBvcnQgeyBJU19BUl9RVUlDS0xPT0tfQ0FORElEQVRFLCBJU19TQ0VORVZJRVdFUl9DQU5ESURBVEUsIElTX1dFQlhSX0FSX0NBTkRJREFURSB9IGZyb20gJy4uL2NvbnN0YW50cy5qcyc7XG5pbXBvcnQgeyAkbmVlZHNSZW5kZXIsICRwcm9ncmVzc1RyYWNrZXIsICRyZW5kZXJlciwgJHNjZW5lLCAkc2hvdWxkQXR0ZW1wdFByZWxvYWQsICR1cGRhdGVTb3VyY2UgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBlbnVtZXJhdGlvbkRlc2VyaWFsaXplciB9IGZyb20gJy4uL3N0eWxlcy9kZXNlcmlhbGl6ZXJzLmpzJztcbmltcG9ydCB7IEFSU3RhdHVzLCBBUlRyYWNraW5nIH0gZnJvbSAnLi4vdGhyZWUtY29tcG9uZW50cy9BUlJlbmRlcmVyLmpzJztcbmltcG9ydCB7IHdhaXRGb3JFdmVudCB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG5sZXQgaXNXZWJYUkJsb2NrZWQgPSBmYWxzZTtcbmxldCBpc1NjZW5lVmlld2VyQmxvY2tlZCA9IGZhbHNlO1xuY29uc3Qgbm9BclZpZXdlclNpZ2lsID0gJyNtb2RlbC12aWV3ZXItbm8tYXItZmFsbGJhY2snO1xuY29uc3QgZGVzZXJpYWxpemVBUk1vZGVzID0gZW51bWVyYXRpb25EZXNlcmlhbGl6ZXIoWydxdWljay1sb29rJywgJ3NjZW5lLXZpZXdlcicsICd3ZWJ4cicsICdub25lJ10pO1xuY29uc3QgREVGQVVMVF9BUl9NT0RFUyA9ICd3ZWJ4ciBzY2VuZS12aWV3ZXIgcXVpY2stbG9vayc7XG5jb25zdCBBUk1vZGUgPSB7XG4gICAgUVVJQ0tfTE9PSzogJ3F1aWNrLWxvb2snLFxuICAgIFNDRU5FX1ZJRVdFUjogJ3NjZW5lLXZpZXdlcicsXG4gICAgV0VCWFI6ICd3ZWJ4cicsXG4gICAgTk9ORTogJ25vbmUnXG59O1xuY29uc3QgJGFyQnV0dG9uQ29udGFpbmVyID0gU3ltYm9sKCdhckJ1dHRvbkNvbnRhaW5lcicpO1xuY29uc3QgJGVudGVyQVJXaXRoV2ViWFIgPSBTeW1ib2woJ2VudGVyQVJXaXRoV2ViWFInKTtcbmV4cG9ydCBjb25zdCAkb3BlblNjZW5lVmlld2VyID0gU3ltYm9sKCdvcGVuU2NlbmVWaWV3ZXInKTtcbmV4cG9ydCBjb25zdCAkb3BlbklPU0FSUXVpY2tMb29rID0gU3ltYm9sKCdvcGVuSU9TQVJRdWlja0xvb2snKTtcbmNvbnN0ICRjYW5BY3RpdmF0ZUFSID0gU3ltYm9sKCdjYW5BY3RpdmF0ZUFSJyk7XG5jb25zdCAkYXJNb2RlID0gU3ltYm9sKCdhck1vZGUnKTtcbmNvbnN0ICRhck1vZGVzID0gU3ltYm9sKCdhck1vZGVzJyk7XG5jb25zdCAkYXJBbmNob3IgPSBTeW1ib2woJ2FyQW5jaG9yJyk7XG5jb25zdCAkcHJlbG9hZCA9IFN5bWJvbCgncHJlbG9hZCcpO1xuY29uc3QgJG9uQVJCdXR0b25Db250YWluZXJDbGljayA9IFN5bWJvbCgnb25BUkJ1dHRvbkNvbnRhaW5lckNsaWNrJyk7XG5jb25zdCAkb25BUlN0YXR1cyA9IFN5bWJvbCgnb25BUlN0YXR1cycpO1xuY29uc3QgJG9uQVJUcmFja2luZyA9IFN5bWJvbCgnb25BUlRyYWNraW5nJyk7XG5jb25zdCAkb25BUlRhcCA9IFN5bWJvbCgnb25BUlRhcCcpO1xuY29uc3QgJHNlbGVjdEFSTW9kZSA9IFN5bWJvbCgnc2VsZWN0QVJNb2RlJyk7XG5jb25zdCAkdHJpZ2dlckxvYWQgPSBTeW1ib2woJ3RyaWdnZXJMb2FkJyk7XG5leHBvcnQgY29uc3QgQVJNaXhpbiA9IChNb2RlbFZpZXdlckVsZW1lbnQpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2s7XG4gICAgY2xhc3MgQVJNb2RlbFZpZXdlckVsZW1lbnQgZXh0ZW5kcyBNb2RlbFZpZXdlckVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzLmFyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFyU2NhbGUgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLmFyUGxhY2VtZW50ID0gJ2Zsb29yJztcbiAgICAgICAgICAgIHRoaXMuYXJNb2RlcyA9IERFRkFVTFRfQVJfTU9ERVM7XG4gICAgICAgICAgICB0aGlzLmlvc1NyYyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnhyRW52aXJvbm1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX2FdID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBUT0RPOiBBZGQgdGhpcyB0byB0aGUgc2hhZG93IHJvb3QgYXMgcGFydCBvZiB0aGlzIG1peGluJ3NcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGF0aW9uOlxuICAgICAgICAgICAgdGhpc1tfYl0gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLmFyLWJ1dHRvbicpO1xuICAgICAgICAgICAgdGhpc1tfY10gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICB0aGlzW19kXSA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIHRoaXNbX2VdID0gQVJNb2RlLk5PTkU7XG4gICAgICAgICAgICB0aGlzW19mXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1tfZ10gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVBUigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXNbX2hdID0gKHsgc3RhdHVzIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSBBUlN0YXR1cy5OT1RfUFJFU0VOVElORyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci5wcmVzZW50ZWRTY2VuZSA9PT0gdGhpc1skc2NlbmVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhci1zdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhci1zdGF0dXMnLCB7IGRldGFpbDogeyBzdGF0dXMgfSB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IEFSU3RhdHVzLk5PVF9QUkVTRU5USU5HKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnYXItdHJhY2tpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IEFSU3RhdHVzLlNFU1NJT05fU1RBUlRFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FyLXRyYWNraW5nJywgQVJUcmFja2luZy5UUkFDS0lORyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpc1tfal0gPSAoeyBzdGF0dXMgfSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhci10cmFja2luZycsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYXItdHJhY2tpbmcnLCB7IGRldGFpbDogeyBzdGF0dXMgfSB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpc1tfa10gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSA9PSAnX2FwcGxlX2FyX3F1aWNrbG9va19idXR0b25fdGFwcGVkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdxdWljay1sb29rLWJ1dHRvbi10YXBwZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgY2FuQWN0aXZhdGVBUigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRhck1vZGVdICE9PSBBUk1vZGUuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci5hZGRFdmVudExpc3RlbmVyKCdzdGF0dXMnLCB0aGlzWyRvbkFSU3RhdHVzXSk7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXItc3RhdHVzJywgQVJTdGF0dXMuTk9UX1BSRVNFTlRJTkcpO1xuICAgICAgICAgICAgdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhY2tpbmcnLCB0aGlzWyRvbkFSVHJhY2tpbmddKTtcbiAgICAgICAgICAgIHRoaXNbJGFyQW5jaG9yXS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpc1skb25BUlRhcF0pO1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXNbJHJlbmRlcmVyXS5hclJlbmRlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N0YXR1cycsIHRoaXNbJG9uQVJTdGF0dXNdKTtcbiAgICAgICAgICAgIHRoaXNbJHJlbmRlcmVyXS5hclJlbmRlcmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYWNraW5nJywgdGhpc1skb25BUlRyYWNraW5nXSk7XG4gICAgICAgICAgICB0aGlzWyRhckFuY2hvcl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXNbJG9uQVJUYXBdKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhclNjYWxlJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0uY2FuU2NhbGUgPSB0aGlzLmFyU2NhbGUgIT09ICdmaXhlZCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhclBsYWNlbWVudCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnVwZGF0ZVNoYWRvdygpO1xuICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYXJNb2RlcycpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skYXJNb2Rlc10gPSBkZXNlcmlhbGl6ZUFSTW9kZXModGhpcy5hck1vZGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2FyJykgfHwgY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhck1vZGVzJykgfHxcbiAgICAgICAgICAgICAgICBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3NyYycpIHx8IGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnaW9zU3JjJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzZWxlY3RBUk1vZGVdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlcyBBUi4gTm90ZSB0aGF0IGZvciBhbnkgbW9kZSB0aGF0IGlzIG5vdCBXZWJYUi1iYXNlZCwgdGhpc1xuICAgICAgICAgKiBtZXRob2QgbW9zdCBsaWtlbHkgaGFzIHRvIGJlIGNhbGxlZCBzeW5jaHJvbm91cyBmcm9tIGEgdXNlclxuICAgICAgICAgKiBpbnRlcmFjdGlvbiBoYW5kbGVyLiBPdGhlcndpc2UsIGF0dGVtcHRzIHRvIGFjdGl2YXRlIG1vZGVzIHRoYXRcbiAgICAgICAgICogcmVxdWlyZSB1c2VyIGludGVyYWN0aW9uIHdpbGwgbW9zdCBsaWtlbHkgYmUgaWdub3JlZC5cbiAgICAgICAgICovXG4gICAgICAgIGFzeW5jIGFjdGl2YXRlQVIoKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXNbJGFyTW9kZV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFSTW9kZS5RVUlDS19MT09LOlxuICAgICAgICAgICAgICAgICAgICB0aGlzWyRvcGVuSU9TQVJRdWlja0xvb2tdKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQVJNb2RlLldFQlhSOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzWyRlbnRlckFSV2l0aFdlYlhSXSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFSTW9kZS5TQ0VORV9WSUVXRVI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJG9wZW5TY2VuZVZpZXdlcl0oKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdObyBBUiBNb2RlIGNhbiBiZSBhY3RpdmF0ZWQuIFRoaXMgaXMgcHJvYmFibHkgZHVlIHRvIG1pc3NpbmcgXFxcbmNvbmZpZ3VyYXRpb24gb3IgZGV2aWNlIGNhcGFiaWxpdGllcycpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3luYyBbKF9hID0gJGNhbkFjdGl2YXRlQVIsIF9iID0gJGFyQnV0dG9uQ29udGFpbmVyLCBfYyA9ICRhckFuY2hvciwgX2QgPSAkYXJNb2RlcywgX2UgPSAkYXJNb2RlLCBfZiA9ICRwcmVsb2FkLCBfZyA9ICRvbkFSQnV0dG9uQ29udGFpbmVyQ2xpY2ssIF9oID0gJG9uQVJTdGF0dXMsIF9qID0gJG9uQVJUcmFja2luZywgX2sgPSAkb25BUlRhcCwgJHNlbGVjdEFSTW9kZSldKCkge1xuICAgICAgICAgICAgbGV0IGFyTW9kZSA9IEFSTW9kZS5OT05FO1xuICAgICAgICAgICAgaWYgKHRoaXMuYXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zcmMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXNbJGFyTW9kZXNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICd3ZWJ4cicgJiYgSVNfV0VCWFJfQVJfQ0FORElEQVRFICYmICFpc1dlYlhSQmxvY2tlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXNbJHJlbmRlcmVyXS5hclJlbmRlcmVyLnN1cHBvcnRzUHJlc2VudGF0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhck1vZGUgPSBBUk1vZGUuV0VCWFI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICdzY2VuZS12aWV3ZXInICYmIElTX1NDRU5FVklFV0VSX0NBTkRJREFURSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc1NjZW5lVmlld2VyQmxvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyTW9kZSA9IEFSTW9kZS5TQ0VORV9WSUVXRVI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICdxdWljay1sb29rJyAmJiBJU19BUl9RVUlDS0xPT0tfQ0FORElEQVRFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJNb2RlID0gQVJNb2RlLlFVSUNLX0xPT0s7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhlIHByZXNlbmNlIG9mIGlvcy1zcmMgb3ZlcnJpZGVzIHRoZSBhYnNlbmNlIG9mIHF1aWNrLWxvb2tcbiAgICAgICAgICAgICAgICAvLyBhci1tb2RlLlxuICAgICAgICAgICAgICAgIGlmIChhck1vZGUgPT09IEFSTW9kZS5OT05FICYmIHRoaXMuaW9zU3JjICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgSVNfQVJfUVVJQ0tMT09LX0NBTkRJREFURSkge1xuICAgICAgICAgICAgICAgICAgICBhck1vZGUgPSBBUk1vZGUuUVVJQ0tfTE9PSztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJNb2RlICE9PSBBUk1vZGUuTk9ORSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGFyQnV0dG9uQ29udGFpbmVyXS5jbGFzc0xpc3QuYWRkKCdlbmFibGVkJyk7XG4gICAgICAgICAgICAgICAgdGhpc1skYXJCdXR0b25Db250YWluZXJdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpc1skb25BUkJ1dHRvbkNvbnRhaW5lckNsaWNrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzWyRhckJ1dHRvbkNvbnRhaW5lcl0uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbmFibGVkJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRhckJ1dHRvbkNvbnRhaW5lcl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzWyRvbkFSQnV0dG9uQ29udGFpbmVyQ2xpY2tdKTtcbiAgICAgICAgICAgICAgICB0aGlzWyRhckJ1dHRvbkNvbnRhaW5lcl0uY2xhc3NMaXN0LnJlbW92ZSgnZW5hYmxlZCcpO1xuICAgICAgICAgICAgICAgIC8vIElmIEFSIHdlbnQgZnJvbSB3b3JraW5nIHRvIG5vdCwgbm90aWZ5IHRoZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IEFSU3RhdHVzLkZBSUxFRDtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXItc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdhci1zdGF0dXMnLCB7IGRldGFpbDogeyBzdGF0dXMgfSB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzWyRhck1vZGVdID0gYXJNb2RlO1xuICAgICAgICB9XG4gICAgICAgIGFzeW5jIFskZW50ZXJBUldpdGhXZWJYUl0oKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBwcmVzZW50IGluIEFSIHdpdGggV2ViWFIuLi4nKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXNbJHRyaWdnZXJMb2FkXSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzWyRhckJ1dHRvbkNvbnRhaW5lcl0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzWyRvbkFSQnV0dG9uQ29udGFpbmVyQ2xpY2tdKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGFyUmVuZGVyZXIgfSA9IHRoaXNbJHJlbmRlcmVyXTtcbiAgICAgICAgICAgICAgICBhclJlbmRlcmVyLnBsYWNlT25XYWxsID0gdGhpcy5hclBsYWNlbWVudCA9PT0gJ3dhbGwnO1xuICAgICAgICAgICAgICAgIGF3YWl0IGFyUmVuZGVyZXIucHJlc2VudCh0aGlzWyRzY2VuZV0sIHRoaXMueHJFbnZpcm9ubWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHdoaWxlIHRyeWluZyB0byBwcmVzZW50IGluIEFSIHdpdGggV2ViWFInKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci5zdG9wUHJlc2VudGluZygpO1xuICAgICAgICAgICAgICAgIGlzV2ViWFJCbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhbGxpbmcgYmFjayB0byBuZXh0IGFyLW1vZGUnKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzWyRzZWxlY3RBUk1vZGVdKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZUFSKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzZWxlY3RBUk1vZGVdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgWyR0cmlnZ2VyTG9hZF0oKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skcHJlbG9hZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXNbJHVwZGF0ZVNvdXJjZV0oKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB3YWl0Rm9yRXZlbnQodGhpcywgJ2xvYWQnKTtcbiAgICAgICAgICAgICAgICB0aGlzWyRwcmVsb2FkXSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFskc2hvdWxkQXR0ZW1wdFByZWxvYWRdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyWyRzaG91bGRBdHRlbXB0UHJlbG9hZF0oKSB8fCB0aGlzWyRwcmVsb2FkXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGFrZXMgYSBVUkwgYW5kIGEgdGl0bGUgc3RyaW5nLCBhbmQgYXR0ZW1wdHMgdG8gbGF1bmNoIFNjZW5lIFZpZXdlciBvblxuICAgICAgICAgKiB0aGUgY3VycmVudCBkZXZpY2UuXG4gICAgICAgICAqL1xuICAgICAgICBbJG9wZW5TY2VuZVZpZXdlcl0oKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHNlbGYubG9jYXRpb24udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uVXJsID0gbmV3IFVSTChsb2NhdGlvbik7XG4gICAgICAgICAgICBjb25zdCBtb2RlbFVybCA9IG5ldyBVUkwodGhpcy5zcmMsIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMobW9kZWxVcmwuc2VhcmNoKTtcbiAgICAgICAgICAgIGxvY2F0aW9uVXJsLmhhc2ggPSBub0FyVmlld2VyU2lnaWw7XG4gICAgICAgICAgICAvLyBtb2RlbFVybCBjYW4gY29udGFpbiB0aXRsZS9saW5rL3NvdW5kIGV0Yy5cbiAgICAgICAgICAgIHBhcmFtcy5zZXQoJ21vZGUnLCAnYXJfcHJlZmVycmVkJyk7XG4gICAgICAgICAgICBpZiAoIXBhcmFtcy5oYXMoJ2Rpc2FibGVfb2NjbHVzaW9uJykpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuc2V0KCdkaXNhYmxlX29jY2x1c2lvbicsICd0cnVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hclNjYWxlID09PSAnZml4ZWQnKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnNldCgncmVzaXphYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hclBsYWNlbWVudCA9PT0gJ3dhbGwnKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnNldCgnZW5hYmxlX3ZlcnRpY2FsX3BsYWNlbWVudCcsICd0cnVlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyYW1zLmhhcygnc291bmQnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kVXJsID0gbmV3IFVSTChwYXJhbXMuZ2V0KCdzb3VuZCcpLCBsb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnNldCgnc291bmQnLCBzb3VuZFVybC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJhbXMuaGFzKCdsaW5rJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5rVXJsID0gbmV3IFVSTChwYXJhbXMuZ2V0KCdsaW5rJyksIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBwYXJhbXMuc2V0KCdsaW5rJywgbGlua1VybC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGludGVudCA9IGBpbnRlbnQ6Ly9hcnZyLmdvb2dsZS5jb20vc2NlbmUtdmlld2VyLzEuMD8ke3BhcmFtcy50b1N0cmluZygpICsgJyZmaWxlPScgK1xuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChtb2RlbFVybFxuICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKSl9I0ludGVudDtzY2hlbWU9aHR0cHM7cGFja2FnZT1jb20uZ29vZ2xlLmFyLmNvcmU7YWN0aW9uPWFuZHJvaWQuaW50ZW50LmFjdGlvbi5WSUVXO1MuYnJvd3Nlcl9mYWxsYmFja191cmw9JHtlbmNvZGVVUklDb21wb25lbnQobG9jYXRpb25VcmwudG9TdHJpbmcoKSl9O2VuZDtgO1xuICAgICAgICAgICAgY29uc3QgdW5kb0hhc2hDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubG9jYXRpb24uaGFzaCA9PT0gbm9BclZpZXdlclNpZ2lsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU2NlbmVWaWV3ZXJCbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG5ldyBoaXN0b3J5IHdpbGwgYmUgdGhlIGN1cnJlbnQgVVJMIHdpdGggYSBuZXcgaGFzaC5cbiAgICAgICAgICAgICAgICAgICAgLy8gR28gYmFjayBvbmUgc3RlcCBzbyB0aGF0IHdlIHJlc2V0IHRvIHRoZSBleHBlY3RlZCBVUkwuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEUoY2RhdGEpOiB0aGlzIHNob3VsZCBub3QgaW52b2tlIGFueSBicm93c2VyLWxldmVsIG5hdmlnYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBoYXNoLW9ubHkgY2hhbmdlcyBtb2RpZnkgdGhlIFVSTCBpbi1wbGFjZSB3aXRob3V0XG4gICAgICAgICAgICAgICAgICAgIC8vIG5hdmlnYXRpbmc6XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaGlzdG9yeS5iYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIHByZXNlbnQgaW4gQVIgd2l0aCBTY2VuZSBWaWV3ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWxsaW5nIGJhY2sgdG8gbmV4dCBhci1tb2RlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJHNlbGVjdEFSTW9kZV0oKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV291bGQgYmUgbmljZSB0byBhY3RpdmF0ZUFSKCkgaGVyZSwgYnV0IHdlYlhSIGZhaWxzIGR1ZSB0byBub3RcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VlaW5nIGEgdXNlciBhY3RpdmF0aW9uLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCB1bmRvSGFzaENoYW5nZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgdGhpc1skYXJBbmNob3JdLnNldEF0dHJpYnV0ZSgnaHJlZicsIGludGVudCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byBwcmVzZW50IGluIEFSIHdpdGggU2NlbmUgVmlld2VyLi4uJyk7XG4gICAgICAgICAgICB0aGlzWyRhckFuY2hvcl0uY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVGFrZXMgYSBVUkwgdG8gYSBVU0RaIGZpbGUgYW5kIHNldHMgdGhlIGFwcHJvcHJpYXRlIGZpZWxkcyBzbyB0aGF0XG4gICAgICAgICAqIFNhZmFyaSBpT1MgY2FuIGludGVudCB0byB0aGVpciBBUiBRdWljayBMb29rLlxuICAgICAgICAgKi9cbiAgICAgICAgYXN5bmMgWyRvcGVuSU9TQVJRdWlja0xvb2tdKCkge1xuICAgICAgICAgICAgY29uc3QgZ2VuZXJhdGVVc2R6ID0gIXRoaXMuaW9zU3JjO1xuICAgICAgICAgICAgdGhpc1skYXJCdXR0b25Db250YWluZXJdLmNsYXNzTGlzdC5yZW1vdmUoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdFVSTCA9IGdlbmVyYXRlVXNkeiA/IGF3YWl0IHRoaXMucHJlcGFyZVVTRFooKSA6IHRoaXMuaW9zU3JjO1xuICAgICAgICAgICAgY29uc3QgbW9kZWxVcmwgPSBuZXcgVVJMKG9iamVjdFVSTCwgc2VsZi5sb2NhdGlvbi50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmIChnZW5lcmF0ZVVzZHopIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHNlbGYubG9jYXRpb24udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvblVybCA9IG5ldyBVUkwobG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNyY1VybCA9IG5ldyBVUkwodGhpcy5zcmMsIGxvY2F0aW9uVXJsKTtcbiAgICAgICAgICAgICAgICBpZiAoc3JjVXJsLmhhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxVcmwuaGFzaCA9IHNyY1VybC5oYXNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFyU2NhbGUgPT09ICdmaXhlZCcpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kZWxVcmwuaGFzaCkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbFVybC5oYXNoICs9ICcmJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kZWxVcmwuaGFzaCArPSAnYWxsb3dzQ29udGVudFNjYWxpbmc9MCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzWyRhckFuY2hvcl07XG4gICAgICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCdyZWwnLCAnYXInKTtcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgYW5jaG9yLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgICAgICBhbmNob3Iuc2V0QXR0cmlidXRlKCdocmVmJywgbW9kZWxVcmwudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoZ2VuZXJhdGVVc2R6KSB7XG4gICAgICAgICAgICAgICAgYW5jaG9yLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCAnbW9kZWwudXNkeicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYXR0YWNoIGFuY2hvciB0byBzaGFkb3cgRE9NIHRvIGVuc3VyZSBpT1MxNiBBUlFMIGJhbm5lciBjbGljayBtZXNzYWdlIGV2ZW50IHByb3BhZ2F0aW9uIFxuICAgICAgICAgICAgYW5jaG9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBpZiAoIWFuY2hvci5pc0Nvbm5lY3RlZClcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIHByZXNlbnQgaW4gQVIgd2l0aCBRdWljayBMb29rLi4uJyk7XG4gICAgICAgICAgICBhbmNob3IuY2xpY2soKTtcbiAgICAgICAgICAgIGFuY2hvci5yZW1vdmVDaGlsZChpbWcpO1xuICAgICAgICAgICAgaWYgKGdlbmVyYXRlVXNkeikge1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwob2JqZWN0VVJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJGFyQnV0dG9uQ29udGFpbmVyXS5jbGFzc0xpc3QuYWRkKCdlbmFibGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgcHJlcGFyZVVTRFooKSB7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVTb3VyY2VQcm9ncmVzcyA9IHRoaXNbJHByb2dyZXNzVHJhY2tlcl0uYmVnaW5BY3Rpdml0eSgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpc1skdHJpZ2dlckxvYWRdKCk7XG4gICAgICAgICAgICBjb25zdCB7IG1vZGVsLCBzaGFkb3cgfSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBzaGFkb3cgZnJvbSBleHBvcnRcbiAgICAgICAgICAgIGlmIChzaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZpc2libGUgPSBzaGFkb3cudmlzaWJsZTtcbiAgICAgICAgICAgICAgICBzaGFkb3cudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlU291cmNlUHJvZ3Jlc3MoMC4yKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cG9ydGVyID0gbmV3IFVTRFpFeHBvcnRlcigpO1xuICAgICAgICAgICAgY29uc3QgYXJyYXlidWZmZXIgPSBhd2FpdCBleHBvcnRlci5wYXJzZShtb2RlbCk7XG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2FycmF5YnVmZmVyXSwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdtb2RlbC92bmQudXNkeit6aXAnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICAgICAgdXBkYXRlU291cmNlUHJvZ3Jlc3MoMSk7XG4gICAgICAgICAgICBpZiAoc2hhZG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzaGFkb3cudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2FyJyB9KVxuICAgIF0sIEFSTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJhclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnYXItc2NhbGUnIH0pXG4gICAgXSwgQVJNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImFyU2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FyLXBsYWNlbWVudCcgfSlcbiAgICBdLCBBUk1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiYXJQbGFjZW1lbnRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2FyLW1vZGVzJyB9KVxuICAgIF0sIEFSTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJhck1vZGVzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdpb3Mtc3JjJyB9KVxuICAgIF0sIEFSTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJpb3NTcmNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICd4ci1lbnZpcm9ubWVudCcgfSlcbiAgICBdLCBBUk1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwieHJFbnZpcm9ubWVudFwiLCB2b2lkIDApO1xuICAgIHJldHVybiBBUk1vZGVsVmlld2VyRWxlbWVudDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/ar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/controls.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $controls: () => (/* binding */ $controls),\n/* harmony export */   $fingerAnimatedContainers: () => (/* binding */ $fingerAnimatedContainers),\n/* harmony export */   $panElement: () => (/* binding */ $panElement),\n/* harmony export */   $promptAnimatedContainer: () => (/* binding */ $promptAnimatedContainer),\n/* harmony export */   $promptElement: () => (/* binding */ $promptElement),\n/* harmony export */   ControlsMixin: () => (/* binding */ ControlsMixin),\n/* harmony export */   DEFAULT_CAMERA_ORBIT: () => (/* binding */ DEFAULT_CAMERA_ORBIT),\n/* harmony export */   DEFAULT_FOV_DEG: () => (/* binding */ DEFAULT_FOV_DEG),\n/* harmony export */   DEFAULT_INTERACTION_PROMPT_THRESHOLD: () => (/* binding */ DEFAULT_INTERACTION_PROMPT_THRESHOLD),\n/* harmony export */   DEFAULT_MIN_FOV_DEG: () => (/* binding */ DEFAULT_MIN_FOV_DEG),\n/* harmony export */   INTERACTION_PROMPT: () => (/* binding */ INTERACTION_PROMPT),\n/* harmony export */   InteractionPromptStrategy: () => (/* binding */ InteractionPromptStrategy),\n/* harmony export */   InteractionPromptStyle: () => (/* binding */ InteractionPromptStyle),\n/* harmony export */   TouchAction: () => (/* binding */ TouchAction),\n/* harmony export */   cameraOrbitIntrinsics: () => (/* binding */ cameraOrbitIntrinsics),\n/* harmony export */   cameraTargetIntrinsics: () => (/* binding */ cameraTargetIntrinsics),\n/* harmony export */   fieldOfViewIntrinsics: () => (/* binding */ fieldOfViewIntrinsics)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../decorators.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/decorators.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_evaluators_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/evaluators.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* harmony import */ var _three_components_Damper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../three-components/Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* harmony import */ var _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../three-components/SmoothControls.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js\");\n/* harmony import */ var _utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utilities/animation.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/animation.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\n\n\n\n// NOTE(cdata): The following \"animation\" timing functions are deliberately\n// being used in favor of CSS animations. In Safari 12.1 and 13, CSS animations\n// would cause the interaction prompt to glitch unexpectedly\n// @see https://github.com/google/model-viewer/issues/839\nconst PROMPT_ANIMATION_TIME = 5000;\n// For timing purposes, a \"frame\" is a timing agnostic relative unit of time\n// and a \"value\" is a target value for the Frame.\nconst wiggle = (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)({\n    initialValue: 0,\n    keyframes: [\n        { frames: 5, value: -1 },\n        { frames: 1, value: -1 },\n        { frames: 8, value: 1 },\n        { frames: 1, value: 1 },\n        { frames: 5, value: 0 },\n        { frames: 18, value: 0 }\n    ]\n});\nconst fade = (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)({\n    initialValue: 0,\n    keyframes: [\n        { frames: 1, value: 1 },\n        { frames: 5, value: 1 },\n        { frames: 1, value: 0 },\n        { frames: 6, value: 0 }\n    ]\n});\nconst DEFAULT_FOV_DEG = 30;\nconst DEFAULT_MIN_FOV_DEG = 12;\nconst DEFAULT_CAMERA_ORBIT = '0deg 75deg 105%';\nconst DEFAULT_CAMERA_TARGET = 'auto auto auto';\nconst DEFAULT_FIELD_OF_VIEW = 'auto';\nconst MINIMUM_RADIUS_RATIO = 2.2;\nconst AZIMUTHAL_QUADRANT_LABELS = ['front', 'right', 'back', 'left'];\nconst POLAR_TRIENT_LABELS = ['upper-', '', 'lower-'];\nconst DEFAULT_INTERACTION_PROMPT_THRESHOLD = 3000;\nconst INTERACTION_PROMPT = '. Use mouse, touch or arrow keys to move.';\nconst InteractionPromptStrategy = {\n    AUTO: 'auto',\n    NONE: 'none'\n};\nconst InteractionPromptStyle = {\n    BASIC: 'basic',\n    WIGGLE: 'wiggle'\n};\nconst TouchAction = {\n    PAN_Y: 'pan-y',\n    PAN_X: 'pan-x',\n    NONE: 'none'\n};\nconst fieldOfViewIntrinsics = () => {\n    return {\n        basis: [(0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.degreesToRadians)((0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(DEFAULT_FOV_DEG, 'deg'))],\n        keywords: { auto: [null] }\n    };\n};\nconst minFieldOfViewIntrinsics = () => {\n    return {\n        basis: [(0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.degreesToRadians)((0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(DEFAULT_MIN_FOV_DEG, 'deg'))],\n        keywords: { auto: [null] }\n    };\n};\nconst cameraOrbitIntrinsics = (() => {\n    const defaultTerms = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.parseExpressions)(DEFAULT_CAMERA_ORBIT)[0]\n        .terms;\n    const theta = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.normalizeUnit)(defaultTerms[0]);\n    const phi = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.normalizeUnit)(defaultTerms[1]);\n    return (element) => {\n        const radius = element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].idealCameraDistance();\n        return {\n            basis: [theta, phi, (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(radius, 'm')],\n            keywords: { auto: [null, null, (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(105, '%')] }\n        };\n    };\n})();\nconst minCameraOrbitIntrinsics = (element) => {\n    const radius = MINIMUM_RADIUS_RATIO * element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].boundingSphere.radius;\n    return {\n        basis: [\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(-Infinity, 'rad'),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(Math.PI / 8, 'rad'),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(radius, 'm')\n        ],\n        keywords: { auto: [null, null, null] }\n    };\n};\nconst maxCameraOrbitIntrinsics = (element) => {\n    const orbitIntrinsics = cameraOrbitIntrinsics(element);\n    const evaluator = new _styles_evaluators_js__WEBPACK_IMPORTED_MODULE_4__.StyleEvaluator([], orbitIntrinsics);\n    const defaultRadius = evaluator.evaluate()[2];\n    return {\n        basis: [\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(Infinity, 'rad'),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(Math.PI - Math.PI / 8, 'rad'),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(defaultRadius, 'm')\n        ],\n        keywords: { auto: [null, null, null] }\n    };\n};\nconst cameraTargetIntrinsics = (element) => {\n    const center = element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].boundingBox.getCenter(new three__WEBPACK_IMPORTED_MODULE_9__.Vector3());\n    return {\n        basis: [\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(center.x, 'm'),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(center.y, 'm'),\n            (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_5__.numberNode)(center.z, 'm')\n        ],\n        keywords: { auto: [null, null, null] }\n    };\n};\nconst HALF_PI = Math.PI / 2.0;\nconst THIRD_PI = Math.PI / 3.0;\nconst QUARTER_PI = HALF_PI / 2.0;\nconst TAU = 2.0 * Math.PI;\nconst $controls = Symbol('controls');\nconst $panElement = Symbol('panElement');\nconst $promptElement = Symbol('promptElement');\nconst $promptAnimatedContainer = Symbol('promptAnimatedContainer');\nconst $fingerAnimatedContainers = Symbol('fingerAnimatedContainers');\nconst $deferInteractionPrompt = Symbol('deferInteractionPrompt');\nconst $updateAria = Symbol('updateAria');\nconst $updateCameraForRadius = Symbol('updateCameraForRadius');\nconst $onChange = Symbol('onChange');\nconst $onPointerChange = Symbol('onPointerChange');\nconst $waitingToPromptUser = Symbol('waitingToPromptUser');\nconst $userHasInteracted = Symbol('userHasInteracted');\nconst $promptElementVisibleTime = Symbol('promptElementVisibleTime');\nconst $lastPromptOffset = Symbol('lastPromptOffset');\nconst $lastSpherical = Symbol('lastSpherical');\nconst $jumpCamera = Symbol('jumpCamera');\nconst $initialized = Symbol('initialized');\nconst $maintainThetaPhi = Symbol('maintainThetaPhi');\nconst $syncCameraOrbit = Symbol('syncCameraOrbit');\nconst $syncFieldOfView = Symbol('syncFieldOfView');\nconst $syncCameraTarget = Symbol('syncCameraTarget');\nconst $syncMinCameraOrbit = Symbol('syncMinCameraOrbit');\nconst $syncMaxCameraOrbit = Symbol('syncMaxCameraOrbit');\nconst $syncMinFieldOfView = Symbol('syncMinFieldOfView');\nconst $syncMaxFieldOfView = Symbol('syncMaxFieldOfView');\nconst ControlsMixin = (ModelViewerElement) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    class ControlsModelViewerElement extends ModelViewerElement {\n        constructor() {\n            super(...arguments);\n            this.cameraControls = false;\n            this.cameraOrbit = DEFAULT_CAMERA_ORBIT;\n            this.cameraTarget = DEFAULT_CAMERA_TARGET;\n            this.fieldOfView = DEFAULT_FIELD_OF_VIEW;\n            this.minCameraOrbit = 'auto';\n            this.maxCameraOrbit = 'auto';\n            this.minFieldOfView = 'auto';\n            this.maxFieldOfView = 'auto';\n            this.interactionPromptThreshold = DEFAULT_INTERACTION_PROMPT_THRESHOLD;\n            this.interactionPrompt = InteractionPromptStrategy.AUTO;\n            this.interactionPromptStyle = InteractionPromptStyle.WIGGLE;\n            this.orbitSensitivity = 1;\n            this.touchAction = TouchAction.NONE;\n            this.disableZoom = false;\n            this.disablePan = false;\n            this.disableTap = false;\n            this.interpolationDecay = _three_components_Damper_js__WEBPACK_IMPORTED_MODULE_6__.DECAY_MILLISECONDS;\n            this[_a] = this.shadowRoot.querySelector('.interaction-prompt');\n            this[_b] = this.shadowRoot.querySelector('#prompt');\n            this[_c] = [\n                this.shadowRoot.querySelector('#finger0'),\n                this.shadowRoot.querySelector('#finger1')\n            ];\n            this[_d] = this.shadowRoot.querySelector('.pan-target');\n            this[_e] = 0;\n            this[_f] = Infinity;\n            this[_g] = false;\n            this[_h] = false;\n            this[_j] = new _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.SmoothControls(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].camera, this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement], this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene]);\n            this[_k] = new three__WEBPACK_IMPORTED_MODULE_9__.Spherical();\n            this[_l] = false;\n            this[_m] = false;\n            this[_o] = false;\n            this[_p] = ({ source }) => {\n                this[$updateAria]();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$needsRender]();\n                if (source === _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.USER_INTERACTION) {\n                    this[$userHasInteracted] = true;\n                    this[$deferInteractionPrompt]();\n                }\n                this.dispatchEvent(new CustomEvent('camera-change', { detail: { source } }));\n            };\n            this[_q] = (event) => {\n                if (event.type === 'pointer-change-start') {\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$container].classList.add('pointer-tumbling');\n                }\n                else {\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$container].classList.remove('pointer-tumbling');\n                }\n            };\n        }\n        get inputSensitivity() {\n            return this[$controls].inputSensitivity;\n        }\n        set inputSensitivity(value) {\n            this[$controls].inputSensitivity = value;\n        }\n        getCameraOrbit() {\n            const { theta, phi, radius } = this[$lastSpherical];\n            return {\n                theta,\n                phi,\n                radius,\n                toString() {\n                    return `${this.theta}rad ${this.phi}rad ${this.radius}m`;\n                }\n            };\n        }\n        getCameraTarget() {\n            return (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.toVector3D)(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].isPresenting ? this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.target :\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].getTarget());\n        }\n        getFieldOfView() {\n            return this[$controls].getFieldOfView();\n        }\n        // Provided so user code does not have to parse these from attributes.\n        getMinimumFieldOfView() {\n            return this[$controls].options.minimumFieldOfView;\n        }\n        getMaximumFieldOfView() {\n            return this[$controls].options.maximumFieldOfView;\n        }\n        getIdealAspect() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].idealAspect;\n        }\n        jumpCameraToGoal() {\n            this[$jumpCamera] = true;\n            this.requestUpdate($jumpCamera, false);\n        }\n        resetInteractionPrompt() {\n            this[$lastPromptOffset] = 0;\n            this[$promptElementVisibleTime] = Infinity;\n            this[$userHasInteracted] = false;\n            this[$waitingToPromptUser] =\n                this.interactionPrompt === InteractionPromptStrategy.AUTO &&\n                    this.cameraControls;\n        }\n        zoom(keyPresses) {\n            const event = new WheelEvent('wheel', { deltaY: -30 * keyPresses });\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement].dispatchEvent(event);\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this[$controls].addEventListener('change', this[$onChange]);\n            this[$controls].addEventListener('pointer-change-start', this[$onPointerChange]);\n            this[$controls].addEventListener('pointer-change-end', this[$onPointerChange]);\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this[$controls].removeEventListener('change', this[$onChange]);\n            this[$controls].removeEventListener('pointer-change-start', this[$onPointerChange]);\n            this[$controls].removeEventListener('pointer-change-end', this[$onPointerChange]);\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            const controls = this[$controls];\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            if (changedProperties.has('cameraControls')) {\n                if (this.cameraControls) {\n                    controls.enableInteraction();\n                    if (this.interactionPrompt === InteractionPromptStrategy.AUTO) {\n                        this[$waitingToPromptUser] = true;\n                    }\n                }\n                else {\n                    controls.disableInteraction();\n                    this[$deferInteractionPrompt]();\n                }\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement].setAttribute('aria-label', this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$ariaLabel]);\n            }\n            if (changedProperties.has('disableZoom')) {\n                controls.disableZoom = this.disableZoom;\n            }\n            if (changedProperties.has('disablePan')) {\n                controls.enablePan = !this.disablePan;\n            }\n            if (changedProperties.has('disableTap')) {\n                controls.enableTap = !this.disableTap;\n            }\n            if (changedProperties.has('interactionPrompt') ||\n                changedProperties.has('cameraControls') ||\n                changedProperties.has('src')) {\n                if (this.interactionPrompt === InteractionPromptStrategy.AUTO &&\n                    this.cameraControls && !this[$userHasInteracted]) {\n                    this[$waitingToPromptUser] = true;\n                }\n                else {\n                    this[$deferInteractionPrompt]();\n                }\n            }\n            if (changedProperties.has('interactionPromptStyle')) {\n                this[$promptAnimatedContainer].style.opacity =\n                    this.interactionPromptStyle == InteractionPromptStyle.BASIC ? '1' :\n                        '0';\n            }\n            if (changedProperties.has('touchAction')) {\n                const touchAction = this.touchAction;\n                controls.applyOptions({ touchAction });\n                controls.updateTouchActionStyle();\n            }\n            if (changedProperties.has('orbitSensitivity')) {\n                controls.orbitSensitivity = this.orbitSensitivity;\n            }\n            if (changedProperties.has('interpolationDecay')) {\n                controls.setDamperDecayTime(this.interpolationDecay);\n                scene.setTargetDamperDecayTime(this.interpolationDecay);\n            }\n            if (this[$jumpCamera] === true) {\n                Promise.resolve().then(() => {\n                    controls.jumpToGoal();\n                    scene.jumpToGoal();\n                    this[$jumpCamera] = false;\n                });\n            }\n        }\n        async updateFraming() {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const oldFramedFoV = scene.adjustedFoV(scene.framedFoVDeg);\n            await scene.updateFraming();\n            const newFramedFoV = scene.adjustedFoV(scene.framedFoVDeg);\n            const zoom = this[$controls].getFieldOfView() / oldFramedFoV;\n            this[$controls].setFieldOfView(newFramedFoV * zoom);\n            this[$maintainThetaPhi] = true;\n            this.requestUpdate('maxFieldOfView');\n            this.requestUpdate('fieldOfView');\n            this.requestUpdate('minCameraOrbit');\n            this.requestUpdate('maxCameraOrbit');\n            this.requestUpdate('cameraOrbit');\n            await this.updateComplete;\n        }\n        interact(duration, finger0, finger1) {\n            const inputElement = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$userInputElement];\n            const fingerElements = this[$fingerAnimatedContainers];\n            if (fingerElements[0].style.opacity === '1') {\n                console.warn('interact() failed because an existing interaction is running.');\n                return;\n            }\n            const xy = new Array();\n            xy.push({ x: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger0.x), y: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger0.y) });\n            const positions = [{ x: xy[0].x(0), y: xy[0].y(0) }];\n            if (finger1 != null) {\n                xy.push({ x: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger1.x), y: (0,_utilities_animation_js__WEBPACK_IMPORTED_MODULE_8__.timeline)(finger1.y) });\n                positions.push({ x: xy[1].x(0), y: xy[1].y(0) });\n            }\n            let startTime = performance.now();\n            const { width, height } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const dispatchTouches = (type) => {\n                for (const [i, position] of positions.entries()) {\n                    const { style } = fingerElements[i];\n                    style.transform = `translateX(${width * position.x}px) translateY(${height * position.y}px)`;\n                    if (type === 'pointerdown') {\n                        style.opacity = '1';\n                    }\n                    else if (type === 'pointerup') {\n                        style.opacity = '0';\n                    }\n                    const init = {\n                        pointerId: i - 5678,\n                        pointerType: 'touch',\n                        target: inputElement,\n                        clientX: width * position.x,\n                        clientY: height * position.y,\n                        altKey: true // flag that this is not a user interaction\n                    };\n                    inputElement.dispatchEvent(new PointerEvent(type, init));\n                }\n            };\n            const moveTouches = () => {\n                // Cancel interaction if something else moves the camera or input is\n                // removed from the DOM.\n                const { changeSource } = this[$controls];\n                if (changeSource !== _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.AUTOMATIC ||\n                    !inputElement.isConnected) {\n                    for (const fingerElement of this[$fingerAnimatedContainers]) {\n                        fingerElement.style.opacity = '0';\n                    }\n                    dispatchTouches('pointercancel');\n                    this.dispatchEvent(new CustomEvent('interact-stopped', { detail: { source: changeSource } }));\n                    document.removeEventListener('visibilitychange', onVisibilityChange);\n                    return;\n                }\n                const time = Math.min(1, (performance.now() - startTime) / duration);\n                for (const [i, position] of positions.entries()) {\n                    position.x = xy[i].x(time);\n                    position.y = xy[i].y(time);\n                }\n                dispatchTouches('pointermove');\n                if (time < 1) {\n                    requestAnimationFrame(moveTouches);\n                }\n                else {\n                    dispatchTouches('pointerup');\n                    this.dispatchEvent(new CustomEvent('interact-stopped', { detail: { source: changeSource } }));\n                    document.removeEventListener('visibilitychange', onVisibilityChange);\n                }\n            };\n            const onVisibilityChange = () => {\n                let elapsed = 0;\n                if (document.visibilityState === 'hidden') {\n                    elapsed = performance.now() - startTime;\n                }\n                else {\n                    startTime = performance.now() - elapsed;\n                }\n            };\n            document.addEventListener('visibilitychange', onVisibilityChange);\n            dispatchTouches('pointerdown');\n            requestAnimationFrame(moveTouches);\n        }\n        [(_a = $promptElement, _b = $promptAnimatedContainer, _c = $fingerAnimatedContainers, _d = $panElement, _e = $lastPromptOffset, _f = $promptElementVisibleTime, _g = $userHasInteracted, _h = $waitingToPromptUser, _j = $controls, _k = $lastSpherical, _l = $jumpCamera, _m = $initialized, _o = $maintainThetaPhi, $syncFieldOfView)](style) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            scene.framedFoVDeg = style[0] * 180 / Math.PI;\n            this[$controls].setFieldOfView(scene.adjustedFoV(scene.framedFoVDeg));\n        }\n        [$syncCameraOrbit](style) {\n            const controls = this[$controls];\n            if (this[$maintainThetaPhi]) {\n                const { theta, phi } = this.getCameraOrbit();\n                style[0] = theta;\n                style[1] = phi;\n                this[$maintainThetaPhi] = false;\n            }\n            controls.changeSource = _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.NONE;\n            controls.setOrbit(style[0], style[1], style[2]);\n        }\n        [$syncMinCameraOrbit](style) {\n            this[$controls].applyOptions({\n                minimumAzimuthalAngle: style[0],\n                minimumPolarAngle: style[1],\n                minimumRadius: style[2]\n            });\n            this.jumpCameraToGoal();\n        }\n        [$syncMaxCameraOrbit](style) {\n            this[$controls].applyOptions({\n                maximumAzimuthalAngle: style[0],\n                maximumPolarAngle: style[1],\n                maximumRadius: style[2]\n            });\n            this[$updateCameraForRadius](style[2]);\n            this.jumpCameraToGoal();\n        }\n        [$syncMinFieldOfView](style) {\n            this[$controls].applyOptions({ minimumFieldOfView: style[0] * 180 / Math.PI });\n            this.jumpCameraToGoal();\n        }\n        [$syncMaxFieldOfView](style) {\n            const fov = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].adjustedFoV(style[0] * 180 / Math.PI);\n            this[$controls].applyOptions({ maximumFieldOfView: fov });\n            this.jumpCameraToGoal();\n        }\n        [$syncCameraTarget](style) {\n            const [x, y, z] = style;\n            if (!this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.isPresenting) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].setTarget(x, y, z);\n            }\n            this[$controls].changeSource = _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.NONE;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].arRenderer.updateTarget();\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta);\n            if (this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].isPresenting || !this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$getModelIsVisible]()) {\n                return;\n            }\n            const controls = this[$controls];\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const now = performance.now();\n            if (this[$waitingToPromptUser]) {\n                if (this.loaded &&\n                    now > this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$loadedTime] + this.interactionPromptThreshold) {\n                    this[$waitingToPromptUser] = false;\n                    this[$promptElementVisibleTime] = now;\n                    this[$promptElement].classList.add('visible');\n                }\n            }\n            if (isFinite(this[$promptElementVisibleTime]) &&\n                this.interactionPromptStyle === InteractionPromptStyle.WIGGLE) {\n                const animationTime = ((now - this[$promptElementVisibleTime]) / PROMPT_ANIMATION_TIME) %\n                    1;\n                const offset = wiggle(animationTime);\n                const opacity = fade(animationTime);\n                this[$promptAnimatedContainer].style.opacity = `${opacity}`;\n                if (offset !== this[$lastPromptOffset]) {\n                    const xOffset = offset * scene.width * 0.05;\n                    const deltaTheta = (offset - this[$lastPromptOffset]) * Math.PI / 16;\n                    this[$promptAnimatedContainer].style.transform =\n                        `translateX(${xOffset}px)`;\n                    controls.changeSource = _three_components_SmoothControls_js__WEBPACK_IMPORTED_MODULE_7__.ChangeSource.AUTOMATIC;\n                    controls.adjustOrbit(deltaTheta, 0, 0);\n                    this[$lastPromptOffset] = offset;\n                }\n            }\n            controls.update(time, delta);\n            if (scene.updateTarget(delta)) {\n                this[$onChange]({ type: 'change', source: controls.changeSource });\n            }\n        }\n        [$deferInteractionPrompt]() {\n            // Effectively cancel the timer waiting for user interaction:\n            this[$waitingToPromptUser] = false;\n            this[$promptElement].classList.remove('visible');\n            this[$promptElementVisibleTime] = Infinity;\n        }\n        /**\n         * Updates the camera's near and far planes to enclose the scene when\n         * orbiting at the supplied radius.\n         */\n        [$updateCameraForRadius](radius) {\n            const maximumRadius = Math.max(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].boundingSphere.radius, radius);\n            const near = 0;\n            const far = 2 * maximumRadius;\n            this[$controls].updateNearFar(near, far);\n        }\n        [$updateAria]() {\n            const { theta, phi } = this[$controls].getCameraSpherical(this[$lastSpherical]);\n            const azimuthalQuadrant = (4 + Math.floor(((theta % TAU) + QUARTER_PI) / HALF_PI)) % 4;\n            const polarTrient = Math.floor(phi / THIRD_PI);\n            const azimuthalQuadrantLabel = AZIMUTHAL_QUADRANT_LABELS[azimuthalQuadrant];\n            const polarTrientLabel = POLAR_TRIENT_LABELS[polarTrient];\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$updateStatus](`View from stage ${polarTrientLabel}${azimuthalQuadrantLabel}`);\n        }\n        get [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$ariaLabel]() {\n            return super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$ariaLabel] +\n                (this.cameraControls ? INTERACTION_PROMPT : '');\n        }\n        async [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onResize](event) {\n            const controls = this[$controls];\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene];\n            const oldFramedFoV = scene.adjustedFoV(scene.framedFoVDeg);\n            // The super of $onResize may update the scene's adjustedFoV, so we\n            // compare the before and after to calculate the proper zoom.\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onResize](event);\n            const fovRatio = scene.adjustedFoV(scene.framedFoVDeg) / oldFramedFoV;\n            const fov = controls.getFieldOfView() * (isFinite(fovRatio) ? fovRatio : 1);\n            controls.updateAspect(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].aspect);\n            this.requestUpdate('maxFieldOfView', this.maxFieldOfView);\n            await this.updateComplete;\n            this[$controls].setFieldOfView(fov);\n            this.jumpCameraToGoal();\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onModelLoad]() {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$onModelLoad]();\n            if (this[$initialized]) {\n                this[$maintainThetaPhi] = true;\n            }\n            else {\n                this[$initialized] = true;\n            }\n            this.requestUpdate('maxFieldOfView', this.maxFieldOfView);\n            this.requestUpdate('fieldOfView', this.fieldOfView);\n            this.requestUpdate('minCameraOrbit', this.minCameraOrbit);\n            this.requestUpdate('maxCameraOrbit', this.maxCameraOrbit);\n            this.requestUpdate('cameraOrbit', this.cameraOrbit);\n            this.requestUpdate('cameraTarget', this.cameraTarget);\n            this.jumpCameraToGoal();\n        }\n    }\n    _p = $onChange, _q = $onPointerChange;\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean, attribute: 'camera-controls' })\n    ], ControlsModelViewerElement.prototype, \"cameraControls\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: cameraOrbitIntrinsics,\n            observeEffects: true,\n            updateHandler: $syncCameraOrbit\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'camera-orbit', hasChanged: () => true })\n    ], ControlsModelViewerElement.prototype, \"cameraOrbit\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: cameraTargetIntrinsics,\n            observeEffects: true,\n            updateHandler: $syncCameraTarget\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'camera-target', hasChanged: () => true })\n    ], ControlsModelViewerElement.prototype, \"cameraTarget\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: fieldOfViewIntrinsics,\n            observeEffects: true,\n            updateHandler: $syncFieldOfView\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'field-of-view', hasChanged: () => true })\n    ], ControlsModelViewerElement.prototype, \"fieldOfView\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: minCameraOrbitIntrinsics,\n            updateHandler: $syncMinCameraOrbit\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'min-camera-orbit', hasChanged: () => true })\n    ], ControlsModelViewerElement.prototype, \"minCameraOrbit\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: maxCameraOrbitIntrinsics,\n            updateHandler: $syncMaxCameraOrbit\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'max-camera-orbit', hasChanged: () => true })\n    ], ControlsModelViewerElement.prototype, \"maxCameraOrbit\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({\n            intrinsics: minFieldOfViewIntrinsics,\n            updateHandler: $syncMinFieldOfView\n        }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'min-field-of-view', hasChanged: () => true })\n    ], ControlsModelViewerElement.prototype, \"minFieldOfView\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({ intrinsics: fieldOfViewIntrinsics, updateHandler: $syncMaxFieldOfView }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'max-field-of-view', hasChanged: () => true })\n    ], ControlsModelViewerElement.prototype, \"maxFieldOfView\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Number, attribute: 'interaction-prompt-threshold' })\n    ], ControlsModelViewerElement.prototype, \"interactionPromptThreshold\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'interaction-prompt' })\n    ], ControlsModelViewerElement.prototype, \"interactionPrompt\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'interaction-prompt-style' })\n    ], ControlsModelViewerElement.prototype, \"interactionPromptStyle\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Number, attribute: 'orbit-sensitivity' })\n    ], ControlsModelViewerElement.prototype, \"orbitSensitivity\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'touch-action' })\n    ], ControlsModelViewerElement.prototype, \"touchAction\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean, attribute: 'disable-zoom' })\n    ], ControlsModelViewerElement.prototype, \"disableZoom\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean, attribute: 'disable-pan' })\n    ], ControlsModelViewerElement.prototype, \"disablePan\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean, attribute: 'disable-tap' })\n    ], ControlsModelViewerElement.prototype, \"disableTap\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Number, attribute: 'interpolation-decay' })\n    ], ControlsModelViewerElement.prototype, \"interpolationDecay\", void 0);\n    return ControlsModelViewerElement;\n};\n//# sourceMappingURL=controls.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2NvbnRyb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBSSxJQUFJLFNBQUk7QUFDOUI7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDNkM7QUFDRjtBQUNGO0FBQ3dLO0FBQ3RJO0FBQ2xCO0FBQ1c7QUFDRDtBQUNrQjtBQUNoQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUVBQVE7QUFDdkI7QUFDQTtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDLFVBQVUsc0JBQXNCO0FBQ2hDLFVBQVUscUJBQXFCO0FBQy9CLFVBQVUscUJBQXFCO0FBQy9CLFVBQVUscUJBQXFCO0FBQy9CLFVBQVU7QUFDVjtBQUNBLENBQUM7QUFDRCxhQUFhLGlFQUFRO0FBQ3JCO0FBQ0E7QUFDQSxVQUFVLHFCQUFxQjtBQUMvQixVQUFVLHFCQUFxQjtBQUMvQixVQUFVLHFCQUFxQjtBQUMvQixVQUFVO0FBQ1Y7QUFDQSxDQUFDO0FBQ007QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxnQkFBZ0Isd0VBQWdCLENBQUMsOERBQVU7QUFDM0Msb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdFQUFnQixDQUFDLDhEQUFVO0FBQzNDLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ087QUFDUCx5QkFBeUIsb0VBQWdCO0FBQ3pDO0FBQ0Esa0JBQWtCLHFFQUFhO0FBQy9CLGdCQUFnQixxRUFBYTtBQUM3QjtBQUNBLCtCQUErQix5REFBTTtBQUNyQztBQUNBLGdDQUFnQyw4REFBVTtBQUMxQyx3QkFBd0IsbUJBQW1CLDhEQUFVO0FBQ3JEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxrREFBa0QseURBQU07QUFDeEQ7QUFDQTtBQUNBLFlBQVksOERBQVU7QUFDdEIsWUFBWSw4REFBVTtBQUN0QixZQUFZLDhEQUFVO0FBQ3RCO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGlFQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQVU7QUFDdEIsWUFBWSw4REFBVTtBQUN0QixZQUFZLDhEQUFVO0FBQ3RCO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDTztBQUNQLDJCQUEyQix5REFBTSw0QkFBNEIsMENBQU87QUFDcEU7QUFDQTtBQUNBLFlBQVksOERBQVU7QUFDdEIsWUFBWSw4REFBVTtBQUN0QixZQUFZLDhEQUFVO0FBQ3RCO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDJFQUFrQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLCtFQUFjLE1BQU0seURBQU0sZUFBZSxvRUFBaUIsUUFBUSx5REFBTTtBQUNuRywyQkFBMkIsNENBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQSxxQkFBcUIsK0RBQVk7QUFDakMsK0JBQStCLDZFQUFZO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxVQUFVLFVBQVU7QUFDMUY7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZEQUFVO0FBQ25DO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUJBQXFCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsV0FBVyxNQUFNLFNBQVMsTUFBTSxZQUFZO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlFQUFVLE1BQU0sNERBQVMsc0JBQXNCLDREQUFTO0FBQzNFLHFCQUFxQix5REFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseURBQU07QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwwQkFBMEI7QUFDOUUsaUJBQWlCLG9FQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBTTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9FQUFpQixrQ0FBa0MsNkRBQVU7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsYUFBYTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBTTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLG9FQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsR0FBRyxpRUFBUSxnQkFBZ0IsaUVBQVEsYUFBYTtBQUN0RSxpQ0FBaUMsOEJBQThCO0FBQy9EO0FBQ0EsMEJBQTBCLEdBQUcsaUVBQVEsZ0JBQWdCLGlFQUFRLGFBQWE7QUFDMUUsaUNBQWlDLDhCQUE4QjtBQUMvRDtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQixPQUFPLHlEQUFNO0FBQ2pEO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQyxvREFBb0QsbUJBQW1CLGlCQUFpQixvQkFBb0I7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDLHFDQUFxQyw2RUFBWTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLFVBQVUsd0JBQXdCO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsVUFBVSx3QkFBd0I7QUFDL0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBTTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2RUFBWTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyw4Q0FBOEM7QUFDekY7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFNO0FBQ25DLDJDQUEyQyx5QkFBeUI7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNERBQVM7QUFDL0IscUJBQXFCLHlEQUFNO0FBQzNCO0FBQ0EsMkNBQTJDLDZFQUFZO0FBQ3ZELGlCQUFpQiw0REFBUztBQUMxQjtBQUNBLFNBQVMsd0RBQUs7QUFDZCxrQkFBa0Isd0RBQUs7QUFDdkIscUJBQXFCLDREQUFTLHdCQUF3QixxRUFBa0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHlEQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw4REFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLFFBQVE7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsUUFBUTtBQUM5Qyw0Q0FBNEMsNkVBQVk7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLCtDQUErQztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx5REFBTTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0VBQWEscUJBQXFCLGlCQUFpQixFQUFFLHVCQUF1QjtBQUM3RjtBQUNBLGFBQWEsNkRBQVU7QUFDdkIseUJBQXlCLDZEQUFVO0FBQ25DO0FBQ0E7QUFDQSxlQUFlLDREQUFTO0FBQ3hCO0FBQ0EsK0JBQStCLHlEQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw0REFBUztBQUMzQjtBQUNBO0FBQ0EsdUNBQXVDLHlEQUFNO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtEQUFZO0FBQ3JCLGtCQUFrQiwrREFBWTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLDZDQUE2QztBQUNoRTtBQUNBO0FBQ0EsUUFBUSxxREFBSztBQUNiO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRLDJEQUFRLEdBQUcsaUVBQWlFO0FBQ3BGO0FBQ0E7QUFDQSxRQUFRLHFEQUFLO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVEsMkRBQVEsR0FBRyxrRUFBa0U7QUFDckY7QUFDQTtBQUNBLFFBQVEscURBQUs7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSwyREFBUSxHQUFHLGtFQUFrRTtBQUNyRjtBQUNBO0FBQ0EsUUFBUSxxREFBSztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSwyREFBUSxHQUFHLHFFQUFxRTtBQUN4RjtBQUNBO0FBQ0EsUUFBUSxxREFBSztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSwyREFBUSxHQUFHLHFFQUFxRTtBQUN4RjtBQUNBO0FBQ0EsUUFBUSxxREFBSztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSwyREFBUSxHQUFHLHNFQUFzRTtBQUN6RjtBQUNBO0FBQ0EsUUFBUSxxREFBSyxHQUFHLHVFQUF1RTtBQUN2RixRQUFRLDJEQUFRLEdBQUcsc0VBQXNFO0FBQ3pGO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcseURBQXlEO0FBQzVFO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsK0NBQStDO0FBQ2xFO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcscURBQXFEO0FBQ3hFO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsOENBQThDO0FBQ2pFO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcseUNBQXlDO0FBQzVEO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsMENBQTBDO0FBQzdEO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcseUNBQXlDO0FBQzVEO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcseUNBQXlDO0FBQzVEO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvY29udHJvbHMuanM/MjQzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IFNwaGVyaWNhbCwgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAnLi4vZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyAkYXJpYUxhYmVsLCAkY29udGFpbmVyLCAkZ2V0TW9kZWxJc1Zpc2libGUsICRsb2FkZWRUaW1lLCAkbmVlZHNSZW5kZXIsICRvbk1vZGVsTG9hZCwgJG9uUmVzaXplLCAkcmVuZGVyZXIsICRzY2VuZSwgJHRpY2ssICR1cGRhdGVTdGF0dXMsICR1c2VySW5wdXRFbGVtZW50LCB0b1ZlY3RvcjNEIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgZGVncmVlc1RvUmFkaWFucywgbm9ybWFsaXplVW5pdCB9IGZyb20gJy4uL3N0eWxlcy9jb252ZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBTdHlsZUV2YWx1YXRvciB9IGZyb20gJy4uL3N0eWxlcy9ldmFsdWF0b3JzLmpzJztcbmltcG9ydCB7IG51bWJlck5vZGUsIHBhcnNlRXhwcmVzc2lvbnMgfSBmcm9tICcuLi9zdHlsZXMvcGFyc2Vycy5qcyc7XG5pbXBvcnQgeyBERUNBWV9NSUxMSVNFQ09ORFMgfSBmcm9tICcuLi90aHJlZS1jb21wb25lbnRzL0RhbXBlci5qcyc7XG5pbXBvcnQgeyBDaGFuZ2VTb3VyY2UsIFNtb290aENvbnRyb2xzIH0gZnJvbSAnLi4vdGhyZWUtY29tcG9uZW50cy9TbW9vdGhDb250cm9scy5qcyc7XG5pbXBvcnQgeyB0aW1lbGluZSB9IGZyb20gJy4uL3V0aWxpdGllcy9hbmltYXRpb24uanMnO1xuLy8gTk9URShjZGF0YSk6IFRoZSBmb2xsb3dpbmcgXCJhbmltYXRpb25cIiB0aW1pbmcgZnVuY3Rpb25zIGFyZSBkZWxpYmVyYXRlbHlcbi8vIGJlaW5nIHVzZWQgaW4gZmF2b3Igb2YgQ1NTIGFuaW1hdGlvbnMuIEluIFNhZmFyaSAxMi4xIGFuZCAxMywgQ1NTIGFuaW1hdGlvbnNcbi8vIHdvdWxkIGNhdXNlIHRoZSBpbnRlcmFjdGlvbiBwcm9tcHQgdG8gZ2xpdGNoIHVuZXhwZWN0ZWRseVxuLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL21vZGVsLXZpZXdlci9pc3N1ZXMvODM5XG5jb25zdCBQUk9NUFRfQU5JTUFUSU9OX1RJTUUgPSA1MDAwO1xuLy8gRm9yIHRpbWluZyBwdXJwb3NlcywgYSBcImZyYW1lXCIgaXMgYSB0aW1pbmcgYWdub3N0aWMgcmVsYXRpdmUgdW5pdCBvZiB0aW1lXG4vLyBhbmQgYSBcInZhbHVlXCIgaXMgYSB0YXJnZXQgdmFsdWUgZm9yIHRoZSBGcmFtZS5cbmNvbnN0IHdpZ2dsZSA9IHRpbWVsaW5lKHtcbiAgICBpbml0aWFsVmFsdWU6IDAsXG4gICAga2V5ZnJhbWVzOiBbXG4gICAgICAgIHsgZnJhbWVzOiA1LCB2YWx1ZTogLTEgfSxcbiAgICAgICAgeyBmcmFtZXM6IDEsIHZhbHVlOiAtMSB9LFxuICAgICAgICB7IGZyYW1lczogOCwgdmFsdWU6IDEgfSxcbiAgICAgICAgeyBmcmFtZXM6IDEsIHZhbHVlOiAxIH0sXG4gICAgICAgIHsgZnJhbWVzOiA1LCB2YWx1ZTogMCB9LFxuICAgICAgICB7IGZyYW1lczogMTgsIHZhbHVlOiAwIH1cbiAgICBdXG59KTtcbmNvbnN0IGZhZGUgPSB0aW1lbGluZSh7XG4gICAgaW5pdGlhbFZhbHVlOiAwLFxuICAgIGtleWZyYW1lczogW1xuICAgICAgICB7IGZyYW1lczogMSwgdmFsdWU6IDEgfSxcbiAgICAgICAgeyBmcmFtZXM6IDUsIHZhbHVlOiAxIH0sXG4gICAgICAgIHsgZnJhbWVzOiAxLCB2YWx1ZTogMCB9LFxuICAgICAgICB7IGZyYW1lczogNiwgdmFsdWU6IDAgfVxuICAgIF1cbn0pO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRk9WX0RFRyA9IDMwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTUlOX0ZPVl9ERUcgPSAxMjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0NBTUVSQV9PUkJJVCA9ICcwZGVnIDc1ZGVnIDEwNSUnO1xuY29uc3QgREVGQVVMVF9DQU1FUkFfVEFSR0VUID0gJ2F1dG8gYXV0byBhdXRvJztcbmNvbnN0IERFRkFVTFRfRklFTERfT0ZfVklFVyA9ICdhdXRvJztcbmNvbnN0IE1JTklNVU1fUkFESVVTX1JBVElPID0gMi4yO1xuY29uc3QgQVpJTVVUSEFMX1FVQURSQU5UX0xBQkVMUyA9IFsnZnJvbnQnLCAncmlnaHQnLCAnYmFjaycsICdsZWZ0J107XG5jb25zdCBQT0xBUl9UUklFTlRfTEFCRUxTID0gWyd1cHBlci0nLCAnJywgJ2xvd2VyLSddO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfSU5URVJBQ1RJT05fUFJPTVBUX1RIUkVTSE9MRCA9IDMwMDA7XG5leHBvcnQgY29uc3QgSU5URVJBQ1RJT05fUFJPTVBUID0gJy4gVXNlIG1vdXNlLCB0b3VjaCBvciBhcnJvdyBrZXlzIHRvIG1vdmUuJztcbmV4cG9ydCBjb25zdCBJbnRlcmFjdGlvblByb21wdFN0cmF0ZWd5ID0ge1xuICAgIEFVVE86ICdhdXRvJyxcbiAgICBOT05FOiAnbm9uZSdcbn07XG5leHBvcnQgY29uc3QgSW50ZXJhY3Rpb25Qcm9tcHRTdHlsZSA9IHtcbiAgICBCQVNJQzogJ2Jhc2ljJyxcbiAgICBXSUdHTEU6ICd3aWdnbGUnXG59O1xuZXhwb3J0IGNvbnN0IFRvdWNoQWN0aW9uID0ge1xuICAgIFBBTl9ZOiAncGFuLXknLFxuICAgIFBBTl9YOiAncGFuLXgnLFxuICAgIE5PTkU6ICdub25lJ1xufTtcbmV4cG9ydCBjb25zdCBmaWVsZE9mVmlld0ludHJpbnNpY3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmFzaXM6IFtkZWdyZWVzVG9SYWRpYW5zKG51bWJlck5vZGUoREVGQVVMVF9GT1ZfREVHLCAnZGVnJykpXSxcbiAgICAgICAga2V5d29yZHM6IHsgYXV0bzogW251bGxdIH1cbiAgICB9O1xufTtcbmNvbnN0IG1pbkZpZWxkT2ZWaWV3SW50cmluc2ljcyA9ICgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNpczogW2RlZ3JlZXNUb1JhZGlhbnMobnVtYmVyTm9kZShERUZBVUxUX01JTl9GT1ZfREVHLCAnZGVnJykpXSxcbiAgICAgICAga2V5d29yZHM6IHsgYXV0bzogW251bGxdIH1cbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBjYW1lcmFPcmJpdEludHJpbnNpY3MgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGRlZmF1bHRUZXJtcyA9IHBhcnNlRXhwcmVzc2lvbnMoREVGQVVMVF9DQU1FUkFfT1JCSVQpWzBdXG4gICAgICAgIC50ZXJtcztcbiAgICBjb25zdCB0aGV0YSA9IG5vcm1hbGl6ZVVuaXQoZGVmYXVsdFRlcm1zWzBdKTtcbiAgICBjb25zdCBwaGkgPSBub3JtYWxpemVVbml0KGRlZmF1bHRUZXJtc1sxXSk7XG4gICAgcmV0dXJuIChlbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IGVsZW1lbnRbJHNjZW5lXS5pZGVhbENhbWVyYURpc3RhbmNlKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiYXNpczogW3RoZXRhLCBwaGksIG51bWJlck5vZGUocmFkaXVzLCAnbScpXSxcbiAgICAgICAgICAgIGtleXdvcmRzOiB7IGF1dG86IFtudWxsLCBudWxsLCBudW1iZXJOb2RlKDEwNSwgJyUnKV0gfVxuICAgICAgICB9O1xuICAgIH07XG59KSgpO1xuY29uc3QgbWluQ2FtZXJhT3JiaXRJbnRyaW5zaWNzID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCByYWRpdXMgPSBNSU5JTVVNX1JBRElVU19SQVRJTyAqIGVsZW1lbnRbJHNjZW5lXS5ib3VuZGluZ1NwaGVyZS5yYWRpdXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmFzaXM6IFtcbiAgICAgICAgICAgIG51bWJlck5vZGUoLUluZmluaXR5LCAncmFkJyksXG4gICAgICAgICAgICBudW1iZXJOb2RlKE1hdGguUEkgLyA4LCAncmFkJyksXG4gICAgICAgICAgICBudW1iZXJOb2RlKHJhZGl1cywgJ20nKVxuICAgICAgICBdLFxuICAgICAgICBrZXl3b3JkczogeyBhdXRvOiBbbnVsbCwgbnVsbCwgbnVsbF0gfVxuICAgIH07XG59O1xuY29uc3QgbWF4Q2FtZXJhT3JiaXRJbnRyaW5zaWNzID0gKGVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBvcmJpdEludHJpbnNpY3MgPSBjYW1lcmFPcmJpdEludHJpbnNpY3MoZWxlbWVudCk7XG4gICAgY29uc3QgZXZhbHVhdG9yID0gbmV3IFN0eWxlRXZhbHVhdG9yKFtdLCBvcmJpdEludHJpbnNpY3MpO1xuICAgIGNvbnN0IGRlZmF1bHRSYWRpdXMgPSBldmFsdWF0b3IuZXZhbHVhdGUoKVsyXTtcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNpczogW1xuICAgICAgICAgICAgbnVtYmVyTm9kZShJbmZpbml0eSwgJ3JhZCcpLFxuICAgICAgICAgICAgbnVtYmVyTm9kZShNYXRoLlBJIC0gTWF0aC5QSSAvIDgsICdyYWQnKSxcbiAgICAgICAgICAgIG51bWJlck5vZGUoZGVmYXVsdFJhZGl1cywgJ20nKVxuICAgICAgICBdLFxuICAgICAgICBrZXl3b3JkczogeyBhdXRvOiBbbnVsbCwgbnVsbCwgbnVsbF0gfVxuICAgIH07XG59O1xuZXhwb3J0IGNvbnN0IGNhbWVyYVRhcmdldEludHJpbnNpY3MgPSAoZWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGNlbnRlciA9IGVsZW1lbnRbJHNjZW5lXS5ib3VuZGluZ0JveC5nZXRDZW50ZXIobmV3IFZlY3RvcjMoKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYmFzaXM6IFtcbiAgICAgICAgICAgIG51bWJlck5vZGUoY2VudGVyLngsICdtJyksXG4gICAgICAgICAgICBudW1iZXJOb2RlKGNlbnRlci55LCAnbScpLFxuICAgICAgICAgICAgbnVtYmVyTm9kZShjZW50ZXIueiwgJ20nKVxuICAgICAgICBdLFxuICAgICAgICBrZXl3b3JkczogeyBhdXRvOiBbbnVsbCwgbnVsbCwgbnVsbF0gfVxuICAgIH07XG59O1xuY29uc3QgSEFMRl9QSSA9IE1hdGguUEkgLyAyLjA7XG5jb25zdCBUSElSRF9QSSA9IE1hdGguUEkgLyAzLjA7XG5jb25zdCBRVUFSVEVSX1BJID0gSEFMRl9QSSAvIDIuMDtcbmNvbnN0IFRBVSA9IDIuMCAqIE1hdGguUEk7XG5leHBvcnQgY29uc3QgJGNvbnRyb2xzID0gU3ltYm9sKCdjb250cm9scycpO1xuZXhwb3J0IGNvbnN0ICRwYW5FbGVtZW50ID0gU3ltYm9sKCdwYW5FbGVtZW50Jyk7XG5leHBvcnQgY29uc3QgJHByb21wdEVsZW1lbnQgPSBTeW1ib2woJ3Byb21wdEVsZW1lbnQnKTtcbmV4cG9ydCBjb25zdCAkcHJvbXB0QW5pbWF0ZWRDb250YWluZXIgPSBTeW1ib2woJ3Byb21wdEFuaW1hdGVkQ29udGFpbmVyJyk7XG5leHBvcnQgY29uc3QgJGZpbmdlckFuaW1hdGVkQ29udGFpbmVycyA9IFN5bWJvbCgnZmluZ2VyQW5pbWF0ZWRDb250YWluZXJzJyk7XG5jb25zdCAkZGVmZXJJbnRlcmFjdGlvblByb21wdCA9IFN5bWJvbCgnZGVmZXJJbnRlcmFjdGlvblByb21wdCcpO1xuY29uc3QgJHVwZGF0ZUFyaWEgPSBTeW1ib2woJ3VwZGF0ZUFyaWEnKTtcbmNvbnN0ICR1cGRhdGVDYW1lcmFGb3JSYWRpdXMgPSBTeW1ib2woJ3VwZGF0ZUNhbWVyYUZvclJhZGl1cycpO1xuY29uc3QgJG9uQ2hhbmdlID0gU3ltYm9sKCdvbkNoYW5nZScpO1xuY29uc3QgJG9uUG9pbnRlckNoYW5nZSA9IFN5bWJvbCgnb25Qb2ludGVyQ2hhbmdlJyk7XG5jb25zdCAkd2FpdGluZ1RvUHJvbXB0VXNlciA9IFN5bWJvbCgnd2FpdGluZ1RvUHJvbXB0VXNlcicpO1xuY29uc3QgJHVzZXJIYXNJbnRlcmFjdGVkID0gU3ltYm9sKCd1c2VySGFzSW50ZXJhY3RlZCcpO1xuY29uc3QgJHByb21wdEVsZW1lbnRWaXNpYmxlVGltZSA9IFN5bWJvbCgncHJvbXB0RWxlbWVudFZpc2libGVUaW1lJyk7XG5jb25zdCAkbGFzdFByb21wdE9mZnNldCA9IFN5bWJvbCgnbGFzdFByb21wdE9mZnNldCcpO1xuY29uc3QgJGxhc3RTcGhlcmljYWwgPSBTeW1ib2woJ2xhc3RTcGhlcmljYWwnKTtcbmNvbnN0ICRqdW1wQ2FtZXJhID0gU3ltYm9sKCdqdW1wQ2FtZXJhJyk7XG5jb25zdCAkaW5pdGlhbGl6ZWQgPSBTeW1ib2woJ2luaXRpYWxpemVkJyk7XG5jb25zdCAkbWFpbnRhaW5UaGV0YVBoaSA9IFN5bWJvbCgnbWFpbnRhaW5UaGV0YVBoaScpO1xuY29uc3QgJHN5bmNDYW1lcmFPcmJpdCA9IFN5bWJvbCgnc3luY0NhbWVyYU9yYml0Jyk7XG5jb25zdCAkc3luY0ZpZWxkT2ZWaWV3ID0gU3ltYm9sKCdzeW5jRmllbGRPZlZpZXcnKTtcbmNvbnN0ICRzeW5jQ2FtZXJhVGFyZ2V0ID0gU3ltYm9sKCdzeW5jQ2FtZXJhVGFyZ2V0Jyk7XG5jb25zdCAkc3luY01pbkNhbWVyYU9yYml0ID0gU3ltYm9sKCdzeW5jTWluQ2FtZXJhT3JiaXQnKTtcbmNvbnN0ICRzeW5jTWF4Q2FtZXJhT3JiaXQgPSBTeW1ib2woJ3N5bmNNYXhDYW1lcmFPcmJpdCcpO1xuY29uc3QgJHN5bmNNaW5GaWVsZE9mVmlldyA9IFN5bWJvbCgnc3luY01pbkZpZWxkT2ZWaWV3Jyk7XG5jb25zdCAkc3luY01heEZpZWxkT2ZWaWV3ID0gU3ltYm9sKCdzeW5jTWF4RmllbGRPZlZpZXcnKTtcbmV4cG9ydCBjb25zdCBDb250cm9sc01peGluID0gKE1vZGVsVmlld2VyRWxlbWVudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xO1xuICAgIGNsYXNzIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFDb250cm9scyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFPcmJpdCA9IERFRkFVTFRfQ0FNRVJBX09SQklUO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmFUYXJnZXQgPSBERUZBVUxUX0NBTUVSQV9UQVJHRVQ7XG4gICAgICAgICAgICB0aGlzLmZpZWxkT2ZWaWV3ID0gREVGQVVMVF9GSUVMRF9PRl9WSUVXO1xuICAgICAgICAgICAgdGhpcy5taW5DYW1lcmFPcmJpdCA9ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMubWF4Q2FtZXJhT3JiaXQgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLm1pbkZpZWxkT2ZWaWV3ID0gJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy5tYXhGaWVsZE9mVmlldyA9ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHRUaHJlc2hvbGQgPSBERUZBVUxUX0lOVEVSQUNUSU9OX1BST01QVF9USFJFU0hPTEQ7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uUHJvbXB0ID0gSW50ZXJhY3Rpb25Qcm9tcHRTdHJhdGVneS5BVVRPO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblByb21wdFN0eWxlID0gSW50ZXJhY3Rpb25Qcm9tcHRTdHlsZS5XSUdHTEU7XG4gICAgICAgICAgICB0aGlzLm9yYml0U2Vuc2l0aXZpdHkgPSAxO1xuICAgICAgICAgICAgdGhpcy50b3VjaEFjdGlvbiA9IFRvdWNoQWN0aW9uLk5PTkU7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVab29tID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVQYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVRhcCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pbnRlcnBvbGF0aW9uRGVjYXkgPSBERUNBWV9NSUxMSVNFQ09ORFM7XG4gICAgICAgICAgICB0aGlzW19hXSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcuaW50ZXJhY3Rpb24tcHJvbXB0Jyk7XG4gICAgICAgICAgICB0aGlzW19iXSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjcHJvbXB0Jyk7XG4gICAgICAgICAgICB0aGlzW19jXSA9IFtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI2ZpbmdlcjAnKSxcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignI2ZpbmdlcjEnKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHRoaXNbX2RdID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5wYW4tdGFyZ2V0Jyk7XG4gICAgICAgICAgICB0aGlzW19lXSA9IDA7XG4gICAgICAgICAgICB0aGlzW19mXSA9IEluZmluaXR5O1xuICAgICAgICAgICAgdGhpc1tfZ10gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX2hdID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzW19qXSA9IG5ldyBTbW9vdGhDb250cm9scyh0aGlzWyRzY2VuZV0uY2FtZXJhLCB0aGlzWyR1c2VySW5wdXRFbGVtZW50XSwgdGhpc1skc2NlbmVdKTtcbiAgICAgICAgICAgIHRoaXNbX2tdID0gbmV3IFNwaGVyaWNhbCgpO1xuICAgICAgICAgICAgdGhpc1tfbF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX21dID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzW19vXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1tfcF0gPSAoeyBzb3VyY2UgfSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXNbJHVwZGF0ZUFyaWFdKCk7XG4gICAgICAgICAgICAgICAgdGhpc1skbmVlZHNSZW5kZXJdKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSA9PT0gQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT04pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skdXNlckhhc0ludGVyYWN0ZWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skZGVmZXJJbnRlcmFjdGlvblByb21wdF0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2FtZXJhLWNoYW5nZScsIHsgZGV0YWlsOiB7IHNvdXJjZSB9IH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzW19xXSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSAncG9pbnRlci1jaGFuZ2Utc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGNvbnRhaW5lcl0uY2xhc3NMaXN0LmFkZCgncG9pbnRlci10dW1ibGluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skY29udGFpbmVyXS5jbGFzc0xpc3QucmVtb3ZlKCdwb2ludGVyLXR1bWJsaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBnZXQgaW5wdXRTZW5zaXRpdml0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRjb250cm9sc10uaW5wdXRTZW5zaXRpdml0eTtcbiAgICAgICAgfVxuICAgICAgICBzZXQgaW5wdXRTZW5zaXRpdml0eSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLmlucHV0U2Vuc2l0aXZpdHkgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXRDYW1lcmFPcmJpdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdGhldGEsIHBoaSwgcmFkaXVzIH0gPSB0aGlzWyRsYXN0U3BoZXJpY2FsXTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGhldGEsXG4gICAgICAgICAgICAgICAgcGhpLFxuICAgICAgICAgICAgICAgIHJhZGl1cyxcbiAgICAgICAgICAgICAgICB0b1N0cmluZygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMudGhldGF9cmFkICR7dGhpcy5waGl9cmFkICR7dGhpcy5yYWRpdXN9bWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBnZXRDYW1lcmFUYXJnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9WZWN0b3IzRCh0aGlzWyRyZW5kZXJlcl0uaXNQcmVzZW50aW5nID8gdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIudGFyZ2V0IDpcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0uZ2V0VGFyZ2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGdldEZpZWxkT2ZWaWV3KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJGNvbnRyb2xzXS5nZXRGaWVsZE9mVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByb3ZpZGVkIHNvIHVzZXIgY29kZSBkb2VzIG5vdCBoYXZlIHRvIHBhcnNlIHRoZXNlIGZyb20gYXR0cmlidXRlcy5cbiAgICAgICAgZ2V0TWluaW11bUZpZWxkT2ZWaWV3KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJGNvbnRyb2xzXS5vcHRpb25zLm1pbmltdW1GaWVsZE9mVmlldztcbiAgICAgICAgfVxuICAgICAgICBnZXRNYXhpbXVtRmllbGRPZlZpZXcoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skY29udHJvbHNdLm9wdGlvbnMubWF4aW11bUZpZWxkT2ZWaWV3O1xuICAgICAgICB9XG4gICAgICAgIGdldElkZWFsQXNwZWN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJHNjZW5lXS5pZGVhbEFzcGVjdDtcbiAgICAgICAgfVxuICAgICAgICBqdW1wQ2FtZXJhVG9Hb2FsKCkge1xuICAgICAgICAgICAgdGhpc1skanVtcENhbWVyYV0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCRqdW1wQ2FtZXJhLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRJbnRlcmFjdGlvblByb21wdCgpIHtcbiAgICAgICAgICAgIHRoaXNbJGxhc3RQcm9tcHRPZmZzZXRdID0gMDtcbiAgICAgICAgICAgIHRoaXNbJHByb21wdEVsZW1lbnRWaXNpYmxlVGltZV0gPSBJbmZpbml0eTtcbiAgICAgICAgICAgIHRoaXNbJHVzZXJIYXNJbnRlcmFjdGVkXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1skd2FpdGluZ1RvUHJvbXB0VXNlcl0gPVxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHQgPT09IEludGVyYWN0aW9uUHJvbXB0U3RyYXRlZ3kuQVVUTyAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYUNvbnRyb2xzO1xuICAgICAgICB9XG4gICAgICAgIHpvb20oa2V5UHJlc3Nlcykge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgV2hlZWxFdmVudCgnd2hlZWwnLCB7IGRlbHRhWTogLTMwICoga2V5UHJlc3NlcyB9KTtcbiAgICAgICAgICAgIHRoaXNbJHVzZXJJbnB1dEVsZW1lbnRdLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzWyRvbkNoYW5nZV0pO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXItY2hhbmdlLXN0YXJ0JywgdGhpc1skb25Qb2ludGVyQ2hhbmdlXSk7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlci1jaGFuZ2UtZW5kJywgdGhpc1skb25Qb2ludGVyQ2hhbmdlXSk7XG4gICAgICAgIH1cbiAgICAgICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXNbJG9uQ2hhbmdlXSk7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlci1jaGFuZ2Utc3RhcnQnLCB0aGlzWyRvblBvaW50ZXJDaGFuZ2VdKTtcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyLWNoYW5nZS1lbmQnLCB0aGlzWyRvblBvaW50ZXJDaGFuZ2VdKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xzID0gdGhpc1skY29udHJvbHNdO1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdjYW1lcmFDb250cm9scycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhQ29udHJvbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHMuZW5hYmxlSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHQgPT09IEludGVyYWN0aW9uUHJvbXB0U3RyYXRlZ3kuQVVUTykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skd2FpdGluZ1RvUHJvbXB0VXNlcl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9scy5kaXNhYmxlSW50ZXJhY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skZGVmZXJJbnRlcmFjdGlvblByb21wdF0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpc1skdXNlcklucHV0RWxlbWVudF0uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpc1skYXJpYUxhYmVsXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdkaXNhYmxlWm9vbScpKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbHMuZGlzYWJsZVpvb20gPSB0aGlzLmRpc2FibGVab29tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnZGlzYWJsZVBhbicpKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbHMuZW5hYmxlUGFuID0gIXRoaXMuZGlzYWJsZVBhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2Rpc2FibGVUYXAnKSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xzLmVuYWJsZVRhcCA9ICF0aGlzLmRpc2FibGVUYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdpbnRlcmFjdGlvblByb21wdCcpIHx8XG4gICAgICAgICAgICAgICAgY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdjYW1lcmFDb250cm9scycpIHx8XG4gICAgICAgICAgICAgICAgY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdzcmMnKSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmludGVyYWN0aW9uUHJvbXB0ID09PSBJbnRlcmFjdGlvblByb21wdFN0cmF0ZWd5LkFVVE8gJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFDb250cm9scyAmJiAhdGhpc1skdXNlckhhc0ludGVyYWN0ZWRdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJHdhaXRpbmdUb1Byb21wdFVzZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGRlZmVySW50ZXJhY3Rpb25Qcm9tcHRdKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnaW50ZXJhY3Rpb25Qcm9tcHRTdHlsZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skcHJvbXB0QW5pbWF0ZWRDb250YWluZXJdLnN0eWxlLm9wYWNpdHkgPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uUHJvbXB0U3R5bGUgPT0gSW50ZXJhY3Rpb25Qcm9tcHRTdHlsZS5CQVNJQyA/ICcxJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAnMCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCd0b3VjaEFjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2hBY3Rpb24gPSB0aGlzLnRvdWNoQWN0aW9uO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xzLmFwcGx5T3B0aW9ucyh7IHRvdWNoQWN0aW9uIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xzLnVwZGF0ZVRvdWNoQWN0aW9uU3R5bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ29yYml0U2Vuc2l0aXZpdHknKSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xzLm9yYml0U2Vuc2l0aXZpdHkgPSB0aGlzLm9yYml0U2Vuc2l0aXZpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdpbnRlcnBvbGF0aW9uRGVjYXknKSkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xzLnNldERhbXBlckRlY2F5VGltZSh0aGlzLmludGVycG9sYXRpb25EZWNheSk7XG4gICAgICAgICAgICAgICAgc2NlbmUuc2V0VGFyZ2V0RGFtcGVyRGVjYXlUaW1lKHRoaXMuaW50ZXJwb2xhdGlvbkRlY2F5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzWyRqdW1wQ2FtZXJhXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9scy5qdW1wVG9Hb2FsKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLmp1bXBUb0dvYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skanVtcENhbWVyYV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3luYyB1cGRhdGVGcmFtaW5nKCkge1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBjb25zdCBvbGRGcmFtZWRGb1YgPSBzY2VuZS5hZGp1c3RlZEZvVihzY2VuZS5mcmFtZWRGb1ZEZWcpO1xuICAgICAgICAgICAgYXdhaXQgc2NlbmUudXBkYXRlRnJhbWluZygpO1xuICAgICAgICAgICAgY29uc3QgbmV3RnJhbWVkRm9WID0gc2NlbmUuYWRqdXN0ZWRGb1Yoc2NlbmUuZnJhbWVkRm9WRGVnKTtcbiAgICAgICAgICAgIGNvbnN0IHpvb20gPSB0aGlzWyRjb250cm9sc10uZ2V0RmllbGRPZlZpZXcoKSAvIG9sZEZyYW1lZEZvVjtcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS5zZXRGaWVsZE9mVmlldyhuZXdGcmFtZWRGb1YgKiB6b29tKTtcbiAgICAgICAgICAgIHRoaXNbJG1haW50YWluVGhldGFQaGldID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnbWF4RmllbGRPZlZpZXcnKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnZmllbGRPZlZpZXcnKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnbWluQ2FtZXJhT3JiaXQnKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnbWF4Q2FtZXJhT3JiaXQnKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgnY2FtZXJhT3JiaXQnKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgICAgIH1cbiAgICAgICAgaW50ZXJhY3QoZHVyYXRpb24sIGZpbmdlcjAsIGZpbmdlcjEpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRoaXNbJHVzZXJJbnB1dEVsZW1lbnRdO1xuICAgICAgICAgICAgY29uc3QgZmluZ2VyRWxlbWVudHMgPSB0aGlzWyRmaW5nZXJBbmltYXRlZENvbnRhaW5lcnNdO1xuICAgICAgICAgICAgaWYgKGZpbmdlckVsZW1lbnRzWzBdLnN0eWxlLm9wYWNpdHkgPT09ICcxJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignaW50ZXJhY3QoKSBmYWlsZWQgYmVjYXVzZSBhbiBleGlzdGluZyBpbnRlcmFjdGlvbiBpcyBydW5uaW5nLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHh5ID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICB4eS5wdXNoKHsgeDogdGltZWxpbmUoZmluZ2VyMC54KSwgeTogdGltZWxpbmUoZmluZ2VyMC55KSB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFt7IHg6IHh5WzBdLngoMCksIHk6IHh5WzBdLnkoMCkgfV07XG4gICAgICAgICAgICBpZiAoZmluZ2VyMSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgeHkucHVzaCh7IHg6IHRpbWVsaW5lKGZpbmdlcjEueCksIHk6IHRpbWVsaW5lKGZpbmdlcjEueSkgfSk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2goeyB4OiB4eVsxXS54KDApLCB5OiB4eVsxXS55KDApIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBjb25zdCBkaXNwYXRjaFRvdWNoZXMgPSAodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2ksIHBvc2l0aW9uXSBvZiBwb3NpdGlvbnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgc3R5bGUgfSA9IGZpbmdlckVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3dpZHRoICogcG9zaXRpb24ueH1weCkgdHJhbnNsYXRlWSgke2hlaWdodCAqIHBvc2l0aW9uLnl9cHgpYDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdwb2ludGVyZG93bicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3BvaW50ZXJ1cCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJJZDogaSAtIDU2NzgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogaW5wdXRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WDogd2lkdGggKiBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50WTogaGVpZ2h0ICogcG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdEtleTogdHJ1ZSAvLyBmbGFnIHRoYXQgdGhpcyBpcyBub3QgYSB1c2VyIGludGVyYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlucHV0RWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBQb2ludGVyRXZlbnQodHlwZSwgaW5pdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBtb3ZlVG91Y2hlcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBDYW5jZWwgaW50ZXJhY3Rpb24gaWYgc29tZXRoaW5nIGVsc2UgbW92ZXMgdGhlIGNhbWVyYSBvciBpbnB1dCBpc1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2hhbmdlU291cmNlIH0gPSB0aGlzWyRjb250cm9sc107XG4gICAgICAgICAgICAgICAgaWYgKGNoYW5nZVNvdXJjZSAhPT0gQ2hhbmdlU291cmNlLkFVVE9NQVRJQyB8fFxuICAgICAgICAgICAgICAgICAgICAhaW5wdXRFbGVtZW50LmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmluZ2VyRWxlbWVudCBvZiB0aGlzWyRmaW5nZXJBbmltYXRlZENvbnRhaW5lcnNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5nZXJFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hUb3VjaGVzKCdwb2ludGVyY2FuY2VsJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2ludGVyYWN0LXN0b3BwZWQnLCB7IGRldGFpbDogeyBzb3VyY2U6IGNoYW5nZVNvdXJjZSB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IE1hdGgubWluKDEsIChwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbaSwgcG9zaXRpb25dIG9mIHBvc2l0aW9ucy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ueCA9IHh5W2ldLngodGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgPSB4eVtpXS55KHRpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkaXNwYXRjaFRvdWNoZXMoJ3BvaW50ZXJtb3ZlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShtb3ZlVG91Y2hlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaFRvdWNoZXMoJ3BvaW50ZXJ1cCcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdpbnRlcmFjdC1zdG9wcGVkJywgeyBkZXRhaWw6IHsgc291cmNlOiBjaGFuZ2VTb3VyY2UgfSB9KSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBvblZpc2liaWxpdHlDaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGVsYXBzZWQgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsYXBzZWQgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gZWxhcHNlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSk7XG4gICAgICAgICAgICBkaXNwYXRjaFRvdWNoZXMoJ3BvaW50ZXJkb3duJyk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUobW92ZVRvdWNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIFsoX2EgPSAkcHJvbXB0RWxlbWVudCwgX2IgPSAkcHJvbXB0QW5pbWF0ZWRDb250YWluZXIsIF9jID0gJGZpbmdlckFuaW1hdGVkQ29udGFpbmVycywgX2QgPSAkcGFuRWxlbWVudCwgX2UgPSAkbGFzdFByb21wdE9mZnNldCwgX2YgPSAkcHJvbXB0RWxlbWVudFZpc2libGVUaW1lLCBfZyA9ICR1c2VySGFzSW50ZXJhY3RlZCwgX2ggPSAkd2FpdGluZ1RvUHJvbXB0VXNlciwgX2ogPSAkY29udHJvbHMsIF9rID0gJGxhc3RTcGhlcmljYWwsIF9sID0gJGp1bXBDYW1lcmEsIF9tID0gJGluaXRpYWxpemVkLCBfbyA9ICRtYWludGFpblRoZXRhUGhpLCAkc3luY0ZpZWxkT2ZWaWV3KV0oc3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lID0gdGhpc1skc2NlbmVdO1xuICAgICAgICAgICAgc2NlbmUuZnJhbWVkRm9WRGVnID0gc3R5bGVbMF0gKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLnNldEZpZWxkT2ZWaWV3KHNjZW5lLmFkanVzdGVkRm9WKHNjZW5lLmZyYW1lZEZvVkRlZykpO1xuICAgICAgICB9XG4gICAgICAgIFskc3luY0NhbWVyYU9yYml0XShzdHlsZSkge1xuICAgICAgICAgICAgY29uc3QgY29udHJvbHMgPSB0aGlzWyRjb250cm9sc107XG4gICAgICAgICAgICBpZiAodGhpc1skbWFpbnRhaW5UaGV0YVBoaV0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRoZXRhLCBwaGkgfSA9IHRoaXMuZ2V0Q2FtZXJhT3JiaXQoKTtcbiAgICAgICAgICAgICAgICBzdHlsZVswXSA9IHRoZXRhO1xuICAgICAgICAgICAgICAgIHN0eWxlWzFdID0gcGhpO1xuICAgICAgICAgICAgICAgIHRoaXNbJG1haW50YWluVGhldGFQaGldID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250cm9scy5jaGFuZ2VTb3VyY2UgPSBDaGFuZ2VTb3VyY2UuTk9ORTtcbiAgICAgICAgICAgIGNvbnRyb2xzLnNldE9yYml0KHN0eWxlWzBdLCBzdHlsZVsxXSwgc3R5bGVbMl0pO1xuICAgICAgICB9XG4gICAgICAgIFskc3luY01pbkNhbWVyYU9yYml0XShzdHlsZSkge1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLmFwcGx5T3B0aW9ucyh7XG4gICAgICAgICAgICAgICAgbWluaW11bUF6aW11dGhhbEFuZ2xlOiBzdHlsZVswXSxcbiAgICAgICAgICAgICAgICBtaW5pbXVtUG9sYXJBbmdsZTogc3R5bGVbMV0sXG4gICAgICAgICAgICAgICAgbWluaW11bVJhZGl1czogc3R5bGVbMl1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5qdW1wQ2FtZXJhVG9Hb2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgWyRzeW5jTWF4Q2FtZXJhT3JiaXRdKHN0eWxlKSB7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10uYXBwbHlPcHRpb25zKHtcbiAgICAgICAgICAgICAgICBtYXhpbXVtQXppbXV0aGFsQW5nbGU6IHN0eWxlWzBdLFxuICAgICAgICAgICAgICAgIG1heGltdW1Qb2xhckFuZ2xlOiBzdHlsZVsxXSxcbiAgICAgICAgICAgICAgICBtYXhpbXVtUmFkaXVzOiBzdHlsZVsyXVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzWyR1cGRhdGVDYW1lcmFGb3JSYWRpdXNdKHN0eWxlWzJdKTtcbiAgICAgICAgICAgIHRoaXMuanVtcENhbWVyYVRvR29hbCgpO1xuICAgICAgICB9XG4gICAgICAgIFskc3luY01pbkZpZWxkT2ZWaWV3XShzdHlsZSkge1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLmFwcGx5T3B0aW9ucyh7IG1pbmltdW1GaWVsZE9mVmlldzogc3R5bGVbMF0gKiAxODAgLyBNYXRoLlBJIH0pO1xuICAgICAgICAgICAgdGhpcy5qdW1wQ2FtZXJhVG9Hb2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgWyRzeW5jTWF4RmllbGRPZlZpZXddKHN0eWxlKSB7XG4gICAgICAgICAgICBjb25zdCBmb3YgPSB0aGlzWyRzY2VuZV0uYWRqdXN0ZWRGb1Yoc3R5bGVbMF0gKiAxODAgLyBNYXRoLlBJKTtcbiAgICAgICAgICAgIHRoaXNbJGNvbnRyb2xzXS5hcHBseU9wdGlvbnMoeyBtYXhpbXVtRmllbGRPZlZpZXc6IGZvdiB9KTtcbiAgICAgICAgICAgIHRoaXMuanVtcENhbWVyYVRvR29hbCgpO1xuICAgICAgICB9XG4gICAgICAgIFskc3luY0NhbWVyYVRhcmdldF0oc3R5bGUpIHtcbiAgICAgICAgICAgIGNvbnN0IFt4LCB5LCB6XSA9IHN0eWxlO1xuICAgICAgICAgICAgaWYgKCF0aGlzWyRyZW5kZXJlcl0uYXJSZW5kZXJlci5pc1ByZXNlbnRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0uc2V0VGFyZ2V0KHgsIHksIHopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLmNoYW5nZVNvdXJjZSA9IENoYW5nZVNvdXJjZS5OT05FO1xuICAgICAgICAgICAgdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIudXBkYXRlVGFyZ2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgWyR0aWNrXSh0aW1lLCBkZWx0YSkge1xuICAgICAgICAgICAgc3VwZXJbJHRpY2tdKHRpbWUsIGRlbHRhKTtcbiAgICAgICAgICAgIGlmICh0aGlzWyRyZW5kZXJlcl0uaXNQcmVzZW50aW5nIHx8ICF0aGlzWyRnZXRNb2RlbElzVmlzaWJsZV0oKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xzID0gdGhpc1skY29udHJvbHNdO1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIGlmICh0aGlzWyR3YWl0aW5nVG9Qcm9tcHRVc2VyXSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmxvYWRlZCAmJlxuICAgICAgICAgICAgICAgICAgICBub3cgPiB0aGlzWyRsb2FkZWRUaW1lXSArIHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHRUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skd2FpdGluZ1RvUHJvbXB0VXNlcl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skcHJvbXB0RWxlbWVudFZpc2libGVUaW1lXSA9IG5vdztcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skcHJvbXB0RWxlbWVudF0uY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0Zpbml0ZSh0aGlzWyRwcm9tcHRFbGVtZW50VmlzaWJsZVRpbWVdKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25Qcm9tcHRTdHlsZSA9PT0gSW50ZXJhY3Rpb25Qcm9tcHRTdHlsZS5XSUdHTEUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmltYXRpb25UaW1lID0gKChub3cgLSB0aGlzWyRwcm9tcHRFbGVtZW50VmlzaWJsZVRpbWVdKSAvIFBST01QVF9BTklNQVRJT05fVElNRSkgJVxuICAgICAgICAgICAgICAgICAgICAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHdpZ2dsZShhbmltYXRpb25UaW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvcGFjaXR5ID0gZmFkZShhbmltYXRpb25UaW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzWyRwcm9tcHRBbmltYXRlZENvbnRhaW5lcl0uc3R5bGUub3BhY2l0eSA9IGAke29wYWNpdHl9YDtcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSB0aGlzWyRsYXN0UHJvbXB0T2Zmc2V0XSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB4T2Zmc2V0ID0gb2Zmc2V0ICogc2NlbmUud2lkdGggKiAwLjA1O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVRoZXRhID0gKG9mZnNldCAtIHRoaXNbJGxhc3RQcm9tcHRPZmZzZXRdKSAqIE1hdGguUEkgLyAxNjtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skcHJvbXB0QW5pbWF0ZWRDb250YWluZXJdLnN0eWxlLnRyYW5zZm9ybSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBgdHJhbnNsYXRlWCgke3hPZmZzZXR9cHgpYDtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHMuY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLkFVVE9NQVRJQztcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHMuYWRqdXN0T3JiaXQoZGVsdGFUaGV0YSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGxhc3RQcm9tcHRPZmZzZXRdID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRyb2xzLnVwZGF0ZSh0aW1lLCBkZWx0YSk7XG4gICAgICAgICAgICBpZiAoc2NlbmUudXBkYXRlVGFyZ2V0KGRlbHRhKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJG9uQ2hhbmdlXSh7IHR5cGU6ICdjaGFuZ2UnLCBzb3VyY2U6IGNvbnRyb2xzLmNoYW5nZVNvdXJjZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBbJGRlZmVySW50ZXJhY3Rpb25Qcm9tcHRdKCkge1xuICAgICAgICAgICAgLy8gRWZmZWN0aXZlbHkgY2FuY2VsIHRoZSB0aW1lciB3YWl0aW5nIGZvciB1c2VyIGludGVyYWN0aW9uOlxuICAgICAgICAgICAgdGhpc1skd2FpdGluZ1RvUHJvbXB0VXNlcl0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbJHByb21wdEVsZW1lbnRdLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgIHRoaXNbJHByb21wdEVsZW1lbnRWaXNpYmxlVGltZV0gPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlcyB0aGUgY2FtZXJhJ3MgbmVhciBhbmQgZmFyIHBsYW5lcyB0byBlbmNsb3NlIHRoZSBzY2VuZSB3aGVuXG4gICAgICAgICAqIG9yYml0aW5nIGF0IHRoZSBzdXBwbGllZCByYWRpdXMuXG4gICAgICAgICAqL1xuICAgICAgICBbJHVwZGF0ZUNhbWVyYUZvclJhZGl1c10ocmFkaXVzKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhpbXVtUmFkaXVzID0gTWF0aC5tYXgodGhpc1skc2NlbmVdLmJvdW5kaW5nU3BoZXJlLnJhZGl1cywgcmFkaXVzKTtcbiAgICAgICAgICAgIGNvbnN0IG5lYXIgPSAwO1xuICAgICAgICAgICAgY29uc3QgZmFyID0gMiAqIG1heGltdW1SYWRpdXM7XG4gICAgICAgICAgICB0aGlzWyRjb250cm9sc10udXBkYXRlTmVhckZhcihuZWFyLCBmYXIpO1xuICAgICAgICB9XG4gICAgICAgIFskdXBkYXRlQXJpYV0oKSB7XG4gICAgICAgICAgICBjb25zdCB7IHRoZXRhLCBwaGkgfSA9IHRoaXNbJGNvbnRyb2xzXS5nZXRDYW1lcmFTcGhlcmljYWwodGhpc1skbGFzdFNwaGVyaWNhbF0pO1xuICAgICAgICAgICAgY29uc3QgYXppbXV0aGFsUXVhZHJhbnQgPSAoNCArIE1hdGguZmxvb3IoKCh0aGV0YSAlIFRBVSkgKyBRVUFSVEVSX1BJKSAvIEhBTEZfUEkpKSAlIDQ7XG4gICAgICAgICAgICBjb25zdCBwb2xhclRyaWVudCA9IE1hdGguZmxvb3IocGhpIC8gVEhJUkRfUEkpO1xuICAgICAgICAgICAgY29uc3QgYXppbXV0aGFsUXVhZHJhbnRMYWJlbCA9IEFaSU1VVEhBTF9RVUFEUkFOVF9MQUJFTFNbYXppbXV0aGFsUXVhZHJhbnRdO1xuICAgICAgICAgICAgY29uc3QgcG9sYXJUcmllbnRMYWJlbCA9IFBPTEFSX1RSSUVOVF9MQUJFTFNbcG9sYXJUcmllbnRdO1xuICAgICAgICAgICAgdGhpc1skdXBkYXRlU3RhdHVzXShgVmlldyBmcm9tIHN0YWdlICR7cG9sYXJUcmllbnRMYWJlbH0ke2F6aW11dGhhbFF1YWRyYW50TGFiZWx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IFskYXJpYUxhYmVsXSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlclskYXJpYUxhYmVsXSArXG4gICAgICAgICAgICAgICAgKHRoaXMuY2FtZXJhQ29udHJvbHMgPyBJTlRFUkFDVElPTl9QUk9NUFQgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgWyRvblJlc2l6ZV0oZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xzID0gdGhpc1skY29udHJvbHNdO1xuICAgICAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgICAgICBjb25zdCBvbGRGcmFtZWRGb1YgPSBzY2VuZS5hZGp1c3RlZEZvVihzY2VuZS5mcmFtZWRGb1ZEZWcpO1xuICAgICAgICAgICAgLy8gVGhlIHN1cGVyIG9mICRvblJlc2l6ZSBtYXkgdXBkYXRlIHRoZSBzY2VuZSdzIGFkanVzdGVkRm9WLCBzbyB3ZVxuICAgICAgICAgICAgLy8gY29tcGFyZSB0aGUgYmVmb3JlIGFuZCBhZnRlciB0byBjYWxjdWxhdGUgdGhlIHByb3BlciB6b29tLlxuICAgICAgICAgICAgc3VwZXJbJG9uUmVzaXplXShldmVudCk7XG4gICAgICAgICAgICBjb25zdCBmb3ZSYXRpbyA9IHNjZW5lLmFkanVzdGVkRm9WKHNjZW5lLmZyYW1lZEZvVkRlZykgLyBvbGRGcmFtZWRGb1Y7XG4gICAgICAgICAgICBjb25zdCBmb3YgPSBjb250cm9scy5nZXRGaWVsZE9mVmlldygpICogKGlzRmluaXRlKGZvdlJhdGlvKSA/IGZvdlJhdGlvIDogMSk7XG4gICAgICAgICAgICBjb250cm9scy51cGRhdGVBc3BlY3QodGhpc1skc2NlbmVdLmFzcGVjdCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ21heEZpZWxkT2ZWaWV3JywgdGhpcy5tYXhGaWVsZE9mVmlldyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAgICAgICAgdGhpc1skY29udHJvbHNdLnNldEZpZWxkT2ZWaWV3KGZvdik7XG4gICAgICAgICAgICB0aGlzLmp1bXBDYW1lcmFUb0dvYWwoKTtcbiAgICAgICAgfVxuICAgICAgICBbJG9uTW9kZWxMb2FkXSgpIHtcbiAgICAgICAgICAgIHN1cGVyWyRvbk1vZGVsTG9hZF0oKTtcbiAgICAgICAgICAgIGlmICh0aGlzWyRpbml0aWFsaXplZF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRtYWludGFpblRoZXRhUGhpXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRpbml0aWFsaXplZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdtYXhGaWVsZE9mVmlldycsIHRoaXMubWF4RmllbGRPZlZpZXcpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdmaWVsZE9mVmlldycsIHRoaXMuZmllbGRPZlZpZXcpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdtaW5DYW1lcmFPcmJpdCcsIHRoaXMubWluQ2FtZXJhT3JiaXQpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdtYXhDYW1lcmFPcmJpdCcsIHRoaXMubWF4Q2FtZXJhT3JiaXQpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdjYW1lcmFPcmJpdCcsIHRoaXMuY2FtZXJhT3JiaXQpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCdjYW1lcmFUYXJnZXQnLCB0aGlzLmNhbWVyYVRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLmp1bXBDYW1lcmFUb0dvYWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcCA9ICRvbkNoYW5nZSwgX3EgPSAkb25Qb2ludGVyQ2hhbmdlO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2NhbWVyYS1jb250cm9scycgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiY2FtZXJhQ29udHJvbHNcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgaW50cmluc2ljczogY2FtZXJhT3JiaXRJbnRyaW5zaWNzLFxuICAgICAgICAgICAgb2JzZXJ2ZUVmZmVjdHM6IHRydWUsXG4gICAgICAgICAgICB1cGRhdGVIYW5kbGVyOiAkc3luY0NhbWVyYU9yYml0XG4gICAgICAgIH0pLFxuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnY2FtZXJhLW9yYml0JywgaGFzQ2hhbmdlZDogKCkgPT4gdHJ1ZSB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJjYW1lcmFPcmJpdFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICBpbnRyaW5zaWNzOiBjYW1lcmFUYXJnZXRJbnRyaW5zaWNzLFxuICAgICAgICAgICAgb2JzZXJ2ZUVmZmVjdHM6IHRydWUsXG4gICAgICAgICAgICB1cGRhdGVIYW5kbGVyOiAkc3luY0NhbWVyYVRhcmdldFxuICAgICAgICB9KSxcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ2NhbWVyYS10YXJnZXQnLCBoYXNDaGFuZ2VkOiAoKSA9PiB0cnVlIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImNhbWVyYVRhcmdldFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICBpbnRyaW5zaWNzOiBmaWVsZE9mVmlld0ludHJpbnNpY3MsXG4gICAgICAgICAgICBvYnNlcnZlRWZmZWN0czogdHJ1ZSxcbiAgICAgICAgICAgIHVwZGF0ZUhhbmRsZXI6ICRzeW5jRmllbGRPZlZpZXdcbiAgICAgICAgfSksXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdmaWVsZC1vZi12aWV3JywgaGFzQ2hhbmdlZDogKCkgPT4gdHJ1ZSB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJmaWVsZE9mVmlld1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBzdHlsZSh7XG4gICAgICAgICAgICBpbnRyaW5zaWNzOiBtaW5DYW1lcmFPcmJpdEludHJpbnNpY3MsXG4gICAgICAgICAgICB1cGRhdGVIYW5kbGVyOiAkc3luY01pbkNhbWVyYU9yYml0XG4gICAgICAgIH0pLFxuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnbWluLWNhbWVyYS1vcmJpdCcsIGhhc0NoYW5nZWQ6ICgpID0+IHRydWUgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwibWluQ2FtZXJhT3JiaXRcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgc3R5bGUoe1xuICAgICAgICAgICAgaW50cmluc2ljczogbWF4Q2FtZXJhT3JiaXRJbnRyaW5zaWNzLFxuICAgICAgICAgICAgdXBkYXRlSGFuZGxlcjogJHN5bmNNYXhDYW1lcmFPcmJpdFxuICAgICAgICB9KSxcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ21heC1jYW1lcmEtb3JiaXQnLCBoYXNDaGFuZ2VkOiAoKSA9PiB0cnVlIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcIm1heENhbWVyYU9yYml0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHN0eWxlKHtcbiAgICAgICAgICAgIGludHJpbnNpY3M6IG1pbkZpZWxkT2ZWaWV3SW50cmluc2ljcyxcbiAgICAgICAgICAgIHVwZGF0ZUhhbmRsZXI6ICRzeW5jTWluRmllbGRPZlZpZXdcbiAgICAgICAgfSksXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdtaW4tZmllbGQtb2YtdmlldycsIGhhc0NoYW5nZWQ6ICgpID0+IHRydWUgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwibWluRmllbGRPZlZpZXdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgc3R5bGUoeyBpbnRyaW5zaWNzOiBmaWVsZE9mVmlld0ludHJpbnNpY3MsIHVwZGF0ZUhhbmRsZXI6ICRzeW5jTWF4RmllbGRPZlZpZXcgfSksXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdtYXgtZmllbGQtb2YtdmlldycsIGhhc0NoYW5nZWQ6ICgpID0+IHRydWUgfSlcbiAgICBdLCBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwibWF4RmllbGRPZlZpZXdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ2ludGVyYWN0aW9uLXByb21wdC10aHJlc2hvbGQnIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImludGVyYWN0aW9uUHJvbXB0VGhyZXNob2xkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdpbnRlcmFjdGlvbi1wcm9tcHQnIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImludGVyYWN0aW9uUHJvbXB0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdpbnRlcmFjdGlvbi1wcm9tcHQtc3R5bGUnIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImludGVyYWN0aW9uUHJvbXB0U3R5bGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ29yYml0LXNlbnNpdGl2aXR5JyB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJvcmJpdFNlbnNpdGl2aXR5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICd0b3VjaC1hY3Rpb24nIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcInRvdWNoQWN0aW9uXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnZGlzYWJsZS16b29tJyB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJkaXNhYmxlWm9vbVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IEJvb2xlYW4sIGF0dHJpYnV0ZTogJ2Rpc2FibGUtcGFuJyB9KVxuICAgIF0sIENvbnRyb2xzTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJkaXNhYmxlUGFuXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnZGlzYWJsZS10YXAnIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImRpc2FibGVUYXBcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBOdW1iZXIsIGF0dHJpYnV0ZTogJ2ludGVycG9sYXRpb24tZGVjYXknIH0pXG4gICAgXSwgQ29udHJvbHNNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcImludGVycG9sYXRpb25EZWNheVwiLCB2b2lkIDApO1xuICAgIHJldHVybiBDb250cm9sc01vZGVsVmlld2VyRWxlbWVudDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb250cm9scy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/environment.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $currentBackground: () => (/* binding */ $currentBackground),\n/* harmony export */   $currentEnvironmentMap: () => (/* binding */ $currentEnvironmentMap),\n/* harmony export */   $updateEnvironment: () => (/* binding */ $updateEnvironment),\n/* harmony export */   BASE_OPACITY: () => (/* binding */ BASE_OPACITY),\n/* harmony export */   EnvironmentMixin: () => (/* binding */ EnvironmentMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\nconst BASE_OPACITY = 0.5;\nconst DEFAULT_SHADOW_INTENSITY = 0.0;\nconst DEFAULT_SHADOW_SOFTNESS = 1.0;\nconst DEFAULT_EXPOSURE = 1.0;\nconst $currentEnvironmentMap = Symbol('currentEnvironmentMap');\nconst $currentBackground = Symbol('currentBackground');\nconst $updateEnvironment = Symbol('updateEnvironment');\nconst $cancelEnvironmentUpdate = Symbol('cancelEnvironmentUpdate');\nconst EnvironmentMixin = (ModelViewerElement) => {\n    var _a, _b, _c;\n    class EnvironmentModelViewerElement extends ModelViewerElement {\n        constructor() {\n            super(...arguments);\n            this.environmentImage = null;\n            this.skyboxImage = null;\n            this.shadowIntensity = DEFAULT_SHADOW_INTENSITY;\n            this.shadowSoftness = DEFAULT_SHADOW_SOFTNESS;\n            this.exposure = DEFAULT_EXPOSURE;\n            this[_a] = null;\n            this[_b] = null;\n            this[_c] = null;\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has('shadowIntensity')) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setShadowIntensity(this.shadowIntensity * BASE_OPACITY);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n            if (changedProperties.has('shadowSoftness')) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setShadowSoftness(this.shadowSoftness);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n            if (changedProperties.has('exposure')) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].exposure = this.exposure;\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n            if ((changedProperties.has('environmentImage') ||\n                changedProperties.has('skyboxImage')) &&\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$shouldAttemptPreload]()) {\n                this[$updateEnvironment]();\n            }\n        }\n        hasBakedShadow() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].bakedShadows.size > 0;\n        }\n        async [(_a = $currentEnvironmentMap, _b = $currentBackground, _c = $cancelEnvironmentUpdate, $updateEnvironment)]() {\n            const { skyboxImage, environmentImage } = this;\n            if (this[$cancelEnvironmentUpdate] != null) {\n                this[$cancelEnvironmentUpdate]();\n                this[$cancelEnvironmentUpdate] = null;\n            }\n            const { textureUtils } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer];\n            if (textureUtils == null) {\n                return;\n            }\n            const updateEnvProgress = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].beginActivity();\n            try {\n                const { environmentMap, skybox } = await textureUtils.generateEnvironmentMapAndSkybox((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.deserializeUrl)(skyboxImage), environmentImage, (progress) => updateEnvProgress((0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(progress, 0, 1)));\n                if (this[$currentEnvironmentMap] !== environmentMap) {\n                    this[$currentEnvironmentMap] = environmentMap;\n                    this.dispatchEvent(new CustomEvent('environment-change'));\n                }\n                if (skybox != null) {\n                    // When using the same environment and skybox, use the environment as\n                    // it gives HDR filtering.\n                    this[$currentBackground] =\n                        skybox.name === environmentMap.name ? environmentMap : skybox;\n                }\n                else {\n                    this[$currentBackground] = null;\n                }\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setEnvironmentAndSkybox(this[$currentEnvironmentMap], this[$currentBackground]);\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].dispatchEvent({ type: 'envmap-update' });\n            }\n            catch (errorOrPromise) {\n                if (errorOrPromise instanceof Error) {\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].setEnvironmentAndSkybox(null, null);\n                    throw errorOrPromise;\n                }\n            }\n            finally {\n                updateEnvProgress(1.0);\n            }\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'environment-image' })\n    ], EnvironmentModelViewerElement.prototype, \"environmentImage\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'skybox-image' })\n    ], EnvironmentModelViewerElement.prototype, \"skyboxImage\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Number, attribute: 'shadow-intensity' })\n    ], EnvironmentModelViewerElement.prototype, \"shadowIntensity\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Number, attribute: 'shadow-softness' })\n    ], EnvironmentModelViewerElement.prototype, \"shadowSoftness\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({\n            type: Number,\n        })\n    ], EnvironmentModelViewerElement.prototype, \"exposure\", void 0);\n    return EnvironmentModelViewerElement;\n};\n//# sourceMappingURL=environment.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2Vudmlyb25tZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFJLElBQUksU0FBSTtBQUM5QjtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUM2QztBQUNzRTtBQUMzRDtBQUNqRDtBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNQO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBTTtBQUMzQixxQkFBcUIsK0RBQVk7QUFDakM7QUFDQTtBQUNBLHFCQUFxQix5REFBTTtBQUMzQixxQkFBcUIsK0RBQVk7QUFDakM7QUFDQTtBQUNBLHFCQUFxQix5REFBTTtBQUMzQixxQkFBcUIsK0RBQVk7QUFDakM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHdFQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBTTtBQUM5QjtBQUNBO0FBQ0Esb0JBQW9CLGdDQUFnQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlLE9BQU8sNERBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLG1FQUFnQjtBQUMzRDtBQUNBLHdCQUF3Qix5QkFBeUIscURBQXFELDZEQUFjLGlFQUFpRSxvREFBSztBQUMxTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix5REFBTTtBQUMzQixxQkFBcUIseURBQU0sa0JBQWtCLHVCQUF1QjtBQUNwRTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIseURBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLDhDQUE4QztBQUNqRTtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLHlDQUF5QztBQUM1RDtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLDZDQUE2QztBQUNoRTtBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLDRDQUE0QztBQUMvRDtBQUNBO0FBQ0EsUUFBUSwyREFBUTtBQUNoQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2Vudmlyb25tZW50LmpzPzBmNjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyAkbmVlZHNSZW5kZXIsICRwcm9ncmVzc1RyYWNrZXIsICRyZW5kZXJlciwgJHNjZW5lLCAkc2hvdWxkQXR0ZW1wdFByZWxvYWQgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBjbGFtcCwgZGVzZXJpYWxpemVVcmwgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnO1xuZXhwb3J0IGNvbnN0IEJBU0VfT1BBQ0lUWSA9IDAuNTtcbmNvbnN0IERFRkFVTFRfU0hBRE9XX0lOVEVOU0lUWSA9IDAuMDtcbmNvbnN0IERFRkFVTFRfU0hBRE9XX1NPRlRORVNTID0gMS4wO1xuY29uc3QgREVGQVVMVF9FWFBPU1VSRSA9IDEuMDtcbmV4cG9ydCBjb25zdCAkY3VycmVudEVudmlyb25tZW50TWFwID0gU3ltYm9sKCdjdXJyZW50RW52aXJvbm1lbnRNYXAnKTtcbmV4cG9ydCBjb25zdCAkY3VycmVudEJhY2tncm91bmQgPSBTeW1ib2woJ2N1cnJlbnRCYWNrZ3JvdW5kJyk7XG5leHBvcnQgY29uc3QgJHVwZGF0ZUVudmlyb25tZW50ID0gU3ltYm9sKCd1cGRhdGVFbnZpcm9ubWVudCcpO1xuY29uc3QgJGNhbmNlbEVudmlyb25tZW50VXBkYXRlID0gU3ltYm9sKCdjYW5jZWxFbnZpcm9ubWVudFVwZGF0ZScpO1xuZXhwb3J0IGNvbnN0IEVudmlyb25tZW50TWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY2xhc3MgRW52aXJvbm1lbnRNb2RlbFZpZXdlckVsZW1lbnQgZXh0ZW5kcyBNb2RlbFZpZXdlckVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzLmVudmlyb25tZW50SW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5za3lib3hJbWFnZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNoYWRvd0ludGVuc2l0eSA9IERFRkFVTFRfU0hBRE9XX0lOVEVOU0lUWTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93U29mdG5lc3MgPSBERUZBVUxUX1NIQURPV19TT0ZUTkVTUztcbiAgICAgICAgICAgIHRoaXMuZXhwb3N1cmUgPSBERUZBVUxUX0VYUE9TVVJFO1xuICAgICAgICAgICAgdGhpc1tfYV0gPSBudWxsO1xuICAgICAgICAgICAgdGhpc1tfYl0gPSBudWxsO1xuICAgICAgICAgICAgdGhpc1tfY10gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnc2hhZG93SW50ZW5zaXR5JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0uc2V0U2hhZG93SW50ZW5zaXR5KHRoaXMuc2hhZG93SW50ZW5zaXR5ICogQkFTRV9PUEFDSVRZKTtcbiAgICAgICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3NoYWRvd1NvZnRuZXNzJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0uc2V0U2hhZG93U29mdG5lc3ModGhpcy5zaGFkb3dTb2Z0bmVzcyk7XG4gICAgICAgICAgICAgICAgdGhpc1skbmVlZHNSZW5kZXJdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdleHBvc3VyZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLmV4cG9zdXJlID0gdGhpcy5leHBvc3VyZTtcbiAgICAgICAgICAgICAgICB0aGlzWyRuZWVkc1JlbmRlcl0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdlbnZpcm9ubWVudEltYWdlJykgfHxcbiAgICAgICAgICAgICAgICBjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3NreWJveEltYWdlJykpICYmXG4gICAgICAgICAgICAgICAgdGhpc1skc2hvdWxkQXR0ZW1wdFByZWxvYWRdKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVFbnZpcm9ubWVudF0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoYXNCYWtlZFNoYWRvdygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRzY2VuZV0uYmFrZWRTaGFkb3dzLnNpemUgPiAwO1xuICAgICAgICB9XG4gICAgICAgIGFzeW5jIFsoX2EgPSAkY3VycmVudEVudmlyb25tZW50TWFwLCBfYiA9ICRjdXJyZW50QmFja2dyb3VuZCwgX2MgPSAkY2FuY2VsRW52aXJvbm1lbnRVcGRhdGUsICR1cGRhdGVFbnZpcm9ubWVudCldKCkge1xuICAgICAgICAgICAgY29uc3QgeyBza3lib3hJbWFnZSwgZW52aXJvbm1lbnRJbWFnZSB9ID0gdGhpcztcbiAgICAgICAgICAgIGlmICh0aGlzWyRjYW5jZWxFbnZpcm9ubWVudFVwZGF0ZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGNhbmNlbEVudmlyb25tZW50VXBkYXRlXSgpO1xuICAgICAgICAgICAgICAgIHRoaXNbJGNhbmNlbEVudmlyb25tZW50VXBkYXRlXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHRleHR1cmVVdGlscyB9ID0gdGhpc1skcmVuZGVyZXJdO1xuICAgICAgICAgICAgaWYgKHRleHR1cmVVdGlscyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXBkYXRlRW52UHJvZ3Jlc3MgPSB0aGlzWyRwcm9ncmVzc1RyYWNrZXJdLmJlZ2luQWN0aXZpdHkoKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbnZpcm9ubWVudE1hcCwgc2t5Ym94IH0gPSBhd2FpdCB0ZXh0dXJlVXRpbHMuZ2VuZXJhdGVFbnZpcm9ubWVudE1hcEFuZFNreWJveChkZXNlcmlhbGl6ZVVybChza3lib3hJbWFnZSksIGVudmlyb25tZW50SW1hZ2UsIChwcm9ncmVzcykgPT4gdXBkYXRlRW52UHJvZ3Jlc3MoY2xhbXAocHJvZ3Jlc3MsIDAsIDEpKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbJGN1cnJlbnRFbnZpcm9ubWVudE1hcF0gIT09IGVudmlyb25tZW50TWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGN1cnJlbnRFbnZpcm9ubWVudE1hcF0gPSBlbnZpcm9ubWVudE1hcDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZW52aXJvbm1lbnQtY2hhbmdlJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2t5Ym94ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB1c2luZyB0aGUgc2FtZSBlbnZpcm9ubWVudCBhbmQgc2t5Ym94LCB1c2UgdGhlIGVudmlyb25tZW50IGFzXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IGdpdmVzIEhEUiBmaWx0ZXJpbmcuXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGN1cnJlbnRCYWNrZ3JvdW5kXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBza3lib3gubmFtZSA9PT0gZW52aXJvbm1lbnRNYXAubmFtZSA/IGVudmlyb25tZW50TWFwIDogc2t5Ym94O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skY3VycmVudEJhY2tncm91bmRdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnNldEVudmlyb25tZW50QW5kU2t5Ym94KHRoaXNbJGN1cnJlbnRFbnZpcm9ubWVudE1hcF0sIHRoaXNbJGN1cnJlbnRCYWNrZ3JvdW5kXSk7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAnZW52bWFwLXVwZGF0ZScgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3JPclByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JPclByb21pc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0uc2V0RW52aXJvbm1lbnRBbmRTa3lib3gobnVsbCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yT3JQcm9taXNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUVudlByb2dyZXNzKDEuMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdlbnZpcm9ubWVudC1pbWFnZScgfSlcbiAgICBdLCBFbnZpcm9ubWVudE1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiZW52aXJvbm1lbnRJbWFnZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IFN0cmluZywgYXR0cmlidXRlOiAnc2t5Ym94LWltYWdlJyB9KVxuICAgIF0sIEVudmlyb25tZW50TW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJza3lib3hJbWFnZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBwcm9wZXJ0eSh7IHR5cGU6IE51bWJlciwgYXR0cmlidXRlOiAnc2hhZG93LWludGVuc2l0eScgfSlcbiAgICBdLCBFbnZpcm9ubWVudE1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwic2hhZG93SW50ZW5zaXR5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogTnVtYmVyLCBhdHRyaWJ1dGU6ICdzaGFkb3ctc29mdG5lc3MnIH0pXG4gICAgXSwgRW52aXJvbm1lbnRNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcInNoYWRvd1NvZnRuZXNzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHtcbiAgICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgfSlcbiAgICBdLCBFbnZpcm9ubWVudE1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwiZXhwb3N1cmVcIiwgdm9pZCAwKTtcbiAgICByZXR1cm4gRW52aXJvbm1lbnRNb2RlbFZpZXdlckVsZW1lbnQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW52aXJvbm1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/loading.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/loading.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $defaultPosterElement: () => (/* binding */ $defaultPosterElement),\n/* harmony export */   $defaultProgressBarElement: () => (/* binding */ $defaultProgressBarElement),\n/* harmony export */   $posterContainerElement: () => (/* binding */ $posterContainerElement),\n/* harmony export */   LoadingMixin: () => (/* binding */ LoadingMixin),\n/* harmony export */   POSTER_TRANSITION_TIME: () => (/* binding */ POSTER_TRANSITION_TIME),\n/* harmony export */   PROGRESS_BAR_UPDATE_THRESHOLD: () => (/* binding */ PROGRESS_BAR_UPDATE_THRESHOLD)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../three-components/CachingGLTFLoader.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\");\n/* harmony import */ var _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../three-components/Renderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\nconst POSTER_TRANSITION_TIME = 300;\nconst PROGRESS_BAR_UPDATE_THRESHOLD = 100;\nconst DEFAULT_DRACO_DECODER_LOCATION = 'https://www.gstatic.com/draco/versioned/decoders/1.4.1/';\nconst DEFAULT_KTX2_TRANSCODER_LOCATION = 'https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/';\nconst RevealStrategy = {\n    AUTO: 'auto',\n    MANUAL: 'manual'\n};\nconst LoadingStrategy = {\n    AUTO: 'auto',\n    LAZY: 'lazy',\n    EAGER: 'eager'\n};\nconst $defaultProgressBarElement = Symbol('defaultProgressBarElement');\nconst $posterContainerElement = Symbol('posterContainerElement');\nconst $defaultPosterElement = Symbol('defaultPosterElement');\nconst $shouldDismissPoster = Symbol('shouldDismissPoster');\nconst $hidePoster = Symbol('hidePoster');\nconst $modelIsRevealed = Symbol('modelIsRevealed');\nconst $updateProgressBar = Symbol('updateProgressBar');\nconst $ariaLabelCallToAction = Symbol('ariaLabelCallToAction');\nconst $onProgress = Symbol('onProgress');\n/**\n * LoadingMixin implements features related to lazy loading, as well as\n * presentation details related to the pre-load / pre-render presentation of a\n * <model-viewer>\n *\n * This mixin implements support for models with DRACO-compressed meshes.\n * The DRACO decoder will be loaded on-demand if a glTF that uses the DRACO mesh\n * compression extension is encountered.\n *\n * By default, the DRACO decoder will be loaded from a Google CDN. It is\n * possible to customize where the decoder is loaded from by defining a global\n * configuration option for `<model-viewer>` like so:\n *\n * ```html\n * <script>\n * self.ModelViewerElement = self.ModelViewerElement || {};\n * self.ModelViewerElement.dracoDecoderLocation =\n *     'http://example.com/location/of/draco/decoder/files/';\n * </script>\n * ```\n *\n * Note that the above configuration strategy must be performed *before* the\n * first `<model-viewer>` element is created in the browser. The configuration\n * can be done anywhere, but the easiest way to ensure it is done at the right\n * time is to do it in the `<head>` of the HTML document. This is the\n * recommended way to set the location because it is most compatible with\n * scenarios where the `<model-viewer>` library is lazily loaded.\n *\n * If you absolutely have to set the DRACO decoder location *after* the first\n * `<model-viewer>` element is created, you can do it this way:\n *\n * ```html\n * <script>\n * const ModelViewerElement = customElements.get('model-viewer');\n * ModelViewerElement.dracoDecoderLocation =\n *     'http://example.com/location/of/draco/decoder/files/';\n * </script>\n * ```\n *\n * Note that the above configuration approach will not work until *after*\n * `<model-viewer>` is defined in the browser. Also note that this configuration\n * *must* be set *before* the first DRACO model is fully loaded.\n *\n * It is recommended that users who intend to take advantage of DRACO mesh\n * compression consider whether or not it is acceptable for their use case to\n * have code side-loaded from a Google CDN. If it is not acceptable, then the\n * location must be customized before loading any DRACO models in order to cause\n * the decoder to be loaded from an alternative, acceptable location.\n */\nconst LoadingMixin = (ModelViewerElement) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    class LoadingModelViewerElement extends ModelViewerElement {\n        constructor(...args) {\n            super(...args);\n            /**\n             * A URL pointing to the image to use as a poster in scenarios where the\n             * <model-viewer> is not ready to reveal a rendered model to the viewer.\n             */\n            this.poster = null;\n            /**\n             * An enumerable attribute describing under what conditions the\n             * <model-viewer> should reveal a model to the viewer.\n             *\n             * The default value is \"auto\". The only supported alternative values is\n             * \"manual\".\n             */\n            this.reveal = RevealStrategy.AUTO;\n            /**\n             * An enumerable attribute describing under what conditions the\n             * <model-viewer> should preload a model.\n             *\n             * The default value is \"auto\". The only supported alternative values are\n             * \"lazy\" and \"eager\". Auto is equivalent to lazy, which loads the model\n             * when it is near the viewport for reveal = \"auto\", and when interacted\n             * with for reveal = \"interaction\". Eager loads the model immediately.\n             */\n            this.loading = LoadingStrategy.AUTO;\n            this[_a] = false;\n            this[_b] = false;\n            // TODO: Add this to the shadow root as part of this mixin's\n            // implementation:\n            this[_c] = this.shadowRoot.querySelector('.slot.poster');\n            this[_d] = this.shadowRoot.querySelector('#default-poster');\n            this[_e] = this.shadowRoot.querySelector('#default-progress-bar > .bar');\n            this[_f] = this[$defaultPosterElement].getAttribute('aria-label');\n            this[_g] = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_4__.throttle)((progress) => {\n                const parentNode = this[$defaultProgressBarElement].parentNode;\n                requestAnimationFrame(() => {\n                    this[$defaultProgressBarElement].style.transform =\n                        `scaleX(${progress})`;\n                    if (progress === 0) {\n                        // NOTE(cdata): We remove and re-append the progress bar in this\n                        // condition so that the progress bar does not appear to\n                        // transition backwards from the right when we reset to 0 (or\n                        // otherwise <1) progress after having already reached 1 progress\n                        // previously.\n                        parentNode.removeChild(this[$defaultProgressBarElement]);\n                        parentNode.appendChild(this[$defaultProgressBarElement]);\n                    }\n                    // NOTE(cdata): IE11 does not properly respect the second parameter\n                    // of classList.toggle, which this implementation originally used.\n                    // @see https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11865865/\n                    if (progress === 1.0) {\n                        this[$defaultProgressBarElement].classList.add('hide');\n                    }\n                    else {\n                        this[$defaultProgressBarElement].classList.remove('hide');\n                    }\n                });\n            }, PROGRESS_BAR_UPDATE_THRESHOLD);\n            this[_h] = (event) => {\n                const progress = event.detail.totalProgress;\n                if (progress === 1.0) {\n                    this[$updateProgressBar].flush();\n                    if (this.loaded &&\n                        (this[$shouldDismissPoster] ||\n                            this.reveal === RevealStrategy.AUTO)) {\n                        this[$hidePoster]();\n                    }\n                }\n                this[$updateProgressBar](progress);\n                this.dispatchEvent(new CustomEvent('progress', { detail: { totalProgress: progress } }));\n            };\n            const ModelViewerElement = self.ModelViewerElement || {};\n            const dracoDecoderLocation = ModelViewerElement.dracoDecoderLocation ||\n                DEFAULT_DRACO_DECODER_LOCATION;\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setDRACODecoderLocation(dracoDecoderLocation);\n            const ktx2TranscoderLocation = ModelViewerElement.ktx2TranscoderLocation ||\n                DEFAULT_KTX2_TRANSCODER_LOCATION;\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setKTX2TranscoderLocation(ktx2TranscoderLocation);\n            if (ModelViewerElement.meshoptDecoderLocation) {\n                _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setMeshoptDecoderLocation(ModelViewerElement.meshoptDecoderLocation);\n            }\n        }\n        static set dracoDecoderLocation(value) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setDRACODecoderLocation(value);\n        }\n        static get dracoDecoderLocation() {\n            return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.getDRACODecoderLocation();\n        }\n        static set ktx2TranscoderLocation(value) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setKTX2TranscoderLocation(value);\n        }\n        static get ktx2TranscoderLocation() {\n            return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.getKTX2TranscoderLocation();\n        }\n        static set meshoptDecoderLocation(value) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.setMeshoptDecoderLocation(value);\n        }\n        static get meshoptDecoderLocation() {\n            return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.CachingGLTFLoader.getMeshoptDecoderLocation();\n        }\n        /**\n         * If provided, the callback will be passed each resource URL before a\n         * request is sent. The callback may return the original URL, or a new URL\n         * to override loading behavior. This behavior can be used to load assets\n         * from .ZIP files, drag-and-drop APIs, and Data URIs.\n         */\n        static mapURLs(callback) {\n            _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_3__.Renderer.singleton.loader[_three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_2__.$loader].manager.setURLModifier(callback);\n        }\n        /**\n         * Dismisses the poster, causing the model to load and render if\n         * necessary. This is currently effectively the same as interacting with\n         * the poster via user input.\n         */\n        dismissPoster() {\n            if (this.loaded) {\n                this[$hidePoster]();\n            }\n            else {\n                this[$shouldDismissPoster] = true;\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$updateSource]();\n            }\n        }\n        /**\n         * Displays the poster, hiding the 3D model. If this is called after the 3D\n         * model has been revealed, then it must be dismissed by a call to\n         * dismissPoster().\n         */\n        showPoster() {\n            const posterContainerElement = this[$posterContainerElement];\n            if (posterContainerElement.classList.contains('show')) {\n                return;\n            }\n            posterContainerElement.classList.add('show');\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$userInputElement].classList.remove('show');\n            const defaultPosterElement = this[$defaultPosterElement];\n            defaultPosterElement.removeAttribute('tabindex');\n            defaultPosterElement.removeAttribute('aria-hidden');\n            const oldVisibility = this.modelIsVisible;\n            this[$modelIsRevealed] = false;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$announceModelVisibility](oldVisibility);\n        }\n        /**\n         * Returns the model's bounding box dimensions in meters, independent of\n         * turntable rotation.\n         */\n        getDimensions() {\n            return (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.toVector3D)(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].size);\n        }\n        getBoundingBoxCenter() {\n            return (0,_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.toVector3D)(this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene].boundingBox.getCenter(new three__WEBPACK_IMPORTED_MODULE_5__.Vector3()));\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this.showPoster();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].addEventListener('progress', this[$onProgress]);\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].removeEventListener('progress', this[$onProgress]);\n        }\n        async updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has('poster') && this.poster != null) {\n                this[$defaultPosterElement].style.backgroundImage =\n                    `url(${this.poster})`;\n            }\n            if (changedProperties.has('alt')) {\n                this[$defaultPosterElement].setAttribute('aria-label', this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$altDefaulted]);\n            }\n            if (changedProperties.has('reveal') || changedProperties.has('loading')) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$updateSource]();\n            }\n        }\n        [(_a = $modelIsRevealed, _b = $shouldDismissPoster, _c = $posterContainerElement, _d = $defaultPosterElement, _e = $defaultProgressBarElement, _f = $ariaLabelCallToAction, _g = $updateProgressBar, _h = $onProgress, _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$shouldAttemptPreload)]() {\n            return !!this.src &&\n                (this[$shouldDismissPoster] ||\n                    this.loading === LoadingStrategy.EAGER ||\n                    (this.reveal === RevealStrategy.AUTO && this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$isElementInViewport]));\n        }\n        [$hidePoster]() {\n            this[$shouldDismissPoster] = false;\n            const posterContainerElement = this[$posterContainerElement];\n            if (!posterContainerElement.classList.contains('show')) {\n                return;\n            }\n            posterContainerElement.classList.remove('show');\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$userInputElement].classList.add('show');\n            const oldVisibility = this.modelIsVisible;\n            this[$modelIsRevealed] = true;\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$announceModelVisibility](oldVisibility);\n            const root = this.getRootNode();\n            // If the <model-viewer> is still focused, forward the focus to\n            // the canvas that has just been revealed\n            if (root && root.activeElement === this) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$userInputElement].focus();\n            }\n            // Ensure that the poster is no longer focusable or visible to\n            // screen readers\n            const defaultPosterElement = this[$defaultPosterElement];\n            defaultPosterElement.setAttribute('aria-hidden', 'true');\n            defaultPosterElement.tabIndex = -1;\n            this.dispatchEvent(new CustomEvent('poster-dismissed'));\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$getModelIsVisible]() {\n            return super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$getModelIsVisible]() && this[$modelIsRevealed];\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String })\n    ], LoadingModelViewerElement.prototype, \"poster\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String })\n    ], LoadingModelViewerElement.prototype, \"reveal\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String })\n    ], LoadingModelViewerElement.prototype, \"loading\", void 0);\n    return LoadingModelViewerElement;\n};\n//# sourceMappingURL=loading.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL2xvYWRpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFJLElBQUksU0FBSTtBQUM5QjtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUM2QztBQUNiO0FBQzJMO0FBQ3JJO0FBQzNCO0FBQ2hCO0FBQ3BDO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsdURBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFNBQVM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLFVBQVUsMkJBQTJCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxRkFBaUI7QUFDN0I7QUFDQTtBQUNBLFlBQVkscUZBQWlCO0FBQzdCO0FBQ0EsZ0JBQWdCLHFGQUFpQjtBQUNqQztBQUNBO0FBQ0E7QUFDQSxZQUFZLHFGQUFpQjtBQUM3QjtBQUNBO0FBQ0EsbUJBQW1CLHFGQUFpQjtBQUNwQztBQUNBO0FBQ0EsWUFBWSxxRkFBaUI7QUFDN0I7QUFDQTtBQUNBLG1CQUFtQixxRkFBaUI7QUFDcEM7QUFDQTtBQUNBLFlBQVkscUZBQWlCO0FBQzdCO0FBQ0E7QUFDQSxtQkFBbUIscUZBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUFRLGtCQUFrQiwyRUFBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0VBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0VBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQXdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpRUFBVSxNQUFNLHlEQUFNO0FBQ3pDO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQVUsTUFBTSx5REFBTSw0QkFBNEIsMENBQU87QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUVBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtRUFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixZQUFZO0FBQ3ZDO0FBQ0E7QUFDQSw0RUFBNEUsZ0VBQWE7QUFDekY7QUFDQTtBQUNBLHFCQUFxQixnRUFBYTtBQUNsQztBQUNBO0FBQ0EsK05BQStOLHdFQUFxQjtBQUNwUDtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsdUVBQW9CO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0VBQWlCO0FBQ2xDO0FBQ0E7QUFDQSxpQkFBaUIsMkVBQXdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9FQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxRUFBa0I7QUFDM0IseUJBQXlCLHFFQUFrQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsY0FBYztBQUNqQztBQUNBO0FBQ0EsUUFBUSwyREFBUSxHQUFHLGNBQWM7QUFDakM7QUFDQTtBQUNBLFFBQVEsMkRBQVEsR0FBRyxjQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvbG9hZGluZy5qcz9mYzhiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IHByb3BlcnR5IH0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7ICRhbHREZWZhdWx0ZWQsICRhbm5vdW5jZU1vZGVsVmlzaWJpbGl0eSwgJGdldE1vZGVsSXNWaXNpYmxlLCAkaXNFbGVtZW50SW5WaWV3cG9ydCwgJHByb2dyZXNzVHJhY2tlciwgJHNjZW5lLCAkc2hvdWxkQXR0ZW1wdFByZWxvYWQsICR1cGRhdGVTb3VyY2UsICR1c2VySW5wdXRFbGVtZW50LCB0b1ZlY3RvcjNEIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgJGxvYWRlciwgQ2FjaGluZ0dMVEZMb2FkZXIgfSBmcm9tICcuLi90aHJlZS1jb21wb25lbnRzL0NhY2hpbmdHTFRGTG9hZGVyLmpzJztcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi4vdGhyZWUtY29tcG9uZW50cy9SZW5kZXJlci5qcyc7XG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG5leHBvcnQgY29uc3QgUE9TVEVSX1RSQU5TSVRJT05fVElNRSA9IDMwMDtcbmV4cG9ydCBjb25zdCBQUk9HUkVTU19CQVJfVVBEQVRFX1RIUkVTSE9MRCA9IDEwMDtcbmNvbnN0IERFRkFVTFRfRFJBQ09fREVDT0RFUl9MT0NBVElPTiA9ICdodHRwczovL3d3dy5nc3RhdGljLmNvbS9kcmFjby92ZXJzaW9uZWQvZGVjb2RlcnMvMS40LjEvJztcbmNvbnN0IERFRkFVTFRfS1RYMl9UUkFOU0NPREVSX0xPQ0FUSU9OID0gJ2h0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2Jhc2lzLXVuaXZlcnNhbC92ZXJzaW9uZWQvMjAyMS0wNC0xNS1iYTFjM2U0Lyc7XG5jb25zdCBSZXZlYWxTdHJhdGVneSA9IHtcbiAgICBBVVRPOiAnYXV0bycsXG4gICAgTUFOVUFMOiAnbWFudWFsJ1xufTtcbmNvbnN0IExvYWRpbmdTdHJhdGVneSA9IHtcbiAgICBBVVRPOiAnYXV0bycsXG4gICAgTEFaWTogJ2xhenknLFxuICAgIEVBR0VSOiAnZWFnZXInXG59O1xuZXhwb3J0IGNvbnN0ICRkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50ID0gU3ltYm9sKCdkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50Jyk7XG5leHBvcnQgY29uc3QgJHBvc3RlckNvbnRhaW5lckVsZW1lbnQgPSBTeW1ib2woJ3Bvc3RlckNvbnRhaW5lckVsZW1lbnQnKTtcbmV4cG9ydCBjb25zdCAkZGVmYXVsdFBvc3RlckVsZW1lbnQgPSBTeW1ib2woJ2RlZmF1bHRQb3N0ZXJFbGVtZW50Jyk7XG5jb25zdCAkc2hvdWxkRGlzbWlzc1Bvc3RlciA9IFN5bWJvbCgnc2hvdWxkRGlzbWlzc1Bvc3RlcicpO1xuY29uc3QgJGhpZGVQb3N0ZXIgPSBTeW1ib2woJ2hpZGVQb3N0ZXInKTtcbmNvbnN0ICRtb2RlbElzUmV2ZWFsZWQgPSBTeW1ib2woJ21vZGVsSXNSZXZlYWxlZCcpO1xuY29uc3QgJHVwZGF0ZVByb2dyZXNzQmFyID0gU3ltYm9sKCd1cGRhdGVQcm9ncmVzc0JhcicpO1xuY29uc3QgJGFyaWFMYWJlbENhbGxUb0FjdGlvbiA9IFN5bWJvbCgnYXJpYUxhYmVsQ2FsbFRvQWN0aW9uJyk7XG5jb25zdCAkb25Qcm9ncmVzcyA9IFN5bWJvbCgnb25Qcm9ncmVzcycpO1xuLyoqXG4gKiBMb2FkaW5nTWl4aW4gaW1wbGVtZW50cyBmZWF0dXJlcyByZWxhdGVkIHRvIGxhenkgbG9hZGluZywgYXMgd2VsbCBhc1xuICogcHJlc2VudGF0aW9uIGRldGFpbHMgcmVsYXRlZCB0byB0aGUgcHJlLWxvYWQgLyBwcmUtcmVuZGVyIHByZXNlbnRhdGlvbiBvZiBhXG4gKiA8bW9kZWwtdmlld2VyPlxuICpcbiAqIFRoaXMgbWl4aW4gaW1wbGVtZW50cyBzdXBwb3J0IGZvciBtb2RlbHMgd2l0aCBEUkFDTy1jb21wcmVzc2VkIG1lc2hlcy5cbiAqIFRoZSBEUkFDTyBkZWNvZGVyIHdpbGwgYmUgbG9hZGVkIG9uLWRlbWFuZCBpZiBhIGdsVEYgdGhhdCB1c2VzIHRoZSBEUkFDTyBtZXNoXG4gKiBjb21wcmVzc2lvbiBleHRlbnNpb24gaXMgZW5jb3VudGVyZWQuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIERSQUNPIGRlY29kZXIgd2lsbCBiZSBsb2FkZWQgZnJvbSBhIEdvb2dsZSBDRE4uIEl0IGlzXG4gKiBwb3NzaWJsZSB0byBjdXN0b21pemUgd2hlcmUgdGhlIGRlY29kZXIgaXMgbG9hZGVkIGZyb20gYnkgZGVmaW5pbmcgYSBnbG9iYWxcbiAqIGNvbmZpZ3VyYXRpb24gb3B0aW9uIGZvciBgPG1vZGVsLXZpZXdlcj5gIGxpa2Ugc286XG4gKlxuICogYGBgaHRtbFxuICogPHNjcmlwdD5cbiAqIHNlbGYuTW9kZWxWaWV3ZXJFbGVtZW50ID0gc2VsZi5Nb2RlbFZpZXdlckVsZW1lbnQgfHwge307XG4gKiBzZWxmLk1vZGVsVmlld2VyRWxlbWVudC5kcmFjb0RlY29kZXJMb2NhdGlvbiA9XG4gKiAgICAgJ2h0dHA6Ly9leGFtcGxlLmNvbS9sb2NhdGlvbi9vZi9kcmFjby9kZWNvZGVyL2ZpbGVzLyc7XG4gKiA8L3NjcmlwdD5cbiAqIGBgYFxuICpcbiAqIE5vdGUgdGhhdCB0aGUgYWJvdmUgY29uZmlndXJhdGlvbiBzdHJhdGVneSBtdXN0IGJlIHBlcmZvcm1lZCAqYmVmb3JlKiB0aGVcbiAqIGZpcnN0IGA8bW9kZWwtdmlld2VyPmAgZWxlbWVudCBpcyBjcmVhdGVkIGluIHRoZSBicm93c2VyLiBUaGUgY29uZmlndXJhdGlvblxuICogY2FuIGJlIGRvbmUgYW55d2hlcmUsIGJ1dCB0aGUgZWFzaWVzdCB3YXkgdG8gZW5zdXJlIGl0IGlzIGRvbmUgYXQgdGhlIHJpZ2h0XG4gKiB0aW1lIGlzIHRvIGRvIGl0IGluIHRoZSBgPGhlYWQ+YCBvZiB0aGUgSFRNTCBkb2N1bWVudC4gVGhpcyBpcyB0aGVcbiAqIHJlY29tbWVuZGVkIHdheSB0byBzZXQgdGhlIGxvY2F0aW9uIGJlY2F1c2UgaXQgaXMgbW9zdCBjb21wYXRpYmxlIHdpdGhcbiAqIHNjZW5hcmlvcyB3aGVyZSB0aGUgYDxtb2RlbC12aWV3ZXI+YCBsaWJyYXJ5IGlzIGxhemlseSBsb2FkZWQuXG4gKlxuICogSWYgeW91IGFic29sdXRlbHkgaGF2ZSB0byBzZXQgdGhlIERSQUNPIGRlY29kZXIgbG9jYXRpb24gKmFmdGVyKiB0aGUgZmlyc3RcbiAqIGA8bW9kZWwtdmlld2VyPmAgZWxlbWVudCBpcyBjcmVhdGVkLCB5b3UgY2FuIGRvIGl0IHRoaXMgd2F5OlxuICpcbiAqIGBgYGh0bWxcbiAqIDxzY3JpcHQ+XG4gKiBjb25zdCBNb2RlbFZpZXdlckVsZW1lbnQgPSBjdXN0b21FbGVtZW50cy5nZXQoJ21vZGVsLXZpZXdlcicpO1xuICogTW9kZWxWaWV3ZXJFbGVtZW50LmRyYWNvRGVjb2RlckxvY2F0aW9uID1cbiAqICAgICAnaHR0cDovL2V4YW1wbGUuY29tL2xvY2F0aW9uL29mL2RyYWNvL2RlY29kZXIvZmlsZXMvJztcbiAqIDwvc2NyaXB0PlxuICogYGBgXG4gKlxuICogTm90ZSB0aGF0IHRoZSBhYm92ZSBjb25maWd1cmF0aW9uIGFwcHJvYWNoIHdpbGwgbm90IHdvcmsgdW50aWwgKmFmdGVyKlxuICogYDxtb2RlbC12aWV3ZXI+YCBpcyBkZWZpbmVkIGluIHRoZSBicm93c2VyLiBBbHNvIG5vdGUgdGhhdCB0aGlzIGNvbmZpZ3VyYXRpb25cbiAqICptdXN0KiBiZSBzZXQgKmJlZm9yZSogdGhlIGZpcnN0IERSQUNPIG1vZGVsIGlzIGZ1bGx5IGxvYWRlZC5cbiAqXG4gKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHVzZXJzIHdobyBpbnRlbmQgdG8gdGFrZSBhZHZhbnRhZ2Ugb2YgRFJBQ08gbWVzaFxuICogY29tcHJlc3Npb24gY29uc2lkZXIgd2hldGhlciBvciBub3QgaXQgaXMgYWNjZXB0YWJsZSBmb3IgdGhlaXIgdXNlIGNhc2UgdG9cbiAqIGhhdmUgY29kZSBzaWRlLWxvYWRlZCBmcm9tIGEgR29vZ2xlIENETi4gSWYgaXQgaXMgbm90IGFjY2VwdGFibGUsIHRoZW4gdGhlXG4gKiBsb2NhdGlvbiBtdXN0IGJlIGN1c3RvbWl6ZWQgYmVmb3JlIGxvYWRpbmcgYW55IERSQUNPIG1vZGVscyBpbiBvcmRlciB0byBjYXVzZVxuICogdGhlIGRlY29kZXIgdG8gYmUgbG9hZGVkIGZyb20gYW4gYWx0ZXJuYXRpdmUsIGFjY2VwdGFibGUgbG9jYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBMb2FkaW5nTWl4aW4gPSAoTW9kZWxWaWV3ZXJFbGVtZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICBjbGFzcyBMb2FkaW5nTW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICAgICAgc3VwZXIoLi4uYXJncyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgVVJMIHBvaW50aW5nIHRvIHRoZSBpbWFnZSB0byB1c2UgYXMgYSBwb3N0ZXIgaW4gc2NlbmFyaW9zIHdoZXJlIHRoZVxuICAgICAgICAgICAgICogPG1vZGVsLXZpZXdlcj4gaXMgbm90IHJlYWR5IHRvIHJldmVhbCBhIHJlbmRlcmVkIG1vZGVsIHRvIHRoZSB2aWV3ZXIuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMucG9zdGVyID0gbnVsbDtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW4gZW51bWVyYWJsZSBhdHRyaWJ1dGUgZGVzY3JpYmluZyB1bmRlciB3aGF0IGNvbmRpdGlvbnMgdGhlXG4gICAgICAgICAgICAgKiA8bW9kZWwtdmlld2VyPiBzaG91bGQgcmV2ZWFsIGEgbW9kZWwgdG8gdGhlIHZpZXdlci5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBcImF1dG9cIi4gVGhlIG9ubHkgc3VwcG9ydGVkIGFsdGVybmF0aXZlIHZhbHVlcyBpc1xuICAgICAgICAgICAgICogXCJtYW51YWxcIi5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5yZXZlYWwgPSBSZXZlYWxTdHJhdGVneS5BVVRPO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbiBlbnVtZXJhYmxlIGF0dHJpYnV0ZSBkZXNjcmliaW5nIHVuZGVyIHdoYXQgY29uZGl0aW9ucyB0aGVcbiAgICAgICAgICAgICAqIDxtb2RlbC12aWV3ZXI+IHNob3VsZCBwcmVsb2FkIGEgbW9kZWwuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgXCJhdXRvXCIuIFRoZSBvbmx5IHN1cHBvcnRlZCBhbHRlcm5hdGl2ZSB2YWx1ZXMgYXJlXG4gICAgICAgICAgICAgKiBcImxhenlcIiBhbmQgXCJlYWdlclwiLiBBdXRvIGlzIGVxdWl2YWxlbnQgdG8gbGF6eSwgd2hpY2ggbG9hZHMgdGhlIG1vZGVsXG4gICAgICAgICAgICAgKiB3aGVuIGl0IGlzIG5lYXIgdGhlIHZpZXdwb3J0IGZvciByZXZlYWwgPSBcImF1dG9cIiwgYW5kIHdoZW4gaW50ZXJhY3RlZFxuICAgICAgICAgICAgICogd2l0aCBmb3IgcmV2ZWFsID0gXCJpbnRlcmFjdGlvblwiLiBFYWdlciBsb2FkcyB0aGUgbW9kZWwgaW1tZWRpYXRlbHkuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IExvYWRpbmdTdHJhdGVneS5BVVRPO1xuICAgICAgICAgICAgdGhpc1tfYV0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXNbX2JdID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBUT0RPOiBBZGQgdGhpcyB0byB0aGUgc2hhZG93IHJvb3QgYXMgcGFydCBvZiB0aGlzIG1peGluJ3NcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGF0aW9uOlxuICAgICAgICAgICAgdGhpc1tfY10gPSB0aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnNsb3QucG9zdGVyJyk7XG4gICAgICAgICAgICB0aGlzW19kXSA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcjZGVmYXVsdC1wb3N0ZXInKTtcbiAgICAgICAgICAgIHRoaXNbX2VdID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNkZWZhdWx0LXByb2dyZXNzLWJhciA+IC5iYXInKTtcbiAgICAgICAgICAgIHRoaXNbX2ZdID0gdGhpc1skZGVmYXVsdFBvc3RlckVsZW1lbnRdLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICAgICAgdGhpc1tfZ10gPSB0aHJvdHRsZSgocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gdGhpc1skZGVmYXVsdFByb2dyZXNzQmFyRWxlbWVudF0ucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzWyRkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50XS5zdHlsZS50cmFuc2Zvcm0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgYHNjYWxlWCgke3Byb2dyZXNzfSlgO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEUoY2RhdGEpOiBXZSByZW1vdmUgYW5kIHJlLWFwcGVuZCB0aGUgcHJvZ3Jlc3MgYmFyIGluIHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbmRpdGlvbiBzbyB0aGF0IHRoZSBwcm9ncmVzcyBiYXIgZG9lcyBub3QgYXBwZWFyIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2l0aW9uIGJhY2t3YXJkcyBmcm9tIHRoZSByaWdodCB3aGVuIHdlIHJlc2V0IHRvIDAgKG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgPDEpIHByb2dyZXNzIGFmdGVyIGhhdmluZyBhbHJlYWR5IHJlYWNoZWQgMSBwcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmlvdXNseS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1skZGVmYXVsdFByb2dyZXNzQmFyRWxlbWVudF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzWyRkZWZhdWx0UHJvZ3Jlc3NCYXJFbGVtZW50XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URShjZGF0YSk6IElFMTEgZG9lcyBub3QgcHJvcGVybHkgcmVzcGVjdCB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgICAgICAgICAgICAgICAgICAvLyBvZiBjbGFzc0xpc3QudG9nZ2xlLCB3aGljaCB0aGlzIGltcGxlbWVudGF0aW9uIG9yaWdpbmFsbHkgdXNlZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMTg2NTg2NS9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2dyZXNzID09PSAxLjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQcm9ncmVzc0JhckVsZW1lbnRdLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQcm9ncmVzc0JhckVsZW1lbnRdLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgUFJPR1JFU1NfQkFSX1VQREFURV9USFJFU0hPTEQpO1xuICAgICAgICAgICAgdGhpc1tfaF0gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IGV2ZW50LmRldGFpbC50b3RhbFByb2dyZXNzO1xuICAgICAgICAgICAgICAgIGlmIChwcm9ncmVzcyA9PT0gMS4wKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJHVwZGF0ZVByb2dyZXNzQmFyXS5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2FkZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzWyRzaG91bGREaXNtaXNzUG9zdGVyXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV2ZWFsID09PSBSZXZlYWxTdHJhdGVneS5BVVRPKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skaGlkZVBvc3Rlcl0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVQcm9ncmVzc0Jhcl0ocHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Byb2dyZXNzJywgeyBkZXRhaWw6IHsgdG90YWxQcm9ncmVzczogcHJvZ3Jlc3MgfSB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgTW9kZWxWaWV3ZXJFbGVtZW50ID0gc2VsZi5Nb2RlbFZpZXdlckVsZW1lbnQgfHwge307XG4gICAgICAgICAgICBjb25zdCBkcmFjb0RlY29kZXJMb2NhdGlvbiA9IE1vZGVsVmlld2VyRWxlbWVudC5kcmFjb0RlY29kZXJMb2NhdGlvbiB8fFxuICAgICAgICAgICAgICAgIERFRkFVTFRfRFJBQ09fREVDT0RFUl9MT0NBVElPTjtcbiAgICAgICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLnNldERSQUNPRGVjb2RlckxvY2F0aW9uKGRyYWNvRGVjb2RlckxvY2F0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGt0eDJUcmFuc2NvZGVyTG9jYXRpb24gPSBNb2RlbFZpZXdlckVsZW1lbnQua3R4MlRyYW5zY29kZXJMb2NhdGlvbiB8fFxuICAgICAgICAgICAgICAgIERFRkFVTFRfS1RYMl9UUkFOU0NPREVSX0xPQ0FUSU9OO1xuICAgICAgICAgICAgQ2FjaGluZ0dMVEZMb2FkZXIuc2V0S1RYMlRyYW5zY29kZXJMb2NhdGlvbihrdHgyVHJhbnNjb2RlckxvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChNb2RlbFZpZXdlckVsZW1lbnQubWVzaG9wdERlY29kZXJMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLnNldE1lc2hvcHREZWNvZGVyTG9jYXRpb24oTW9kZWxWaWV3ZXJFbGVtZW50Lm1lc2hvcHREZWNvZGVyTG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBzZXQgZHJhY29EZWNvZGVyTG9jYXRpb24odmFsdWUpIHtcbiAgICAgICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLnNldERSQUNPRGVjb2RlckxvY2F0aW9uKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZ2V0IGRyYWNvRGVjb2RlckxvY2F0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIENhY2hpbmdHTFRGTG9hZGVyLmdldERSQUNPRGVjb2RlckxvY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIHNldCBrdHgyVHJhbnNjb2RlckxvY2F0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBDYWNoaW5nR0xURkxvYWRlci5zZXRLVFgyVHJhbnNjb2RlckxvY2F0aW9uKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0aWMgZ2V0IGt0eDJUcmFuc2NvZGVyTG9jYXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gQ2FjaGluZ0dMVEZMb2FkZXIuZ2V0S1RYMlRyYW5zY29kZXJMb2NhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXRpYyBzZXQgbWVzaG9wdERlY29kZXJMb2NhdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgQ2FjaGluZ0dMVEZMb2FkZXIuc2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGljIGdldCBtZXNob3B0RGVjb2RlckxvY2F0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIENhY2hpbmdHTFRGTG9hZGVyLmdldE1lc2hvcHREZWNvZGVyTG9jYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsYmFjayB3aWxsIGJlIHBhc3NlZCBlYWNoIHJlc291cmNlIFVSTCBiZWZvcmUgYVxuICAgICAgICAgKiByZXF1ZXN0IGlzIHNlbnQuIFRoZSBjYWxsYmFjayBtYXkgcmV0dXJuIHRoZSBvcmlnaW5hbCBVUkwsIG9yIGEgbmV3IFVSTFxuICAgICAgICAgKiB0byBvdmVycmlkZSBsb2FkaW5nIGJlaGF2aW9yLiBUaGlzIGJlaGF2aW9yIGNhbiBiZSB1c2VkIHRvIGxvYWQgYXNzZXRzXG4gICAgICAgICAqIGZyb20gLlpJUCBmaWxlcywgZHJhZy1hbmQtZHJvcCBBUElzLCBhbmQgRGF0YSBVUklzLlxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIG1hcFVSTHMoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIFJlbmRlcmVyLnNpbmdsZXRvbi5sb2FkZXJbJGxvYWRlcl0ubWFuYWdlci5zZXRVUkxNb2RpZmllcihjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc21pc3NlcyB0aGUgcG9zdGVyLCBjYXVzaW5nIHRoZSBtb2RlbCB0byBsb2FkIGFuZCByZW5kZXIgaWZcbiAgICAgICAgICogbmVjZXNzYXJ5LiBUaGlzIGlzIGN1cnJlbnRseSBlZmZlY3RpdmVseSB0aGUgc2FtZSBhcyBpbnRlcmFjdGluZyB3aXRoXG4gICAgICAgICAqIHRoZSBwb3N0ZXIgdmlhIHVzZXIgaW5wdXQuXG4gICAgICAgICAqL1xuICAgICAgICBkaXNtaXNzUG9zdGVyKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skaGlkZVBvc3Rlcl0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNob3VsZERpc21pc3NQb3N0ZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVTb3VyY2VdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BsYXlzIHRoZSBwb3N0ZXIsIGhpZGluZyB0aGUgM0QgbW9kZWwuIElmIHRoaXMgaXMgY2FsbGVkIGFmdGVyIHRoZSAzRFxuICAgICAgICAgKiBtb2RlbCBoYXMgYmVlbiByZXZlYWxlZCwgdGhlbiBpdCBtdXN0IGJlIGRpc21pc3NlZCBieSBhIGNhbGwgdG9cbiAgICAgICAgICogZGlzbWlzc1Bvc3RlcigpLlxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd1Bvc3RlcigpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc3RlckNvbnRhaW5lckVsZW1lbnQgPSB0aGlzWyRwb3N0ZXJDb250YWluZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGlmIChwb3N0ZXJDb250YWluZXJFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2hvdycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zdGVyQ29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7XG4gICAgICAgICAgICB0aGlzWyR1c2VySW5wdXRFbGVtZW50XS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UG9zdGVyRWxlbWVudCA9IHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGRlZmF1bHRQb3N0ZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgICAgICAgIGRlZmF1bHRQb3N0ZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgICAgICAgIGNvbnN0IG9sZFZpc2liaWxpdHkgPSB0aGlzLm1vZGVsSXNWaXNpYmxlO1xuICAgICAgICAgICAgdGhpc1skbW9kZWxJc1JldmVhbGVkXSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpc1skYW5ub3VuY2VNb2RlbFZpc2liaWxpdHldKG9sZFZpc2liaWxpdHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBtb2RlbCdzIGJvdW5kaW5nIGJveCBkaW1lbnNpb25zIGluIG1ldGVycywgaW5kZXBlbmRlbnQgb2ZcbiAgICAgICAgICogdHVybnRhYmxlIHJvdGF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGltZW5zaW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB0b1ZlY3RvcjNEKHRoaXNbJHNjZW5lXS5zaXplKTtcbiAgICAgICAgfVxuICAgICAgICBnZXRCb3VuZGluZ0JveENlbnRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0b1ZlY3RvcjNEKHRoaXNbJHNjZW5lXS5ib3VuZGluZ0JveC5nZXRDZW50ZXIobmV3IFZlY3RvcjMoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1Bvc3RlcigpO1xuICAgICAgICAgICAgdGhpc1skcHJvZ3Jlc3NUcmFja2VyXS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXNbJG9uUHJvZ3Jlc3NdKTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB0aGlzWyRwcm9ncmVzc1RyYWNrZXJdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpc1skb25Qcm9ncmVzc10pO1xuICAgICAgICB9XG4gICAgICAgIGFzeW5jIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygncG9zdGVyJykgJiYgdGhpcy5wb3N0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPVxuICAgICAgICAgICAgICAgICAgICBgdXJsKCR7dGhpcy5wb3N0ZXJ9KWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhbHQnKSkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB0aGlzWyRhbHREZWZhdWx0ZWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3JldmVhbCcpIHx8IGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnbG9hZGluZycpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skdXBkYXRlU291cmNlXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFsoX2EgPSAkbW9kZWxJc1JldmVhbGVkLCBfYiA9ICRzaG91bGREaXNtaXNzUG9zdGVyLCBfYyA9ICRwb3N0ZXJDb250YWluZXJFbGVtZW50LCBfZCA9ICRkZWZhdWx0UG9zdGVyRWxlbWVudCwgX2UgPSAkZGVmYXVsdFByb2dyZXNzQmFyRWxlbWVudCwgX2YgPSAkYXJpYUxhYmVsQ2FsbFRvQWN0aW9uLCBfZyA9ICR1cGRhdGVQcm9ncmVzc0JhciwgX2ggPSAkb25Qcm9ncmVzcywgJHNob3VsZEF0dGVtcHRQcmVsb2FkKV0oKSB7XG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLnNyYyAmJlxuICAgICAgICAgICAgICAgICh0aGlzWyRzaG91bGREaXNtaXNzUG9zdGVyXSB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPT09IExvYWRpbmdTdHJhdGVneS5FQUdFUiB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5yZXZlYWwgPT09IFJldmVhbFN0cmF0ZWd5LkFVVE8gJiYgdGhpc1skaXNFbGVtZW50SW5WaWV3cG9ydF0pKTtcbiAgICAgICAgfVxuICAgICAgICBbJGhpZGVQb3N0ZXJdKCkge1xuICAgICAgICAgICAgdGhpc1skc2hvdWxkRGlzbWlzc1Bvc3Rlcl0gPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IHBvc3RlckNvbnRhaW5lckVsZW1lbnQgPSB0aGlzWyRwb3N0ZXJDb250YWluZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGlmICghcG9zdGVyQ29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3Nob3cnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc3RlckNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpO1xuICAgICAgICAgICAgdGhpc1skdXNlcklucHV0RWxlbWVudF0uY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgICAgICAgICAgY29uc3Qgb2xkVmlzaWJpbGl0eSA9IHRoaXMubW9kZWxJc1Zpc2libGU7XG4gICAgICAgICAgICB0aGlzWyRtb2RlbElzUmV2ZWFsZWRdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXNbJGFubm91bmNlTW9kZWxWaXNpYmlsaXR5XShvbGRWaXNpYmlsaXR5KTtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFJvb3ROb2RlKCk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgPG1vZGVsLXZpZXdlcj4gaXMgc3RpbGwgZm9jdXNlZCwgZm9yd2FyZCB0aGUgZm9jdXMgdG9cbiAgICAgICAgICAgIC8vIHRoZSBjYW52YXMgdGhhdCBoYXMganVzdCBiZWVuIHJldmVhbGVkXG4gICAgICAgICAgICBpZiAocm9vdCAmJiByb290LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyR1c2VySW5wdXRFbGVtZW50XS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIHBvc3RlciBpcyBubyBsb25nZXIgZm9jdXNhYmxlIG9yIHZpc2libGUgdG9cbiAgICAgICAgICAgIC8vIHNjcmVlbiByZWFkZXJzXG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0UG9zdGVyRWxlbWVudCA9IHRoaXNbJGRlZmF1bHRQb3N0ZXJFbGVtZW50XTtcbiAgICAgICAgICAgIGRlZmF1bHRQb3N0ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICAgICAgZGVmYXVsdFBvc3RlckVsZW1lbnQudGFiSW5kZXggPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3Bvc3Rlci1kaXNtaXNzZWQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgWyRnZXRNb2RlbElzVmlzaWJsZV0oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXJbJGdldE1vZGVsSXNWaXNpYmxlXSgpICYmIHRoaXNbJG1vZGVsSXNSZXZlYWxlZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgXSwgTG9hZGluZ01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwicG9zdGVyXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgXSwgTG9hZGluZ01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwicmV2ZWFsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG4gICAgXSwgTG9hZGluZ01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwibG9hZGluZ1wiLCB2b2lkIDApO1xuICAgIHJldHVybiBMb2FkaW5nTW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRpbmcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/loading.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $currentGLTF: () => (/* binding */ $currentGLTF),\n/* harmony export */   $model: () => (/* binding */ $model),\n/* harmony export */   $originalGltfJson: () => (/* binding */ $originalGltfJson),\n/* harmony export */   SceneGraphMixin: () => (/* binding */ SceneGraphMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_exporters_GLTFExporter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/exporters/GLTFExporter.js */ \"(ssr)/./node_modules/three/examples/jsm/exporters/GLTFExporter.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_gltf_instance_VariantMaterialExporterPlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../three-components/gltf-instance/VariantMaterialExporterPlugin */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js\");\n/* harmony import */ var _scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scene-graph/model.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/model.js\");\n/* harmony import */ var _scene_graph_texture__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./scene-graph/texture */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n\n\nconst $currentGLTF = Symbol('currentGLTF');\nconst $originalGltfJson = Symbol('originalGltfJson');\nconst $model = Symbol('model');\nconst $getOnUpdateMethod = Symbol('getOnUpdateMethod');\nconst $textureLoader = Symbol('textureLoader');\n/**\n * SceneGraphMixin manages exposes a model API in order to support operations on\n * the <model-viewer> scene graph.\n */\nconst SceneGraphMixin = (ModelViewerElement) => {\n    var _a, _b, _c, _d;\n    class SceneGraphModelViewerElement extends ModelViewerElement {\n        constructor() {\n            super(...arguments);\n            this[_a] = undefined;\n            this[_b] = null;\n            this[_c] = new three__WEBPACK_IMPORTED_MODULE_5__.TextureLoader();\n            this[_d] = null;\n            this.variantName = null;\n            this.orientation = '0 0 0';\n            this.scale = '1 1 1';\n        }\n        // Scene-graph API:\n        /** @export */\n        get model() {\n            return this[$model];\n        }\n        get availableVariants() {\n            return this.model ? this.model[_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$availableVariants]() : [];\n        }\n        /**\n         * Returns a deep copy of the gltf JSON as loaded. It will not reflect\n         * changes to the scene-graph, nor will editing it have any effect.\n         */\n        get originalGltfJson() {\n            return this[$originalGltfJson];\n        }\n        [(_a = $model, _b = $currentGLTF, _c = $textureLoader, _d = $originalGltfJson, $getOnUpdateMethod)]() {\n            return () => {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            };\n        }\n        async createTexture(uri, type = 'image/png') {\n            const currentGLTF = this[$currentGLTF];\n            const texture = await new Promise((resolve) => this[$textureLoader].load(uri, resolve));\n            if (!currentGLTF || !texture) {\n                return null;\n            }\n            // Applies default settings.\n            texture.encoding = three__WEBPACK_IMPORTED_MODULE_5__.sRGBEncoding;\n            texture.wrapS = three__WEBPACK_IMPORTED_MODULE_5__.RepeatWrapping;\n            texture.wrapT = three__WEBPACK_IMPORTED_MODULE_5__.RepeatWrapping;\n            texture.flipY = false;\n            texture.userData.mimeType = type;\n            return new _scene_graph_texture__WEBPACK_IMPORTED_MODULE_4__.Texture(this[$getOnUpdateMethod](), texture);\n        }\n        async updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has('variantName')) {\n                const updateVariantProgress = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$progressTracker].beginActivity();\n                updateVariantProgress(0.1);\n                const model = this[$model];\n                const { variantName } = this;\n                if (model != null) {\n                    await model[_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$switchVariant](variantName);\n                    this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n                    this.dispatchEvent(new CustomEvent('variant-applied'));\n                }\n                updateVariantProgress(1.0);\n            }\n            if (changedProperties.has('orientation') ||\n                changedProperties.has('scale')) {\n                if (!this.loaded) {\n                    return;\n                }\n                const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n                scene.applyTransform();\n                scene.updateBoundingBox();\n                scene.updateShadow();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].arRenderer.onUpdateScene();\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$needsRender]();\n            }\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad]() {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onModelLoad]();\n            const { currentGLTF } = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n            if (currentGLTF != null) {\n                const { correlatedSceneGraph } = currentGLTF;\n                if (correlatedSceneGraph != null &&\n                    currentGLTF !== this[$currentGLTF]) {\n                    this[$model] =\n                        new _scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.Model(correlatedSceneGraph, this[$getOnUpdateMethod]());\n                    this[$originalGltfJson] =\n                        JSON.parse(JSON.stringify(correlatedSceneGraph.gltf));\n                }\n                // KHR_materials_variants extension spec:\n                // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_variants\n                if ('variants' in currentGLTF.userData) {\n                    this.requestUpdate('variantName');\n                }\n            }\n            this[$currentGLTF] = currentGLTF;\n        }\n        /** @export */\n        async exportScene(options) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n            return new Promise(async (resolve, reject) => {\n                // Defaults\n                const opts = {\n                    binary: true,\n                    onlyVisible: true,\n                    maxTextureSize: Infinity,\n                    includeCustomExtensions: false,\n                    forceIndices: false\n                };\n                Object.assign(opts, options);\n                // Not configurable\n                opts.animations = scene.animations;\n                opts.truncateDrawRange = true;\n                const shadow = scene.shadow;\n                let visible = false;\n                // Remove shadow from export\n                if (shadow != null) {\n                    visible = shadow.visible;\n                    shadow.visible = false;\n                }\n                await this[$model][_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$prepareVariantsForExport]();\n                const exporter = new three_examples_jsm_exporters_GLTFExporter_js__WEBPACK_IMPORTED_MODULE_6__.GLTFExporter()\n                    .register((writer) => new _three_components_gltf_instance_VariantMaterialExporterPlugin__WEBPACK_IMPORTED_MODULE_2__[\"default\"](writer));\n                exporter.parse(scene.model, (gltf) => {\n                    return resolve(new Blob([opts.binary ? gltf : JSON.stringify(gltf)], {\n                        type: opts.binary ? 'application/octet-stream' :\n                            'application/json'\n                    }));\n                }, () => {\n                    return reject('glTF export failed');\n                }, opts);\n                if (shadow != null) {\n                    shadow.visible = visible;\n                }\n            });\n        }\n        materialFromPoint(pixelX, pixelY) {\n            const scene = this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$scene];\n            const ndcCoords = scene.getNDC(pixelX, pixelY);\n            scene.raycaster.setFromCamera(ndcCoords, scene.getCamera());\n            return this[$model][_scene_graph_model_js__WEBPACK_IMPORTED_MODULE_3__.$materialFromPoint](scene.raycaster);\n        }\n    }\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'variant-name' })\n    ], SceneGraphModelViewerElement.prototype, \"variantName\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'orientation' })\n    ], SceneGraphModelViewerElement.prototype, \"orientation\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'scale' })\n    ], SceneGraphModelViewerElement.prototype, \"scale\", void 0);\n    return SceneGraphModelViewerElement;\n};\n//# sourceMappingURL=scene-graph.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixTQUFJLElBQUksU0FBSTtBQUM5QjtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUM2QztBQUN1QjtBQUNRO0FBQzhCO0FBQ1c7QUFDYTtBQUM1RDtBQUMvRDtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnREFBYTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHFFQUFrQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwrREFBWTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsK0NBQVk7QUFDM0MsNEJBQTRCLGlEQUFjO0FBQzFDLDRCQUE0QixpREFBYztBQUMxQztBQUNBO0FBQ0EsdUJBQXVCLHlEQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxtRUFBZ0I7QUFDbkU7QUFDQTtBQUNBLHdCQUF3QixjQUFjO0FBQ3RDO0FBQ0EsZ0NBQWdDLGlFQUFjO0FBQzlDLHlCQUF5QiwrREFBWTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMseURBQU07QUFDekM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDREQUFTO0FBQzlCLHFCQUFxQiwrREFBWTtBQUNqQztBQUNBO0FBQ0EsU0FBUywrREFBWTtBQUNyQixrQkFBa0IsK0RBQVk7QUFDOUIsb0JBQW9CLGNBQWMsT0FBTyx5REFBTTtBQUMvQztBQUNBLHdCQUF3Qix1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdEQUFLO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHlEQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsNEVBQXlCO0FBQzVELHFDQUFxQyxzRkFBWTtBQUNqRCw4Q0FBOEMscUdBQXNDO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLCtCQUErQix5REFBTTtBQUNyQztBQUNBO0FBQ0EsZ0NBQWdDLHFFQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcseUNBQXlDO0FBQzVEO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsd0NBQXdDO0FBQzNEO0FBQ0E7QUFDQSxRQUFRLDJEQUFRLEdBQUcsa0NBQWtDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGguanM/OTAzNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IFJlcGVhdFdyYXBwaW5nLCBzUkdCRW5jb2RpbmcsIFRleHR1cmVMb2FkZXIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBHTFRGRXhwb3J0ZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vZXhwb3J0ZXJzL0dMVEZFeHBvcnRlci5qcyc7XG5pbXBvcnQgeyAkbmVlZHNSZW5kZXIsICRvbk1vZGVsTG9hZCwgJHByb2dyZXNzVHJhY2tlciwgJHJlbmRlcmVyLCAkc2NlbmUgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgR0xURkV4cG9ydGVyTWF0ZXJpYWxzVmFyaWFudHNFeHRlbnNpb24gZnJvbSAnLi4vdGhyZWUtY29tcG9uZW50cy9nbHRmLWluc3RhbmNlL1ZhcmlhbnRNYXRlcmlhbEV4cG9ydGVyUGx1Z2luJztcbmltcG9ydCB7ICRhdmFpbGFibGVWYXJpYW50cywgJG1hdGVyaWFsRnJvbVBvaW50LCAkcHJlcGFyZVZhcmlhbnRzRm9yRXhwb3J0LCAkc3dpdGNoVmFyaWFudCwgTW9kZWwgfSBmcm9tICcuL3NjZW5lLWdyYXBoL21vZGVsLmpzJztcbmltcG9ydCB7IFRleHR1cmUgYXMgTW9kZWxWaWV3ZXJUZXh0dXJlIH0gZnJvbSAnLi9zY2VuZS1ncmFwaC90ZXh0dXJlJztcbmV4cG9ydCBjb25zdCAkY3VycmVudEdMVEYgPSBTeW1ib2woJ2N1cnJlbnRHTFRGJyk7XG5leHBvcnQgY29uc3QgJG9yaWdpbmFsR2x0Zkpzb24gPSBTeW1ib2woJ29yaWdpbmFsR2x0Zkpzb24nKTtcbmV4cG9ydCBjb25zdCAkbW9kZWwgPSBTeW1ib2woJ21vZGVsJyk7XG5jb25zdCAkZ2V0T25VcGRhdGVNZXRob2QgPSBTeW1ib2woJ2dldE9uVXBkYXRlTWV0aG9kJyk7XG5jb25zdCAkdGV4dHVyZUxvYWRlciA9IFN5bWJvbCgndGV4dHVyZUxvYWRlcicpO1xuLyoqXG4gKiBTY2VuZUdyYXBoTWl4aW4gbWFuYWdlcyBleHBvc2VzIGEgbW9kZWwgQVBJIGluIG9yZGVyIHRvIHN1cHBvcnQgb3BlcmF0aW9ucyBvblxuICogdGhlIDxtb2RlbC12aWV3ZXI+IHNjZW5lIGdyYXBoLlxuICovXG5leHBvcnQgY29uc3QgU2NlbmVHcmFwaE1peGluID0gKE1vZGVsVmlld2VyRWxlbWVudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBjbGFzcyBTY2VuZUdyYXBoTW9kZWxWaWV3ZXJFbGVtZW50IGV4dGVuZHMgTW9kZWxWaWV3ZXJFbGVtZW50IHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpc1tfYV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzW19iXSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzW19jXSA9IG5ldyBUZXh0dXJlTG9hZGVyKCk7XG4gICAgICAgICAgICB0aGlzW19kXSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnZhcmlhbnROYW1lID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb24gPSAnMCAwIDAnO1xuICAgICAgICAgICAgdGhpcy5zY2FsZSA9ICcxIDEgMSc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2NlbmUtZ3JhcGggQVBJOlxuICAgICAgICAvKiogQGV4cG9ydCAqL1xuICAgICAgICBnZXQgbW9kZWwoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1skbW9kZWxdO1xuICAgICAgICB9XG4gICAgICAgIGdldCBhdmFpbGFibGVWYXJpYW50cygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vZGVsID8gdGhpcy5tb2RlbFskYXZhaWxhYmxlVmFyaWFudHNdKCkgOiBbXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIGRlZXAgY29weSBvZiB0aGUgZ2x0ZiBKU09OIGFzIGxvYWRlZC4gSXQgd2lsbCBub3QgcmVmbGVjdFxuICAgICAgICAgKiBjaGFuZ2VzIHRvIHRoZSBzY2VuZS1ncmFwaCwgbm9yIHdpbGwgZWRpdGluZyBpdCBoYXZlIGFueSBlZmZlY3QuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQgb3JpZ2luYWxHbHRmSnNvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWyRvcmlnaW5hbEdsdGZKc29uXTtcbiAgICAgICAgfVxuICAgICAgICBbKF9hID0gJG1vZGVsLCBfYiA9ICRjdXJyZW50R0xURiwgX2MgPSAkdGV4dHVyZUxvYWRlciwgX2QgPSAkb3JpZ2luYWxHbHRmSnNvbiwgJGdldE9uVXBkYXRlTWV0aG9kKV0oKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyBjcmVhdGVUZXh0dXJlKHVyaSwgdHlwZSA9ICdpbWFnZS9wbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50R0xURiA9IHRoaXNbJGN1cnJlbnRHTFRGXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gdGhpc1skdGV4dHVyZUxvYWRlcl0ubG9hZCh1cmksIHJlc29sdmUpKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudEdMVEYgfHwgIXRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEFwcGxpZXMgZGVmYXVsdCBzZXR0aW5ncy5cbiAgICAgICAgICAgIHRleHR1cmUuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG4gICAgICAgICAgICB0ZXh0dXJlLndyYXBTID0gUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgICAgICB0ZXh0dXJlLndyYXBUID0gUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgICAgICB0ZXh0dXJlLmZsaXBZID0gZmFsc2U7XG4gICAgICAgICAgICB0ZXh0dXJlLnVzZXJEYXRhLm1pbWVUeXBlID0gdHlwZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW9kZWxWaWV3ZXJUZXh0dXJlKHRoaXNbJGdldE9uVXBkYXRlTWV0aG9kXSgpLCB0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyB1cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ3ZhcmlhbnROYW1lJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVWYXJpYW50UHJvZ3Jlc3MgPSB0aGlzWyRwcm9ncmVzc1RyYWNrZXJdLmJlZ2luQWN0aXZpdHkoKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVWYXJpYW50UHJvZ3Jlc3MoMC4xKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXNbJG1vZGVsXTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhcmlhbnROYW1lIH0gPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVsWyRzd2l0Y2hWYXJpYW50XSh2YXJpYW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCd2YXJpYW50LWFwcGxpZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZVZhcmlhbnRQcm9ncmVzcygxLjApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnb3JpZW50YXRpb24nKSB8fFxuICAgICAgICAgICAgICAgIGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnc2NhbGUnKSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgICAgICBzY2VuZS5hcHBseVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHNjZW5lLnVwZGF0ZUJvdW5kaW5nQm94KCk7XG4gICAgICAgICAgICAgICAgc2NlbmUudXBkYXRlU2hhZG93KCk7XG4gICAgICAgICAgICAgICAgdGhpc1skcmVuZGVyZXJdLmFyUmVuZGVyZXIub25VcGRhdGVTY2VuZSgpO1xuICAgICAgICAgICAgICAgIHRoaXNbJG5lZWRzUmVuZGVyXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFskb25Nb2RlbExvYWRdKCkge1xuICAgICAgICAgICAgc3VwZXJbJG9uTW9kZWxMb2FkXSgpO1xuICAgICAgICAgICAgY29uc3QgeyBjdXJyZW50R0xURiB9ID0gdGhpc1skc2NlbmVdO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRHTFRGICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvcnJlbGF0ZWRTY2VuZUdyYXBoIH0gPSBjdXJyZW50R0xURjtcbiAgICAgICAgICAgICAgICBpZiAoY29ycmVsYXRlZFNjZW5lR3JhcGggIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50R0xURiAhPT0gdGhpc1skY3VycmVudEdMVEZdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJG1vZGVsXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW9kZWwoY29ycmVsYXRlZFNjZW5lR3JhcGgsIHRoaXNbJGdldE9uVXBkYXRlTWV0aG9kXSgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skb3JpZ2luYWxHbHRmSnNvbl0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb3JyZWxhdGVkU2NlbmVHcmFwaC5nbHRmKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEtIUl9tYXRlcmlhbHNfdmFyaWFudHMgZXh0ZW5zaW9uIHNwZWM6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL2V4dGVuc2lvbnMvMi4wL0tocm9ub3MvS0hSX21hdGVyaWFsc192YXJpYW50c1xuICAgICAgICAgICAgICAgIGlmICgndmFyaWFudHMnIGluIGN1cnJlbnRHTFRGLnVzZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgndmFyaWFudE5hbWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzWyRjdXJyZW50R0xURl0gPSBjdXJyZW50R0xURjtcbiAgICAgICAgfVxuICAgICAgICAvKiogQGV4cG9ydCAqL1xuICAgICAgICBhc3luYyBleHBvcnRTY2VuZShvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXNbJHNjZW5lXTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdHNcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBiaW5hcnk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG9ubHlWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtYXhUZXh0dXJlU2l6ZTogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgICAgIGluY2x1ZGVDdXN0b21FeHRlbnNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VJbmRpY2VzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBOb3QgY29uZmlndXJhYmxlXG4gICAgICAgICAgICAgICAgb3B0cy5hbmltYXRpb25zID0gc2NlbmUuYW5pbWF0aW9ucztcbiAgICAgICAgICAgICAgICBvcHRzLnRydW5jYXRlRHJhd1JhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaGFkb3cgPSBzY2VuZS5zaGFkb3c7XG4gICAgICAgICAgICAgICAgbGV0IHZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgc2hhZG93IGZyb20gZXhwb3J0XG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpc2libGUgPSBzaGFkb3cudmlzaWJsZTtcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpc1skbW9kZWxdWyRwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnRdKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhwb3J0ZXIgPSBuZXcgR0xURkV4cG9ydGVyKClcbiAgICAgICAgICAgICAgICAgICAgLnJlZ2lzdGVyKCh3cml0ZXIpID0+IG5ldyBHTFRGRXhwb3J0ZXJNYXRlcmlhbHNWYXJpYW50c0V4dGVuc2lvbih3cml0ZXIpKTtcbiAgICAgICAgICAgICAgICBleHBvcnRlci5wYXJzZShzY2VuZS5tb2RlbCwgKGdsdGYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobmV3IEJsb2IoW29wdHMuYmluYXJ5ID8gZ2x0ZiA6IEpTT04uc3RyaW5naWZ5KGdsdGYpXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogb3B0cy5iaW5hcnkgPyAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoJ2dsVEYgZXhwb3J0IGZhaWxlZCcpO1xuICAgICAgICAgICAgICAgIH0sIG9wdHMpO1xuICAgICAgICAgICAgICAgIGlmIChzaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzaGFkb3cudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF0ZXJpYWxGcm9tUG9pbnQocGl4ZWxYLCBwaXhlbFkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjZW5lID0gdGhpc1skc2NlbmVdO1xuICAgICAgICAgICAgY29uc3QgbmRjQ29vcmRzID0gc2NlbmUuZ2V0TkRDKHBpeGVsWCwgcGl4ZWxZKTtcbiAgICAgICAgICAgIHNjZW5lLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG5kY0Nvb3Jkcywgc2NlbmUuZ2V0Q2FtZXJhKCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJG1vZGVsXVskbWF0ZXJpYWxGcm9tUG9pbnRdKHNjZW5lLnJheWNhc3Rlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICd2YXJpYW50LW5hbWUnIH0pXG4gICAgXSwgU2NlbmVHcmFwaE1vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwidmFyaWFudE5hbWVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ29yaWVudGF0aW9uJyB9KVxuICAgIF0sIFNjZW5lR3JhcGhNb2RlbFZpZXdlckVsZW1lbnQucHJvdG90eXBlLCBcIm9yaWVudGF0aW9uXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nLCBhdHRyaWJ1dGU6ICdzY2FsZScgfSlcbiAgICBdLCBTY2VuZUdyYXBoTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJzY2FsZVwiLCB2b2lkIDApO1xuICAgIHJldHVybiBTY2VuZUdyYXBoTW9kZWxWaWV3ZXJFbGVtZW50O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjZW5lLWdyYXBoLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/image.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $applyTexture: () => (/* binding */ $applyTexture),\n/* harmony export */   $threeTexture: () => (/* binding */ $threeTexture),\n/* harmony export */   Image: () => (/* binding */ Image)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../three-components/Renderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\nconst quadMaterial = new three__WEBPACK_IMPORTED_MODULE_3__.MeshBasicMaterial();\nconst quad = new three__WEBPACK_IMPORTED_MODULE_3__.PlaneGeometry(2, 2);\nlet adhocNum = 0;\nconst $threeTexture = Symbol('threeTexture');\nconst $applyTexture = Symbol('applyTexture');\n/**\n * Image facade implementation for Three.js textures\n */\nclass Image extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.ThreeDOMElement {\n    get [$threeTexture]() {\n        var _a;\n        console.assert(this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects] != null && this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects].size > 0, 'Image correlated object is undefined');\n        return (_a = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]) === null || _a === void 0 ? void 0 : _a.values().next().value;\n    }\n    constructor(onUpdate, texture, gltfImage) {\n        gltfImage = gltfImage !== null && gltfImage !== void 0 ? gltfImage : {\n            name: (texture && texture.image && texture.image.src) ?\n                texture.image.src.split('/').pop() :\n                'adhoc_image',\n            uri: (texture && texture.image && texture.image.src) ?\n                texture.image.src :\n                'adhoc_image' + adhocNum++\n        };\n        super(onUpdate, gltfImage, new Set(texture ? [texture] : []));\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name || '';\n    }\n    get uri() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].uri;\n    }\n    get bufferView() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].bufferView;\n    }\n    get type() {\n        return this.uri != null ? 'external' : 'embedded';\n    }\n    set name(name) {\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name = name;\n    }\n    async createThumbnail(width, height) {\n        const scene = new three__WEBPACK_IMPORTED_MODULE_3__.Scene();\n        quadMaterial.map = this[$threeTexture];\n        const mesh = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(quad, quadMaterial);\n        scene.add(mesh);\n        const camera = new three__WEBPACK_IMPORTED_MODULE_3__.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n        const { threeRenderer } = _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_1__.Renderer.singleton;\n        const renderTarget = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLRenderTarget(width, height);\n        threeRenderer.setRenderTarget(renderTarget);\n        threeRenderer.render(scene, camera);\n        threeRenderer.setRenderTarget(null);\n        const buffer = new Uint8Array(width * height * 4);\n        threeRenderer.readRenderTargetPixels(renderTarget, 0, 0, width, height, buffer);\n        _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.width = width;\n        _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.height = height;\n        const blobContext = _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.getContext('2d');\n        const imageData = blobContext.createImageData(width, height);\n        imageData.data.set(buffer);\n        blobContext.putImageData(imageData, 0, 0);\n        return new Promise(async (resolve, reject) => {\n            _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_0__.blobCanvas.toBlob(blob => {\n                if (!blob) {\n                    return reject('Failed to capture thumbnail.');\n                }\n                resolve(URL.createObjectURL(blob));\n            }, 'image/png');\n        });\n    }\n}\n//# sourceMappingURL=image.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL2ltYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzZHO0FBQ3JEO0FBQ007QUFDOEI7QUFDNUYseUJBQXlCLG9EQUFpQjtBQUMxQyxpQkFBaUIsZ0RBQWE7QUFDOUI7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ08sb0JBQW9CLGtFQUFlO0FBQzFDO0FBQ0E7QUFDQSw0QkFBNEIscUVBQWtCLGtCQUFrQixxRUFBa0I7QUFDbEYsMEJBQTBCLHFFQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnRUFBYTtBQUNqQztBQUNBO0FBQ0Esb0JBQW9CLGdFQUFhO0FBQ2pDO0FBQ0E7QUFDQSxvQkFBb0IsZ0VBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0VBQWE7QUFDMUI7QUFDQTtBQUNBLDBCQUEwQix3Q0FBSztBQUMvQjtBQUNBLHlCQUF5Qix1Q0FBSTtBQUM3QjtBQUNBLDJCQUEyQixxREFBa0I7QUFDN0MsZ0JBQWdCLGdCQUFnQixFQUFFLG1FQUFRO0FBQzFDLGlDQUFpQyxvREFBaUI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNkRBQVU7QUFDbEIsUUFBUSw2REFBVTtBQUNsQiw0QkFBNEIsNkRBQVU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZEQUFVO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9mZWF0dXJlcy9zY2VuZS1ncmFwaC9pbWFnZS5qcz9hMmMwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IE1lc2gsIE1lc2hCYXNpY01hdGVyaWFsLCBPcnRob2dyYXBoaWNDYW1lcmEsIFBsYW5lR2VvbWV0cnksIFNjZW5lLCBXZWJHTFJlbmRlclRhcmdldCB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IGJsb2JDYW52YXMgfSBmcm9tICcuLi8uLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBSZW5kZXJlciB9IGZyb20gJy4uLy4uL3RocmVlLWNvbXBvbmVudHMvUmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgJGNvcnJlbGF0ZWRPYmplY3RzLCAkc291cmNlT2JqZWN0LCBUaHJlZURPTUVsZW1lbnQgfSBmcm9tICcuL3RocmVlLWRvbS1lbGVtZW50LmpzJztcbmNvbnN0IHF1YWRNYXRlcmlhbCA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCgpO1xuY29uc3QgcXVhZCA9IG5ldyBQbGFuZUdlb21ldHJ5KDIsIDIpO1xubGV0IGFkaG9jTnVtID0gMDtcbmV4cG9ydCBjb25zdCAkdGhyZWVUZXh0dXJlID0gU3ltYm9sKCd0aHJlZVRleHR1cmUnKTtcbmV4cG9ydCBjb25zdCAkYXBwbHlUZXh0dXJlID0gU3ltYm9sKCdhcHBseVRleHR1cmUnKTtcbi8qKlxuICogSW1hZ2UgZmFjYWRlIGltcGxlbWVudGF0aW9uIGZvciBUaHJlZS5qcyB0ZXh0dXJlc1xuICovXG5leHBvcnQgY2xhc3MgSW1hZ2UgZXh0ZW5kcyBUaHJlZURPTUVsZW1lbnQge1xuICAgIGdldCBbJHRocmVlVGV4dHVyZV0oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc29sZS5hc3NlcnQodGhpc1skY29ycmVsYXRlZE9iamVjdHNdICE9IG51bGwgJiYgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdLnNpemUgPiAwLCAnSW1hZ2UgY29ycmVsYXRlZCBvYmplY3QgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c10pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG9uVXBkYXRlLCB0ZXh0dXJlLCBnbHRmSW1hZ2UpIHtcbiAgICAgICAgZ2x0ZkltYWdlID0gZ2x0ZkltYWdlICE9PSBudWxsICYmIGdsdGZJbWFnZSAhPT0gdm9pZCAwID8gZ2x0ZkltYWdlIDoge1xuICAgICAgICAgICAgbmFtZTogKHRleHR1cmUgJiYgdGV4dHVyZS5pbWFnZSAmJiB0ZXh0dXJlLmltYWdlLnNyYykgP1xuICAgICAgICAgICAgICAgIHRleHR1cmUuaW1hZ2Uuc3JjLnNwbGl0KCcvJykucG9wKCkgOlxuICAgICAgICAgICAgICAgICdhZGhvY19pbWFnZScsXG4gICAgICAgICAgICB1cmk6ICh0ZXh0dXJlICYmIHRleHR1cmUuaW1hZ2UgJiYgdGV4dHVyZS5pbWFnZS5zcmMpID9cbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmltYWdlLnNyYyA6XG4gICAgICAgICAgICAgICAgJ2FkaG9jX2ltYWdlJyArIGFkaG9jTnVtKytcbiAgICAgICAgfTtcbiAgICAgICAgc3VwZXIob25VcGRhdGUsIGdsdGZJbWFnZSwgbmV3IFNldCh0ZXh0dXJlID8gW3RleHR1cmVdIDogW10pKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLm5hbWUgfHwgJyc7XG4gICAgfVxuICAgIGdldCB1cmkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLnVyaTtcbiAgICB9XG4gICAgZ2V0IGJ1ZmZlclZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLmJ1ZmZlclZpZXc7XG4gICAgfVxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51cmkgIT0gbnVsbCA/ICdleHRlcm5hbCcgOiAnZW1iZWRkZWQnO1xuICAgIH1cbiAgICBzZXQgbmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXNbJHNvdXJjZU9iamVjdF0ubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZVRodW1ibmFpbCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gbmV3IFNjZW5lKCk7XG4gICAgICAgIHF1YWRNYXRlcmlhbC5tYXAgPSB0aGlzWyR0aHJlZVRleHR1cmVdO1xuICAgICAgICBjb25zdCBtZXNoID0gbmV3IE1lc2gocXVhZCwgcXVhZE1hdGVyaWFsKTtcbiAgICAgICAgc2NlbmUuYWRkKG1lc2gpO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBuZXcgT3J0aG9ncmFwaGljQ2FtZXJhKC0xLCAxLCAxLCAtMSwgMCwgMSk7XG4gICAgICAgIGNvbnN0IHsgdGhyZWVSZW5kZXJlciB9ID0gUmVuZGVyZXIuc2luZ2xldG9uO1xuICAgICAgICBjb25zdCByZW5kZXJUYXJnZXQgPSBuZXcgV2ViR0xSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRocmVlUmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCk7XG4gICAgICAgIHRocmVlUmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgICB0aHJlZVJlbmRlcmVyLnNldFJlbmRlclRhcmdldChudWxsKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgICAgdGhyZWVSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzKHJlbmRlclRhcmdldCwgMCwgMCwgd2lkdGgsIGhlaWdodCwgYnVmZmVyKTtcbiAgICAgICAgYmxvYkNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBibG9iQ2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgY29uc3QgYmxvYkNvbnRleHQgPSBibG9iQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGNvbnN0IGltYWdlRGF0YSA9IGJsb2JDb250ZXh0LmNyZWF0ZUltYWdlRGF0YSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgaW1hZ2VEYXRhLmRhdGEuc2V0KGJ1ZmZlcik7XG4gICAgICAgIGJsb2JDb250ZXh0LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgYmxvYkNhbnZhcy50b0Jsb2IoYmxvYiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFibG9iKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoJ0ZhaWxlZCB0byBjYXB0dXJlIHRodW1ibmFpbC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpKTtcbiAgICAgICAgICAgIH0sICdpbWFnZS9wbmcnKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/material.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $ensureMaterialIsLoaded: () => (/* binding */ $ensureMaterialIsLoaded),\n/* harmony export */   $getLoadedMaterial: () => (/* binding */ $getLoadedMaterial),\n/* harmony export */   $gltfIndex: () => (/* binding */ $gltfIndex),\n/* harmony export */   $lazyLoadGLTFInfo: () => (/* binding */ $lazyLoadGLTFInfo),\n/* harmony export */   $setActive: () => (/* binding */ $setActive),\n/* harmony export */   $variantIndices: () => (/* binding */ $variantIndices),\n/* harmony export */   $variantSet: () => (/* binding */ $variantSet),\n/* harmony export */   Material: () => (/* binding */ Material)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _pbr_metallic_roughness_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pbr-metallic-roughness.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js\");\n/* harmony import */ var _texture_info_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./texture-info.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a;\n\n\n\n\nconst $pbrMetallicRoughness = Symbol('pbrMetallicRoughness');\nconst $normalTexture = Symbol('normalTexture');\nconst $occlusionTexture = Symbol('occlusionTexture');\nconst $emissiveTexture = Symbol('emissiveTexture');\nconst $backingThreeMaterial = Symbol('backingThreeMaterial');\nconst $applyAlphaCutoff = Symbol('applyAlphaCutoff');\nconst $lazyLoadGLTFInfo = Symbol('lazyLoadGLTFInfo');\nconst $initialize = Symbol('initialize');\nconst $getLoadedMaterial = Symbol('getLoadedMaterial');\nconst $ensureMaterialIsLoaded = Symbol('ensureMaterialIsLoaded');\nconst $gltfIndex = Symbol('gltfIndex');\nconst $setActive = Symbol('setActive');\nconst $variantIndices = Symbol('variantIndices');\nconst $isActive = Symbol('isActive');\nconst $variantSet = Symbol('variantSet');\nconst $modelVariants = Symbol('modelVariants');\n/**\n * Material facade implementation for Three.js materials\n */\nclass Material extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.ThreeDOMElement {\n    constructor(onUpdate, gltf, gltfMaterial, gltfIndex, isActive, modelVariants, correlatedMaterials, lazyLoadInfo = undefined) {\n        super(onUpdate, gltfMaterial, correlatedMaterials);\n        this[_a] = new Set();\n        this[$gltfIndex] = gltfIndex;\n        this[$isActive] = isActive;\n        this[$modelVariants] = modelVariants;\n        if (lazyLoadInfo == null) {\n            this[$initialize](gltf);\n        }\n        else {\n            this[$lazyLoadGLTFInfo] = lazyLoadInfo;\n        }\n    }\n    get [(_a = $variantSet, $backingThreeMaterial)]() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]\n            .values()\n            .next()\n            .value;\n    }\n    [$initialize](gltf) {\n        const onUpdate = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate];\n        const gltfMaterial = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject];\n        const correlatedMaterials = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects];\n        if (gltfMaterial.extensions &&\n            gltfMaterial.extensions['KHR_materials_pbrSpecularGlossiness']) {\n            console.warn(`Material ${gltfMaterial.name} uses a deprecated extension\n          \"KHR_materials_pbrSpecularGlossiness\", please use\n          \"pbrMetallicRoughness\" instead. Specular Glossiness materials are\n          currently supported for rendering, but not for our scene-graph API,\n          nor for auto-generation of USDZ for Quick Look.`);\n        }\n        if (gltfMaterial.pbrMetallicRoughness == null) {\n            gltfMaterial.pbrMetallicRoughness = {};\n        }\n        this[$pbrMetallicRoughness] = new _pbr_metallic_roughness_js__WEBPACK_IMPORTED_MODULE_0__.PBRMetallicRoughness(onUpdate, gltf, gltfMaterial.pbrMetallicRoughness, correlatedMaterials);\n        if (gltfMaterial.emissiveFactor == null) {\n            gltfMaterial.emissiveFactor = [0, 0, 0];\n        }\n        if (gltfMaterial.doubleSided == null) {\n            gltfMaterial.doubleSided = false;\n        }\n        if (gltfMaterial.alphaMode == null) {\n            gltfMaterial.alphaMode = 'OPAQUE';\n        }\n        if (gltfMaterial.alphaCutoff == null) {\n            gltfMaterial.alphaCutoff = 0.5;\n        }\n        const { normalTexture: gltfNormalTexture, occlusionTexture: gltfOcclusionTexture, emissiveTexture: gltfEmissiveTexture } = gltfMaterial;\n        const { normalMap, aoMap, emissiveMap } = correlatedMaterials.values().next().value;\n        this[$normalTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureUsage.Normal, normalMap, correlatedMaterials, gltf, gltfNormalTexture ? gltfNormalTexture : null);\n        this[$occlusionTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureUsage.Occlusion, aoMap, correlatedMaterials, gltf, gltfOcclusionTexture ? gltfOcclusionTexture : null);\n        this[$emissiveTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_1__.TextureUsage.Emissive, emissiveMap, correlatedMaterials, gltf, gltfEmissiveTexture ? gltfEmissiveTexture : null);\n    }\n    async [$getLoadedMaterial]() {\n        if (this[$lazyLoadGLTFInfo] != null) {\n            const { set, material } = await this[$lazyLoadGLTFInfo].doLazyLoad();\n            // Fills in the missing data.\n            this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects] = set;\n            this[$initialize](this[$lazyLoadGLTFInfo].gltf);\n            // Releases lazy load info.\n            this[$lazyLoadGLTFInfo] = undefined;\n            // Redefines the method as a noop method.\n            this.ensureLoaded = async () => { };\n            return material;\n        }\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects].values().next().value;\n    }\n    [$ensureMaterialIsLoaded]() {\n        if (this[$lazyLoadGLTFInfo] == null) {\n            return;\n        }\n        throw new Error(`Material \"${this.name}\" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material.`);\n    }\n    async ensureLoaded() {\n        await this[$getLoadedMaterial]();\n    }\n    get isLoaded() {\n        return this[$lazyLoadGLTFInfo] == null;\n    }\n    get isActive() {\n        return this[$isActive];\n    }\n    [$setActive](isActive) {\n        this[$isActive] = isActive;\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name;\n    }\n    set name(name) {\n        const sourceMaterial = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject];\n        if (sourceMaterial != null) {\n            sourceMaterial.name = name;\n        }\n        if (this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects] != null) {\n            for (const threeMaterial of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]) {\n                threeMaterial.name = name;\n            }\n        }\n    }\n    get pbrMetallicRoughness() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$pbrMetallicRoughness];\n    }\n    get normalTexture() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$normalTexture];\n    }\n    get occlusionTexture() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$occlusionTexture];\n    }\n    get emissiveTexture() {\n        this[$ensureMaterialIsLoaded]();\n        return this[$emissiveTexture];\n    }\n    get emissiveFactor() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].emissiveFactor;\n    }\n    get index() {\n        return this[$gltfIndex];\n    }\n    [$variantIndices]() {\n        return this[$variantSet];\n    }\n    hasVariant(name) {\n        const variantData = this[$modelVariants].get(name);\n        return variantData != null && this[$variantSet].has(variantData.index);\n    }\n    setEmissiveFactor(rgb) {\n        this[$ensureMaterialIsLoaded]();\n        const color = new three__WEBPACK_IMPORTED_MODULE_3__.Color();\n        if (rgb instanceof Array) {\n            color.fromArray(rgb);\n        }\n        else {\n            color.set(rgb).convertSRGBToLinear();\n        }\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]) {\n            material.emissive.set(color);\n        }\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].emissiveFactor =\n            color.toArray();\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    [$applyAlphaCutoff]() {\n        this[$ensureMaterialIsLoaded]();\n        const gltfMaterial = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject];\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]) {\n            if (this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaMode === 'MASK') {\n                material.alphaTest = gltfMaterial.alphaCutoff;\n            }\n            else {\n                material.alphaTest = undefined;\n            }\n            material.needsUpdate = true;\n        }\n    }\n    setAlphaCutoff(cutoff) {\n        this[$ensureMaterialIsLoaded]();\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaCutoff = cutoff;\n        this[$applyAlphaCutoff]();\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    getAlphaCutoff() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaCutoff;\n    }\n    setDoubleSided(doubleSided) {\n        this[$ensureMaterialIsLoaded]();\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]) {\n            // When double-sided is disabled gltf spec dictates that Back-Face culling\n            // must be disabled, in three.js parlance that would mean FrontSide\n            // rendering only.\n            // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#double-sided\n            material.side = doubleSided ? three__WEBPACK_IMPORTED_MODULE_3__.DoubleSide : three__WEBPACK_IMPORTED_MODULE_3__.FrontSide;\n            material.needsUpdate = true;\n        }\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].doubleSided = doubleSided;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    getDoubleSided() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].doubleSided;\n    }\n    setAlphaMode(alphaMode) {\n        this[$ensureMaterialIsLoaded]();\n        const enableTransparency = (material, enabled) => {\n            material.transparent = enabled;\n            material.depthWrite = !enabled;\n        };\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaMode = alphaMode;\n        for (const material of this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects]) {\n            enableTransparency(material, alphaMode === 'BLEND');\n            this[$applyAlphaCutoff]();\n            material.needsUpdate = true;\n        }\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$onUpdate]();\n    }\n    getAlphaMode() {\n        this[$ensureMaterialIsLoaded]();\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].alphaMode;\n    }\n}\n//# sourceMappingURL=material.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL21hdGVyaWFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNxRDtBQUNjO0FBQ0w7QUFDeUM7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTyx1QkFBdUIsa0VBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxRUFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qiw0REFBUztBQUN2QyxrQ0FBa0MsZ0VBQWE7QUFDL0MseUNBQXlDLHFFQUFrQjtBQUMzRDtBQUNBO0FBQ0EscUNBQXFDLG1CQUFtQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDRFQUFvQjtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsaUhBQWlIO0FBQ2pJLGdCQUFnQixnQ0FBZ0M7QUFDaEQsbUNBQW1DLHlEQUFXLFdBQVcsMERBQVk7QUFDckUsc0NBQXNDLHlEQUFXLFdBQVcsMERBQVk7QUFDeEUscUNBQXFDLHlEQUFXLFdBQVcsMERBQVk7QUFDdkU7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBLGlCQUFpQixxRUFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscUVBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsVUFBVTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0VBQWE7QUFDakM7QUFDQTtBQUNBLG9DQUFvQyxnRUFBYTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUVBQWtCO0FBQ25DLDZDQUE2QyxxRUFBa0I7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0VBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0NBQUs7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHFFQUFrQjtBQUN0RDtBQUNBO0FBQ0EsYUFBYSxnRUFBYTtBQUMxQjtBQUNBLGFBQWEsNERBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGdFQUFhO0FBQy9DLG9DQUFvQyxxRUFBa0I7QUFDdEQscUJBQXFCLGdFQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnRUFBYTtBQUMxQjtBQUNBLGFBQWEsNERBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdFQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxxRUFBa0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsNkNBQVUsR0FBRyw0Q0FBUztBQUNoRTtBQUNBO0FBQ0EsYUFBYSxnRUFBYTtBQUMxQixhQUFhLDREQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnRUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZ0VBQWE7QUFDMUIsb0NBQW9DLHFFQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsNERBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdFQUFhO0FBQ2pDO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL21hdGVyaWFsLmpzPzI3MjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hO1xuaW1wb3J0IHsgQ29sb3IsIERvdWJsZVNpZGUsIEZyb250U2lkZSB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFBCUk1ldGFsbGljUm91Z2huZXNzIH0gZnJvbSAnLi9wYnItbWV0YWxsaWMtcm91Z2huZXNzLmpzJztcbmltcG9ydCB7IFRleHR1cmVJbmZvLCBUZXh0dXJlVXNhZ2UgfSBmcm9tICcuL3RleHR1cmUtaW5mby5qcyc7XG5pbXBvcnQgeyAkY29ycmVsYXRlZE9iamVjdHMsICRvblVwZGF0ZSwgJHNvdXJjZU9iamVjdCwgVGhyZWVET01FbGVtZW50IH0gZnJvbSAnLi90aHJlZS1kb20tZWxlbWVudC5qcyc7XG5jb25zdCAkcGJyTWV0YWxsaWNSb3VnaG5lc3MgPSBTeW1ib2woJ3Bick1ldGFsbGljUm91Z2huZXNzJyk7XG5jb25zdCAkbm9ybWFsVGV4dHVyZSA9IFN5bWJvbCgnbm9ybWFsVGV4dHVyZScpO1xuY29uc3QgJG9jY2x1c2lvblRleHR1cmUgPSBTeW1ib2woJ29jY2x1c2lvblRleHR1cmUnKTtcbmNvbnN0ICRlbWlzc2l2ZVRleHR1cmUgPSBTeW1ib2woJ2VtaXNzaXZlVGV4dHVyZScpO1xuY29uc3QgJGJhY2tpbmdUaHJlZU1hdGVyaWFsID0gU3ltYm9sKCdiYWNraW5nVGhyZWVNYXRlcmlhbCcpO1xuY29uc3QgJGFwcGx5QWxwaGFDdXRvZmYgPSBTeW1ib2woJ2FwcGx5QWxwaGFDdXRvZmYnKTtcbmV4cG9ydCBjb25zdCAkbGF6eUxvYWRHTFRGSW5mbyA9IFN5bWJvbCgnbGF6eUxvYWRHTFRGSW5mbycpO1xuY29uc3QgJGluaXRpYWxpemUgPSBTeW1ib2woJ2luaXRpYWxpemUnKTtcbmV4cG9ydCBjb25zdCAkZ2V0TG9hZGVkTWF0ZXJpYWwgPSBTeW1ib2woJ2dldExvYWRlZE1hdGVyaWFsJyk7XG5leHBvcnQgY29uc3QgJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWQgPSBTeW1ib2woJ2Vuc3VyZU1hdGVyaWFsSXNMb2FkZWQnKTtcbmV4cG9ydCBjb25zdCAkZ2x0ZkluZGV4ID0gU3ltYm9sKCdnbHRmSW5kZXgnKTtcbmV4cG9ydCBjb25zdCAkc2V0QWN0aXZlID0gU3ltYm9sKCdzZXRBY3RpdmUnKTtcbmV4cG9ydCBjb25zdCAkdmFyaWFudEluZGljZXMgPSBTeW1ib2woJ3ZhcmlhbnRJbmRpY2VzJyk7XG5jb25zdCAkaXNBY3RpdmUgPSBTeW1ib2woJ2lzQWN0aXZlJyk7XG5leHBvcnQgY29uc3QgJHZhcmlhbnRTZXQgPSBTeW1ib2woJ3ZhcmlhbnRTZXQnKTtcbmNvbnN0ICRtb2RlbFZhcmlhbnRzID0gU3ltYm9sKCdtb2RlbFZhcmlhbnRzJyk7XG4vKipcbiAqIE1hdGVyaWFsIGZhY2FkZSBpbXBsZW1lbnRhdGlvbiBmb3IgVGhyZWUuanMgbWF0ZXJpYWxzXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXRlcmlhbCBleHRlbmRzIFRocmVlRE9NRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob25VcGRhdGUsIGdsdGYsIGdsdGZNYXRlcmlhbCwgZ2x0ZkluZGV4LCBpc0FjdGl2ZSwgbW9kZWxWYXJpYW50cywgY29ycmVsYXRlZE1hdGVyaWFscywgbGF6eUxvYWRJbmZvID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKG9uVXBkYXRlLCBnbHRmTWF0ZXJpYWwsIGNvcnJlbGF0ZWRNYXRlcmlhbHMpO1xuICAgICAgICB0aGlzW19hXSA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpc1skZ2x0ZkluZGV4XSA9IGdsdGZJbmRleDtcbiAgICAgICAgdGhpc1skaXNBY3RpdmVdID0gaXNBY3RpdmU7XG4gICAgICAgIHRoaXNbJG1vZGVsVmFyaWFudHNdID0gbW9kZWxWYXJpYW50cztcbiAgICAgICAgaWYgKGxhenlMb2FkSW5mbyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzWyRpbml0aWFsaXplXShnbHRmKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbJGxhenlMb2FkR0xURkluZm9dID0gbGF6eUxvYWRJbmZvO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBbKF9hID0gJHZhcmlhbnRTZXQsICRiYWNraW5nVGhyZWVNYXRlcmlhbCldKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skY29ycmVsYXRlZE9iamVjdHNdXG4gICAgICAgICAgICAudmFsdWVzKClcbiAgICAgICAgICAgIC5uZXh0KClcbiAgICAgICAgICAgIC52YWx1ZTtcbiAgICB9XG4gICAgWyRpbml0aWFsaXplXShnbHRmKSB7XG4gICAgICAgIGNvbnN0IG9uVXBkYXRlID0gdGhpc1skb25VcGRhdGVdO1xuICAgICAgICBjb25zdCBnbHRmTWF0ZXJpYWwgPSB0aGlzWyRzb3VyY2VPYmplY3RdO1xuICAgICAgICBjb25zdCBjb3JyZWxhdGVkTWF0ZXJpYWxzID0gdGhpc1skY29ycmVsYXRlZE9iamVjdHNdO1xuICAgICAgICBpZiAoZ2x0Zk1hdGVyaWFsLmV4dGVuc2lvbnMgJiZcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbC5leHRlbnNpb25zWydLSFJfbWF0ZXJpYWxzX3BiclNwZWN1bGFyR2xvc3NpbmVzcyddKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYE1hdGVyaWFsICR7Z2x0Zk1hdGVyaWFsLm5hbWV9IHVzZXMgYSBkZXByZWNhdGVkIGV4dGVuc2lvblxuICAgICAgICAgIFwiS0hSX21hdGVyaWFsc19wYnJTcGVjdWxhckdsb3NzaW5lc3NcIiwgcGxlYXNlIHVzZVxuICAgICAgICAgIFwicGJyTWV0YWxsaWNSb3VnaG5lc3NcIiBpbnN0ZWFkLiBTcGVjdWxhciBHbG9zc2luZXNzIG1hdGVyaWFscyBhcmVcbiAgICAgICAgICBjdXJyZW50bHkgc3VwcG9ydGVkIGZvciByZW5kZXJpbmcsIGJ1dCBub3QgZm9yIG91ciBzY2VuZS1ncmFwaCBBUEksXG4gICAgICAgICAgbm9yIGZvciBhdXRvLWdlbmVyYXRpb24gb2YgVVNEWiBmb3IgUXVpY2sgTG9vay5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2x0Zk1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbC5wYnJNZXRhbGxpY1JvdWdobmVzcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJHBick1ldGFsbGljUm91Z2huZXNzXSA9IG5ldyBQQlJNZXRhbGxpY1JvdWdobmVzcyhvblVwZGF0ZSwgZ2x0ZiwgZ2x0Zk1hdGVyaWFsLnBick1ldGFsbGljUm91Z2huZXNzLCBjb3JyZWxhdGVkTWF0ZXJpYWxzKTtcbiAgICAgICAgaWYgKGdsdGZNYXRlcmlhbC5lbWlzc2l2ZUZhY3RvciA9PSBudWxsKSB7XG4gICAgICAgICAgICBnbHRmTWF0ZXJpYWwuZW1pc3NpdmVGYWN0b3IgPSBbMCwgMCwgMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsdGZNYXRlcmlhbC5kb3VibGVTaWRlZCA9PSBudWxsKSB7XG4gICAgICAgICAgICBnbHRmTWF0ZXJpYWwuZG91YmxlU2lkZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2x0Zk1hdGVyaWFsLmFscGhhTW9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBnbHRmTWF0ZXJpYWwuYWxwaGFNb2RlID0gJ09QQVFVRSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsdGZNYXRlcmlhbC5hbHBoYUN1dG9mZiA9PSBudWxsKSB7XG4gICAgICAgICAgICBnbHRmTWF0ZXJpYWwuYWxwaGFDdXRvZmYgPSAwLjU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBub3JtYWxUZXh0dXJlOiBnbHRmTm9ybWFsVGV4dHVyZSwgb2NjbHVzaW9uVGV4dHVyZTogZ2x0Zk9jY2x1c2lvblRleHR1cmUsIGVtaXNzaXZlVGV4dHVyZTogZ2x0ZkVtaXNzaXZlVGV4dHVyZSB9ID0gZ2x0Zk1hdGVyaWFsO1xuICAgICAgICBjb25zdCB7IG5vcm1hbE1hcCwgYW9NYXAsIGVtaXNzaXZlTWFwIH0gPSBjb3JyZWxhdGVkTWF0ZXJpYWxzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgdGhpc1skbm9ybWFsVGV4dHVyZV0gPSBuZXcgVGV4dHVyZUluZm8ob25VcGRhdGUsIFRleHR1cmVVc2FnZS5Ob3JtYWwsIG5vcm1hbE1hcCwgY29ycmVsYXRlZE1hdGVyaWFscywgZ2x0ZiwgZ2x0Zk5vcm1hbFRleHR1cmUgPyBnbHRmTm9ybWFsVGV4dHVyZSA6IG51bGwpO1xuICAgICAgICB0aGlzWyRvY2NsdXNpb25UZXh0dXJlXSA9IG5ldyBUZXh0dXJlSW5mbyhvblVwZGF0ZSwgVGV4dHVyZVVzYWdlLk9jY2x1c2lvbiwgYW9NYXAsIGNvcnJlbGF0ZWRNYXRlcmlhbHMsIGdsdGYsIGdsdGZPY2NsdXNpb25UZXh0dXJlID8gZ2x0Zk9jY2x1c2lvblRleHR1cmUgOiBudWxsKTtcbiAgICAgICAgdGhpc1skZW1pc3NpdmVUZXh0dXJlXSA9IG5ldyBUZXh0dXJlSW5mbyhvblVwZGF0ZSwgVGV4dHVyZVVzYWdlLkVtaXNzaXZlLCBlbWlzc2l2ZU1hcCwgY29ycmVsYXRlZE1hdGVyaWFscywgZ2x0ZiwgZ2x0ZkVtaXNzaXZlVGV4dHVyZSA/IGdsdGZFbWlzc2l2ZVRleHR1cmUgOiBudWxsKTtcbiAgICB9XG4gICAgYXN5bmMgWyRnZXRMb2FkZWRNYXRlcmlhbF0oKSB7XG4gICAgICAgIGlmICh0aGlzWyRsYXp5TG9hZEdMVEZJbmZvXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB7IHNldCwgbWF0ZXJpYWwgfSA9IGF3YWl0IHRoaXNbJGxhenlMb2FkR0xURkluZm9dLmRvTGF6eUxvYWQoKTtcbiAgICAgICAgICAgIC8vIEZpbGxzIGluIHRoZSBtaXNzaW5nIGRhdGEuXG4gICAgICAgICAgICB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c10gPSBzZXQ7XG4gICAgICAgICAgICB0aGlzWyRpbml0aWFsaXplXSh0aGlzWyRsYXp5TG9hZEdMVEZJbmZvXS5nbHRmKTtcbiAgICAgICAgICAgIC8vIFJlbGVhc2VzIGxhenkgbG9hZCBpbmZvLlxuICAgICAgICAgICAgdGhpc1skbGF6eUxvYWRHTFRGSW5mb10gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBSZWRlZmluZXMgdGhlIG1ldGhvZCBhcyBhIG5vb3AgbWV0aG9kLlxuICAgICAgICAgICAgdGhpcy5lbnN1cmVMb2FkZWQgPSBhc3luYyAoKSA9PiB7IH07XG4gICAgICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXS52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgfVxuICAgIFskZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKSB7XG4gICAgICAgIGlmICh0aGlzWyRsYXp5TG9hZEdMVEZJbmZvXSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYXRlcmlhbCBcIiR7dGhpcy5uYW1lfVwiIGhhcyBub3QgYmVlbiBsb2FkZWQsIGNhbGwgJ2F3YWl0XG4gICAgbXlNYXRlcmlhbC5lbnN1cmVMb2FkZWQoKScgYmVmb3JlIHVzaW5nIGFuIHVubG9hZGVkIG1hdGVyaWFsLmApO1xuICAgIH1cbiAgICBhc3luYyBlbnN1cmVMb2FkZWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXNbJGdldExvYWRlZE1hdGVyaWFsXSgpO1xuICAgIH1cbiAgICBnZXQgaXNMb2FkZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRsYXp5TG9hZEdMVEZJbmZvXSA9PSBudWxsO1xuICAgIH1cbiAgICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRpc0FjdGl2ZV07XG4gICAgfVxuICAgIFskc2V0QWN0aXZlXShpc0FjdGl2ZSkge1xuICAgICAgICB0aGlzWyRpc0FjdGl2ZV0gPSBpc0FjdGl2ZTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLm5hbWU7XG4gICAgfVxuICAgIHNldCBuYW1lKG5hbWUpIHtcbiAgICAgICAgY29uc3Qgc291cmNlTWF0ZXJpYWwgPSB0aGlzWyRzb3VyY2VPYmplY3RdO1xuICAgICAgICBpZiAoc291cmNlTWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgc291cmNlTWF0ZXJpYWwubmFtZSA9IG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRocmVlTWF0ZXJpYWwgb2YgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdKSB7XG4gICAgICAgICAgICAgICAgdGhyZWVNYXRlcmlhbC5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcGJyTWV0YWxsaWNSb3VnaG5lc3MoKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHJldHVybiB0aGlzWyRwYnJNZXRhbGxpY1JvdWdobmVzc107XG4gICAgfVxuICAgIGdldCBub3JtYWxUZXh0dXJlKCkge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICByZXR1cm4gdGhpc1skbm9ybWFsVGV4dHVyZV07XG4gICAgfVxuICAgIGdldCBvY2NsdXNpb25UZXh0dXJlKCkge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICByZXR1cm4gdGhpc1skb2NjbHVzaW9uVGV4dHVyZV07XG4gICAgfVxuICAgIGdldCBlbWlzc2l2ZVRleHR1cmUoKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHJldHVybiB0aGlzWyRlbWlzc2l2ZVRleHR1cmVdO1xuICAgIH1cbiAgICBnZXQgZW1pc3NpdmVGYWN0b3IoKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLmVtaXNzaXZlRmFjdG9yO1xuICAgIH1cbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRnbHRmSW5kZXhdO1xuICAgIH1cbiAgICBbJHZhcmlhbnRJbmRpY2VzXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHZhcmlhbnRTZXRdO1xuICAgIH1cbiAgICBoYXNWYXJpYW50KG5hbWUpIHtcbiAgICAgICAgY29uc3QgdmFyaWFudERhdGEgPSB0aGlzWyRtb2RlbFZhcmlhbnRzXS5nZXQobmFtZSk7XG4gICAgICAgIHJldHVybiB2YXJpYW50RGF0YSAhPSBudWxsICYmIHRoaXNbJHZhcmlhbnRTZXRdLmhhcyh2YXJpYW50RGF0YS5pbmRleCk7XG4gICAgfVxuICAgIHNldEVtaXNzaXZlRmFjdG9yKHJnYikge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICBjb25zdCBjb2xvciA9IG5ldyBDb2xvcigpO1xuICAgICAgICBpZiAocmdiIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgIGNvbG9yLmZyb21BcnJheShyZ2IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29sb3Iuc2V0KHJnYikuY29udmVydFNSR0JUb0xpbmVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdKSB7XG4gICAgICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZS5zZXQoY29sb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJHNvdXJjZU9iamVjdF0uZW1pc3NpdmVGYWN0b3IgPVxuICAgICAgICAgICAgY29sb3IudG9BcnJheSgpO1xuICAgICAgICB0aGlzWyRvblVwZGF0ZV0oKTtcbiAgICB9XG4gICAgWyRhcHBseUFscGhhQ3V0b2ZmXSgpIHtcbiAgICAgICAgdGhpc1skZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKTtcbiAgICAgICAgY29uc3QgZ2x0Zk1hdGVyaWFsID0gdGhpc1skc291cmNlT2JqZWN0XTtcbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c10pIHtcbiAgICAgICAgICAgIGlmICh0aGlzWyRzb3VyY2VPYmplY3RdLmFscGhhTW9kZSA9PT0gJ01BU0snKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuYWxwaGFUZXN0ID0gZ2x0Zk1hdGVyaWFsLmFscGhhQ3V0b2ZmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWwuYWxwaGFUZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0ZXJpYWwubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldEFscGhhQ3V0b2ZmKGN1dG9mZikge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICB0aGlzWyRzb3VyY2VPYmplY3RdLmFscGhhQ3V0b2ZmID0gY3V0b2ZmO1xuICAgICAgICB0aGlzWyRhcHBseUFscGhhQ3V0b2ZmXSgpO1xuICAgICAgICB0aGlzWyRvblVwZGF0ZV0oKTtcbiAgICB9XG4gICAgZ2V0QWxwaGFDdXRvZmYoKSB7XG4gICAgICAgIHRoaXNbJGVuc3VyZU1hdGVyaWFsSXNMb2FkZWRdKCk7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLmFscGhhQ3V0b2ZmO1xuICAgIH1cbiAgICBzZXREb3VibGVTaWRlZChkb3VibGVTaWRlZCkge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXSkge1xuICAgICAgICAgICAgLy8gV2hlbiBkb3VibGUtc2lkZWQgaXMgZGlzYWJsZWQgZ2x0ZiBzcGVjIGRpY3RhdGVzIHRoYXQgQmFjay1GYWNlIGN1bGxpbmdcbiAgICAgICAgICAgIC8vIG11c3QgYmUgZGlzYWJsZWQsIGluIHRocmVlLmpzIHBhcmxhbmNlIHRoYXQgd291bGQgbWVhbiBGcm9udFNpZGVcbiAgICAgICAgICAgIC8vIHJlbmRlcmluZyBvbmx5LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI2RvdWJsZS1zaWRlZFxuICAgICAgICAgICAgbWF0ZXJpYWwuc2lkZSA9IGRvdWJsZVNpZGVkID8gRG91YmxlU2lkZSA6IEZyb250U2lkZTtcbiAgICAgICAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWyRzb3VyY2VPYmplY3RdLmRvdWJsZVNpZGVkID0gZG91YmxlU2lkZWQ7XG4gICAgICAgIHRoaXNbJG9uVXBkYXRlXSgpO1xuICAgIH1cbiAgICBnZXREb3VibGVTaWRlZCgpIHtcbiAgICAgICAgdGhpc1skZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF0uZG91YmxlU2lkZWQ7XG4gICAgfVxuICAgIHNldEFscGhhTW9kZShhbHBoYU1vZGUpIHtcbiAgICAgICAgdGhpc1skZW5zdXJlTWF0ZXJpYWxJc0xvYWRlZF0oKTtcbiAgICAgICAgY29uc3QgZW5hYmxlVHJhbnNwYXJlbmN5ID0gKG1hdGVyaWFsLCBlbmFibGVkKSA9PiB7XG4gICAgICAgICAgICBtYXRlcmlhbC50cmFuc3BhcmVudCA9IGVuYWJsZWQ7XG4gICAgICAgICAgICBtYXRlcmlhbC5kZXB0aFdyaXRlID0gIWVuYWJsZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXNbJHNvdXJjZU9iamVjdF0uYWxwaGFNb2RlID0gYWxwaGFNb2RlO1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXSkge1xuICAgICAgICAgICAgZW5hYmxlVHJhbnNwYXJlbmN5KG1hdGVyaWFsLCBhbHBoYU1vZGUgPT09ICdCTEVORCcpO1xuICAgICAgICAgICAgdGhpc1skYXBwbHlBbHBoYUN1dG9mZl0oKTtcbiAgICAgICAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWyRvblVwZGF0ZV0oKTtcbiAgICB9XG4gICAgZ2V0QWxwaGFNb2RlKCkge1xuICAgICAgICB0aGlzWyRlbnN1cmVNYXRlcmlhbElzTG9hZGVkXSgpO1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlT2JqZWN0XS5hbHBoYU1vZGU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0ZXJpYWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/model.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/model.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $availableVariants: () => (/* binding */ $availableVariants),\n/* harmony export */   $correlatedSceneGraph: () => (/* binding */ $correlatedSceneGraph),\n/* harmony export */   $loadVariant: () => (/* binding */ $loadVariant),\n/* harmony export */   $materialFromPoint: () => (/* binding */ $materialFromPoint),\n/* harmony export */   $materials: () => (/* binding */ $materials),\n/* harmony export */   $materialsFromPoint: () => (/* binding */ $materialsFromPoint),\n/* harmony export */   $prepareVariantsForExport: () => (/* binding */ $prepareVariantsForExport),\n/* harmony export */   $primitivesList: () => (/* binding */ $primitivesList),\n/* harmony export */   $switchVariant: () => (/* binding */ $switchVariant),\n/* harmony export */   $threeScene: () => (/* binding */ $threeScene),\n/* harmony export */   $variantData: () => (/* binding */ $variantData),\n/* harmony export */   LazyLoader: () => (/* binding */ LazyLoader),\n/* harmony export */   Model: () => (/* binding */ Model)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./material.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js\");\n/* harmony import */ var _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nodes/primitive-node.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a, _b, _c, _d, _e, _f;\n\n\n\n\nconst $materials = Symbol('materials');\nconst $hierarchy = Symbol('hierarchy');\nconst $roots = Symbol('roots');\nconst $primitivesList = Symbol('primitives');\nconst $loadVariant = Symbol('loadVariant');\nconst $correlatedSceneGraph = Symbol('correlatedSceneGraph');\nconst $prepareVariantsForExport = Symbol('prepareVariantsForExport');\nconst $switchVariant = Symbol('switchVariant');\nconst $threeScene = Symbol('threeScene');\nconst $materialsFromPoint = Symbol('materialsFromPoint');\nconst $materialFromPoint = Symbol('materialFromPoint');\nconst $variantData = Symbol('variantData');\nconst $availableVariants = Symbol('availableVariants');\nconst $modelOnUpdate = Symbol('modelOnUpdate');\nconst $cloneMaterial = Symbol('cloneMaterial');\n// Holds onto temporary scene context information needed to perform lazy loading\n// of a resource.\nclass LazyLoader {\n    constructor(gltf, gltfElementMap, mapKey, doLazyLoad) {\n        this.gltf = gltf;\n        this.gltfElementMap = gltfElementMap;\n        this.mapKey = mapKey;\n        this.doLazyLoad = doLazyLoad;\n    }\n}\n/**\n * A Model facades the top-level GLTF object returned by Three.js' GLTFLoader.\n * Currently, the model only bothers itself with the materials in the Three.js\n * scene graph.\n */\nclass Model {\n    constructor(correlatedSceneGraph, onUpdate = () => { }) {\n        this[_a] = new Array();\n        this[_b] = new Array();\n        this[_c] = new Array();\n        this[_d] = new Array();\n        this[_e] = () => { };\n        this[_f] = new Map();\n        this[$modelOnUpdate] = onUpdate;\n        this[$correlatedSceneGraph] = correlatedSceneGraph;\n        const { gltf, threeGLTF, gltfElementMap } = correlatedSceneGraph;\n        this[$threeScene] = threeGLTF.scene;\n        for (const [i, material] of gltf.materials.entries()) {\n            const correlatedMaterial = gltfElementMap.get(material);\n            if (correlatedMaterial != null) {\n                this[$materials].push(new _material_js__WEBPACK_IMPORTED_MODULE_0__.Material(onUpdate, gltf, material, i, true, this[$variantData], correlatedMaterial));\n            }\n            else {\n                const elementArray = gltf['materials'] || [];\n                const gltfMaterialDef = elementArray[i];\n                // Loads the three.js material.\n                const capturedMatIndex = i;\n                const materialLoadCallback = async () => {\n                    const threeMaterial = await threeGLTF.parser.getDependency('material', capturedMatIndex);\n                    // Adds correlation, maps the variant gltf-def to the\n                    // three material set containing the variant material.\n                    const threeMaterialSet = new Set();\n                    gltfElementMap.set(gltfMaterialDef, threeMaterialSet);\n                    threeMaterialSet.add(threeMaterial);\n                    return { set: threeMaterialSet, material: threeMaterial };\n                };\n                // Configures the material for lazy loading.\n                this[$materials].push(new _material_js__WEBPACK_IMPORTED_MODULE_0__.Material(onUpdate, gltf, gltfMaterialDef, i, false, this[$variantData], correlatedMaterial, new LazyLoader(gltf, gltfElementMap, gltfMaterialDef, materialLoadCallback)));\n            }\n        }\n        // Creates a hierarchy of Nodes. Allows not just for switching which\n        // material is applied to a mesh but also exposes a way to provide API\n        // for switching materials and general assignment/modification.\n        // Prepares for scene iteration.\n        const parentMap = new Map();\n        const nodeStack = new Array();\n        for (const object of threeGLTF.scene.children) {\n            nodeStack.push(object);\n        }\n        // Walks the hierarchy and creates a node tree.\n        while (nodeStack.length > 0) {\n            const object = nodeStack.pop();\n            let node = null;\n            if (object instanceof three__WEBPACK_IMPORTED_MODULE_3__.Mesh) {\n                node = new _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveNode(object, this.materials, this[$variantData], correlatedSceneGraph);\n                this[$primitivesList].push(node);\n            }\n            else {\n                node = new _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.Node(object.name);\n            }\n            const parent = parentMap.get(object);\n            if (parent != null) {\n                parent[_nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.$children].push(node);\n            }\n            else {\n                this[$roots].push(node);\n            }\n            this[$hierarchy].push(node);\n            for (const child of object.children) {\n                nodeStack.push(child);\n                parentMap.set(object, node);\n            }\n        }\n    }\n    /**\n     * Materials are listed in the order of the GLTF materials array, plus a\n     * default material at the end if one is used.\n     *\n     * TODO(#1003): How do we handle non-active scenes?\n     */\n    get materials() {\n        return this[$materials];\n    }\n    [(_a = $materials, _b = $hierarchy, _c = $roots, _d = $primitivesList, _e = $modelOnUpdate, _f = $variantData, $availableVariants)]() {\n        const variants = Array.from(this[$variantData].values());\n        variants.sort((a, b) => {\n            return a.index - b.index;\n        });\n        return variants.map((data) => {\n            return data.name;\n        });\n    }\n    getMaterialByName(name) {\n        const matches = this[$materials].filter(material => {\n            return material.name === name;\n        });\n        if (matches.length > 0) {\n            return matches[0];\n        }\n        return null;\n    }\n    /**\n     * Intersects a ray with the Model and returns a list of materials whose\n     * objects were intersected.\n     */\n    [$materialsFromPoint](raycaster) {\n        const hits = raycaster.intersectObject(this[$threeScene], true);\n        // Map the object hits to primitives and then to the active material of\n        // the primitive.\n        return hits.map((hit) => {\n            const found = this[$hierarchy].find((node) => {\n                if (node instanceof _nodes_primitive_node_js__WEBPACK_IMPORTED_MODULE_1__.PrimitiveNode) {\n                    const primitive = node;\n                    if (primitive.mesh === hit.object) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (found != null) {\n                return found.getActiveMaterial();\n            }\n            return null;\n        });\n    }\n    /**\n     * Intersects a ray with the Model and returns the first material whose\n     * object was intersected.\n     */\n    [$materialFromPoint](raycaster) {\n        const materials = this[$materialsFromPoint](raycaster);\n        if (materials.length > 0) {\n            return materials[0];\n        }\n        return null;\n    }\n    /**\n     * Switches model variant to the variant name provided, or switches to\n     * default/initial materials if 'null' is provided.\n     */\n    async [$switchVariant](variantName) {\n        for (const primitive of this[$primitivesList]) {\n            await primitive.enableVariant(variantName);\n        }\n        for (const material of this.materials) {\n            material[_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](false);\n        }\n        // Marks the materials that are now in use after the variant switch.\n        for (const primitive of this[$primitivesList]) {\n            this.materials[primitive.getActiveMaterial().index][_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](true);\n        }\n    }\n    async [$prepareVariantsForExport]() {\n        const promises = new Array();\n        for (const primitive of this[$primitivesList]) {\n            promises.push(primitive.instantiateVariants());\n        }\n        await Promise.all(promises);\n    }\n    [$cloneMaterial](index, newMaterialName) {\n        const material = this.materials[index];\n        if (!material.isLoaded) {\n            console.error(`Cloning an unloaded material,\n           call 'material.ensureLoaded() before cloning the material.`);\n        }\n        const threeMaterialSet = material[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$correlatedObjects];\n        // clones the gltf material data and updates the material name.\n        const gltfSourceMaterial = JSON.parse(JSON.stringify(material[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject]));\n        gltfSourceMaterial.name = newMaterialName;\n        // Adds the source material clone to the gltf def.\n        const gltf = this[$correlatedSceneGraph].gltf;\n        gltf.materials.push(gltfSourceMaterial);\n        const clonedSet = new Set();\n        for (const [i, threeMaterial] of threeMaterialSet.entries()) {\n            const clone = threeMaterial.clone();\n            clone.name =\n                newMaterialName + (threeMaterialSet.size > 1 ? '_inst' + i : '');\n            clonedSet.add(clone);\n        }\n        const clonedMaterial = new _material_js__WEBPACK_IMPORTED_MODULE_0__.Material(this[$modelOnUpdate], this[$correlatedSceneGraph].gltf, gltfSourceMaterial, this[$materials].length, false, // Cloned as inactive.\n        this[$variantData], clonedSet);\n        this[$materials].push(clonedMaterial);\n        return clonedMaterial;\n    }\n    createMaterialInstanceForVariant(originalMaterialIndex, newMaterialName, variantName, activateVariant = true) {\n        let variantMaterialInstance = null;\n        for (const primitive of this[$primitivesList]) {\n            const variantData = this[$variantData].get(variantName);\n            // Skips the primitive if the variant already exists.\n            if (variantData != null && primitive.variantInfo.has(variantData.index)) {\n                continue;\n            }\n            // Skips the primitive if the source/original material does not exist.\n            if (primitive.getMaterial(originalMaterialIndex) == null) {\n                continue;\n            }\n            if (!this.hasVariant(variantName)) {\n                this.createVariant(variantName);\n            }\n            if (variantMaterialInstance == null) {\n                variantMaterialInstance =\n                    this[$cloneMaterial](originalMaterialIndex, newMaterialName);\n            }\n            primitive.addVariant(variantMaterialInstance, variantName);\n        }\n        if (activateVariant && variantMaterialInstance != null) {\n            variantMaterialInstance[_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](true);\n            this.materials[originalMaterialIndex][_material_js__WEBPACK_IMPORTED_MODULE_0__.$setActive](false);\n            for (const primitive of this[$primitivesList]) {\n                primitive.enableVariant(variantName);\n            }\n        }\n        return variantMaterialInstance;\n    }\n    createVariant(variantName) {\n        if (!this[$variantData].has(variantName)) {\n            // Adds the name if it's not already in the list.\n            this[$variantData].set(variantName, { name: variantName, index: this[$variantData].size });\n        }\n        else {\n            console.warn(`Variant '${variantName}'' already exists`);\n        }\n    }\n    hasVariant(variantName) {\n        return this[$variantData].has(variantName);\n    }\n    setMaterialToVariant(materialIndex, targetVariantName) {\n        if (this[$availableVariants]().find(name => name === targetVariantName) ==\n            null) {\n            console.warn(`Can't add material to '${targetVariantName}', the variant does not exist.'`);\n            return;\n        }\n        if (materialIndex < 0 || materialIndex >= this.materials.length) {\n            console.error(`setMaterialToVariant(): materialIndex is out of bounds.`);\n            return;\n        }\n        for (const primitive of this[$primitivesList]) {\n            const material = primitive.getMaterial(materialIndex);\n            // Ensures the material exists on the primitive before setting it to a\n            // variant.\n            if (material != null) {\n                primitive.addVariant(material, targetVariantName);\n            }\n        }\n    }\n    updateVariantName(currentName, newName) {\n        const variantData = this[$variantData].get(currentName);\n        if (variantData == null) {\n            return;\n        }\n        variantData.name = newName;\n        this[$variantData].set(newName, variantData);\n        this[$variantData].delete(currentName);\n    }\n    deleteVariant(variantName) {\n        const variant = this[$variantData].get(variantName);\n        if (variant == null) {\n            return;\n        }\n        for (const material of this.materials) {\n            if (material.hasVariant(variantName)) {\n                material[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantSet].delete(variant.index);\n            }\n        }\n        for (const primitive of this[$primitivesList]) {\n            primitive.deleteVariant(variant.index);\n        }\n        this[$variantData].delete(variantName);\n    }\n}\n//# sourceMappingURL=model.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL21vZGVsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzZCO0FBQ3FDO0FBQ1M7QUFDQTtBQUNwRTtBQUNQO0FBQ0E7QUFDTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtDQUFrQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrREFBUTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsMENBQTBDLGtEQUFRO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx1Q0FBSTtBQUN0QywyQkFBMkIsbUVBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDBEQUFJO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwrREFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsbUVBQWE7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvREFBVTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0Usb0RBQVU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFFQUFrQjtBQUM1RDtBQUNBLHNFQUFzRSxnRUFBYTtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGtEQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msb0RBQVU7QUFDOUMsa0RBQWtELG9EQUFVO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxtREFBbUQ7QUFDckc7QUFDQTtBQUNBLHFDQUFxQyxZQUFZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsa0JBQWtCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFEQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL21vZGVsLmpzPzcwNTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG5pbXBvcnQgeyBNZXNoIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgJHNldEFjdGl2ZSwgJHZhcmlhbnRTZXQsIE1hdGVyaWFsIH0gZnJvbSAnLi9tYXRlcmlhbC5qcyc7XG5pbXBvcnQgeyAkY2hpbGRyZW4sIE5vZGUsIFByaW1pdGl2ZU5vZGUgfSBmcm9tICcuL25vZGVzL3ByaW1pdGl2ZS1ub2RlLmpzJztcbmltcG9ydCB7ICRjb3JyZWxhdGVkT2JqZWN0cywgJHNvdXJjZU9iamVjdCB9IGZyb20gJy4vdGhyZWUtZG9tLWVsZW1lbnQuanMnO1xuZXhwb3J0IGNvbnN0ICRtYXRlcmlhbHMgPSBTeW1ib2woJ21hdGVyaWFscycpO1xuY29uc3QgJGhpZXJhcmNoeSA9IFN5bWJvbCgnaGllcmFyY2h5Jyk7XG5jb25zdCAkcm9vdHMgPSBTeW1ib2woJ3Jvb3RzJyk7XG5leHBvcnQgY29uc3QgJHByaW1pdGl2ZXNMaXN0ID0gU3ltYm9sKCdwcmltaXRpdmVzJyk7XG5leHBvcnQgY29uc3QgJGxvYWRWYXJpYW50ID0gU3ltYm9sKCdsb2FkVmFyaWFudCcpO1xuZXhwb3J0IGNvbnN0ICRjb3JyZWxhdGVkU2NlbmVHcmFwaCA9IFN5bWJvbCgnY29ycmVsYXRlZFNjZW5lR3JhcGgnKTtcbmV4cG9ydCBjb25zdCAkcHJlcGFyZVZhcmlhbnRzRm9yRXhwb3J0ID0gU3ltYm9sKCdwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnQnKTtcbmV4cG9ydCBjb25zdCAkc3dpdGNoVmFyaWFudCA9IFN5bWJvbCgnc3dpdGNoVmFyaWFudCcpO1xuZXhwb3J0IGNvbnN0ICR0aHJlZVNjZW5lID0gU3ltYm9sKCd0aHJlZVNjZW5lJyk7XG5leHBvcnQgY29uc3QgJG1hdGVyaWFsc0Zyb21Qb2ludCA9IFN5bWJvbCgnbWF0ZXJpYWxzRnJvbVBvaW50Jyk7XG5leHBvcnQgY29uc3QgJG1hdGVyaWFsRnJvbVBvaW50ID0gU3ltYm9sKCdtYXRlcmlhbEZyb21Qb2ludCcpO1xuZXhwb3J0IGNvbnN0ICR2YXJpYW50RGF0YSA9IFN5bWJvbCgndmFyaWFudERhdGEnKTtcbmV4cG9ydCBjb25zdCAkYXZhaWxhYmxlVmFyaWFudHMgPSBTeW1ib2woJ2F2YWlsYWJsZVZhcmlhbnRzJyk7XG5jb25zdCAkbW9kZWxPblVwZGF0ZSA9IFN5bWJvbCgnbW9kZWxPblVwZGF0ZScpO1xuY29uc3QgJGNsb25lTWF0ZXJpYWwgPSBTeW1ib2woJ2Nsb25lTWF0ZXJpYWwnKTtcbi8vIEhvbGRzIG9udG8gdGVtcG9yYXJ5IHNjZW5lIGNvbnRleHQgaW5mb3JtYXRpb24gbmVlZGVkIHRvIHBlcmZvcm0gbGF6eSBsb2FkaW5nXG4vLyBvZiBhIHJlc291cmNlLlxuZXhwb3J0IGNsYXNzIExhenlMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKGdsdGYsIGdsdGZFbGVtZW50TWFwLCBtYXBLZXksIGRvTGF6eUxvYWQpIHtcbiAgICAgICAgdGhpcy5nbHRmID0gZ2x0ZjtcbiAgICAgICAgdGhpcy5nbHRmRWxlbWVudE1hcCA9IGdsdGZFbGVtZW50TWFwO1xuICAgICAgICB0aGlzLm1hcEtleSA9IG1hcEtleTtcbiAgICAgICAgdGhpcy5kb0xhenlMb2FkID0gZG9MYXp5TG9hZDtcbiAgICB9XG59XG4vKipcbiAqIEEgTW9kZWwgZmFjYWRlcyB0aGUgdG9wLWxldmVsIEdMVEYgb2JqZWN0IHJldHVybmVkIGJ5IFRocmVlLmpzJyBHTFRGTG9hZGVyLlxuICogQ3VycmVudGx5LCB0aGUgbW9kZWwgb25seSBib3RoZXJzIGl0c2VsZiB3aXRoIHRoZSBtYXRlcmlhbHMgaW4gdGhlIFRocmVlLmpzXG4gKiBzY2VuZSBncmFwaC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGVsIHtcbiAgICBjb25zdHJ1Y3Rvcihjb3JyZWxhdGVkU2NlbmVHcmFwaCwgb25VcGRhdGUgPSAoKSA9PiB7IH0pIHtcbiAgICAgICAgdGhpc1tfYV0gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfYl0gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfY10gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfZF0gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpc1tfZV0gPSAoKSA9PiB7IH07XG4gICAgICAgIHRoaXNbX2ZdID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzWyRtb2RlbE9uVXBkYXRlXSA9IG9uVXBkYXRlO1xuICAgICAgICB0aGlzWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF0gPSBjb3JyZWxhdGVkU2NlbmVHcmFwaDtcbiAgICAgICAgY29uc3QgeyBnbHRmLCB0aHJlZUdMVEYsIGdsdGZFbGVtZW50TWFwIH0gPSBjb3JyZWxhdGVkU2NlbmVHcmFwaDtcbiAgICAgICAgdGhpc1skdGhyZWVTY2VuZV0gPSB0aHJlZUdMVEYuc2NlbmU7XG4gICAgICAgIGZvciAoY29uc3QgW2ksIG1hdGVyaWFsXSBvZiBnbHRmLm1hdGVyaWFscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlbGF0ZWRNYXRlcmlhbCA9IGdsdGZFbGVtZW50TWFwLmdldChtYXRlcmlhbCk7XG4gICAgICAgICAgICBpZiAoY29ycmVsYXRlZE1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnB1c2gobmV3IE1hdGVyaWFsKG9uVXBkYXRlLCBnbHRmLCBtYXRlcmlhbCwgaSwgdHJ1ZSwgdGhpc1skdmFyaWFudERhdGFdLCBjb3JyZWxhdGVkTWF0ZXJpYWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBcnJheSA9IGdsdGZbJ21hdGVyaWFscyddIHx8IFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdsdGZNYXRlcmlhbERlZiA9IGVsZW1lbnRBcnJheVtpXTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkcyB0aGUgdGhyZWUuanMgbWF0ZXJpYWwuXG4gICAgICAgICAgICAgICAgY29uc3QgY2FwdHVyZWRNYXRJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWxMb2FkQ2FsbGJhY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRocmVlTWF0ZXJpYWwgPSBhd2FpdCB0aHJlZUdMVEYucGFyc2VyLmdldERlcGVuZGVuY3koJ21hdGVyaWFsJywgY2FwdHVyZWRNYXRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZHMgY29ycmVsYXRpb24sIG1hcHMgdGhlIHZhcmlhbnQgZ2x0Zi1kZWYgdG8gdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocmVlIG1hdGVyaWFsIHNldCBjb250YWluaW5nIHRoZSB2YXJpYW50IG1hdGVyaWFsLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aHJlZU1hdGVyaWFsU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICBnbHRmRWxlbWVudE1hcC5zZXQoZ2x0Zk1hdGVyaWFsRGVmLCB0aHJlZU1hdGVyaWFsU2V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyZWVNYXRlcmlhbFNldC5hZGQodGhyZWVNYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHNldDogdGhyZWVNYXRlcmlhbFNldCwgbWF0ZXJpYWw6IHRocmVlTWF0ZXJpYWwgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIENvbmZpZ3VyZXMgdGhlIG1hdGVyaWFsIGZvciBsYXp5IGxvYWRpbmcuXG4gICAgICAgICAgICAgICAgdGhpc1skbWF0ZXJpYWxzXS5wdXNoKG5ldyBNYXRlcmlhbChvblVwZGF0ZSwgZ2x0ZiwgZ2x0Zk1hdGVyaWFsRGVmLCBpLCBmYWxzZSwgdGhpc1skdmFyaWFudERhdGFdLCBjb3JyZWxhdGVkTWF0ZXJpYWwsIG5ldyBMYXp5TG9hZGVyKGdsdGYsIGdsdGZFbGVtZW50TWFwLCBnbHRmTWF0ZXJpYWxEZWYsIG1hdGVyaWFsTG9hZENhbGxiYWNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZXMgYSBoaWVyYXJjaHkgb2YgTm9kZXMuIEFsbG93cyBub3QganVzdCBmb3Igc3dpdGNoaW5nIHdoaWNoXG4gICAgICAgIC8vIG1hdGVyaWFsIGlzIGFwcGxpZWQgdG8gYSBtZXNoIGJ1dCBhbHNvIGV4cG9zZXMgYSB3YXkgdG8gcHJvdmlkZSBBUElcbiAgICAgICAgLy8gZm9yIHN3aXRjaGluZyBtYXRlcmlhbHMgYW5kIGdlbmVyYWwgYXNzaWdubWVudC9tb2RpZmljYXRpb24uXG4gICAgICAgIC8vIFByZXBhcmVzIGZvciBzY2VuZSBpdGVyYXRpb24uXG4gICAgICAgIGNvbnN0IHBhcmVudE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3Qgbm9kZVN0YWNrID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIHRocmVlR0xURi5zY2VuZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgbm9kZVN0YWNrLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXYWxrcyB0aGUgaGllcmFyY2h5IGFuZCBjcmVhdGVzIGEgbm9kZSB0cmVlLlxuICAgICAgICB3aGlsZSAobm9kZVN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdCA9IG5vZGVTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGxldCBub2RlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBNZXNoKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5ldyBQcmltaXRpdmVOb2RlKG9iamVjdCwgdGhpcy5tYXRlcmlhbHMsIHRoaXNbJHZhcmlhbnREYXRhXSwgY29ycmVsYXRlZFNjZW5lR3JhcGgpO1xuICAgICAgICAgICAgICAgIHRoaXNbJHByaW1pdGl2ZXNMaXN0XS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5ldyBOb2RlKG9iamVjdC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHBhcmVudE1hcC5nZXQob2JqZWN0KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudFskY2hpbGRyZW5dLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRyb290c10ucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJGhpZXJhcmNoeV0ucHVzaChub2RlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygb2JqZWN0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgbm9kZVN0YWNrLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIHBhcmVudE1hcC5zZXQob2JqZWN0LCBub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXRlcmlhbHMgYXJlIGxpc3RlZCBpbiB0aGUgb3JkZXIgb2YgdGhlIEdMVEYgbWF0ZXJpYWxzIGFycmF5LCBwbHVzIGFcbiAgICAgKiBkZWZhdWx0IG1hdGVyaWFsIGF0IHRoZSBlbmQgaWYgb25lIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBUT0RPKCMxMDAzKTogSG93IGRvIHdlIGhhbmRsZSBub24tYWN0aXZlIHNjZW5lcz9cbiAgICAgKi9cbiAgICBnZXQgbWF0ZXJpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skbWF0ZXJpYWxzXTtcbiAgICB9XG4gICAgWyhfYSA9ICRtYXRlcmlhbHMsIF9iID0gJGhpZXJhcmNoeSwgX2MgPSAkcm9vdHMsIF9kID0gJHByaW1pdGl2ZXNMaXN0LCBfZSA9ICRtb2RlbE9uVXBkYXRlLCBfZiA9ICR2YXJpYW50RGF0YSwgJGF2YWlsYWJsZVZhcmlhbnRzKV0oKSB7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzID0gQXJyYXkuZnJvbSh0aGlzWyR2YXJpYW50RGF0YV0udmFsdWVzKCkpO1xuICAgICAgICB2YXJpYW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFyaWFudHMubWFwKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5uYW1lO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TWF0ZXJpYWxCeU5hbWUobmFtZSkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpc1skbWF0ZXJpYWxzXS5maWx0ZXIobWF0ZXJpYWwgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGVyaWFsLm5hbWUgPT09IG5hbWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hlc1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW50ZXJzZWN0cyBhIHJheSB3aXRoIHRoZSBNb2RlbCBhbmQgcmV0dXJucyBhIGxpc3Qgb2YgbWF0ZXJpYWxzIHdob3NlXG4gICAgICogb2JqZWN0cyB3ZXJlIGludGVyc2VjdGVkLlxuICAgICAqL1xuICAgIFskbWF0ZXJpYWxzRnJvbVBvaW50XShyYXljYXN0ZXIpIHtcbiAgICAgICAgY29uc3QgaGl0cyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3QodGhpc1skdGhyZWVTY2VuZV0sIHRydWUpO1xuICAgICAgICAvLyBNYXAgdGhlIG9iamVjdCBoaXRzIHRvIHByaW1pdGl2ZXMgYW5kIHRoZW4gdG8gdGhlIGFjdGl2ZSBtYXRlcmlhbCBvZlxuICAgICAgICAvLyB0aGUgcHJpbWl0aXZlLlxuICAgICAgICByZXR1cm4gaGl0cy5tYXAoKGhpdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzWyRoaWVyYXJjaHldLmZpbmQoKG5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFByaW1pdGl2ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpbWl0aXZlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1pdGl2ZS5tZXNoID09PSBoaXQub2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvdW5kLmdldEFjdGl2ZU1hdGVyaWFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVyc2VjdHMgYSByYXkgd2l0aCB0aGUgTW9kZWwgYW5kIHJldHVybnMgdGhlIGZpcnN0IG1hdGVyaWFsIHdob3NlXG4gICAgICogb2JqZWN0IHdhcyBpbnRlcnNlY3RlZC5cbiAgICAgKi9cbiAgICBbJG1hdGVyaWFsRnJvbVBvaW50XShyYXljYXN0ZXIpIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWxzID0gdGhpc1skbWF0ZXJpYWxzRnJvbVBvaW50XShyYXljYXN0ZXIpO1xuICAgICAgICBpZiAobWF0ZXJpYWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRlcmlhbHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN3aXRjaGVzIG1vZGVsIHZhcmlhbnQgdG8gdGhlIHZhcmlhbnQgbmFtZSBwcm92aWRlZCwgb3Igc3dpdGNoZXMgdG9cbiAgICAgKiBkZWZhdWx0L2luaXRpYWwgbWF0ZXJpYWxzIGlmICdudWxsJyBpcyBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBhc3luYyBbJHN3aXRjaFZhcmlhbnRdKHZhcmlhbnROYW1lKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIHRoaXNbJHByaW1pdGl2ZXNMaXN0XSkge1xuICAgICAgICAgICAgYXdhaXQgcHJpbWl0aXZlLmVuYWJsZVZhcmlhbnQodmFyaWFudE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgdGhpcy5tYXRlcmlhbHMpIHtcbiAgICAgICAgICAgIG1hdGVyaWFsWyRzZXRBY3RpdmVdKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNYXJrcyB0aGUgbWF0ZXJpYWxzIHRoYXQgYXJlIG5vdyBpbiB1c2UgYWZ0ZXIgdGhlIHZhcmlhbnQgc3dpdGNoLlxuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxzW3ByaW1pdGl2ZS5nZXRBY3RpdmVNYXRlcmlhbCgpLmluZGV4XVskc2V0QWN0aXZlXSh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBbJHByZXBhcmVWYXJpYW50c0ZvckV4cG9ydF0oKSB7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlIG9mIHRoaXNbJHByaW1pdGl2ZXNMaXN0XSkge1xuICAgICAgICAgICAgcHJvbWlzZXMucHVzaChwcmltaXRpdmUuaW5zdGFudGlhdGVWYXJpYW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfVxuICAgIFskY2xvbmVNYXRlcmlhbF0oaW5kZXgsIG5ld01hdGVyaWFsTmFtZSkge1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWxzW2luZGV4XTtcbiAgICAgICAgaWYgKCFtYXRlcmlhbC5pc0xvYWRlZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ2xvbmluZyBhbiB1bmxvYWRlZCBtYXRlcmlhbCxcbiAgICAgICAgICAgY2FsbCAnbWF0ZXJpYWwuZW5zdXJlTG9hZGVkKCkgYmVmb3JlIGNsb25pbmcgdGhlIG1hdGVyaWFsLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRocmVlTWF0ZXJpYWxTZXQgPSBtYXRlcmlhbFskY29ycmVsYXRlZE9iamVjdHNdO1xuICAgICAgICAvLyBjbG9uZXMgdGhlIGdsdGYgbWF0ZXJpYWwgZGF0YSBhbmQgdXBkYXRlcyB0aGUgbWF0ZXJpYWwgbmFtZS5cbiAgICAgICAgY29uc3QgZ2x0ZlNvdXJjZU1hdGVyaWFsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtYXRlcmlhbFskc291cmNlT2JqZWN0XSkpO1xuICAgICAgICBnbHRmU291cmNlTWF0ZXJpYWwubmFtZSA9IG5ld01hdGVyaWFsTmFtZTtcbiAgICAgICAgLy8gQWRkcyB0aGUgc291cmNlIG1hdGVyaWFsIGNsb25lIHRvIHRoZSBnbHRmIGRlZi5cbiAgICAgICAgY29uc3QgZ2x0ZiA9IHRoaXNbJGNvcnJlbGF0ZWRTY2VuZUdyYXBoXS5nbHRmO1xuICAgICAgICBnbHRmLm1hdGVyaWFscy5wdXNoKGdsdGZTb3VyY2VNYXRlcmlhbCk7XG4gICAgICAgIGNvbnN0IGNsb25lZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBbaSwgdGhyZWVNYXRlcmlhbF0gb2YgdGhyZWVNYXRlcmlhbFNldC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gdGhyZWVNYXRlcmlhbC5jbG9uZSgpO1xuICAgICAgICAgICAgY2xvbmUubmFtZSA9XG4gICAgICAgICAgICAgICAgbmV3TWF0ZXJpYWxOYW1lICsgKHRocmVlTWF0ZXJpYWxTZXQuc2l6ZSA+IDEgPyAnX2luc3QnICsgaSA6ICcnKTtcbiAgICAgICAgICAgIGNsb25lZFNldC5hZGQoY2xvbmUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNsb25lZE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKHRoaXNbJG1vZGVsT25VcGRhdGVdLCB0aGlzWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF0uZ2x0ZiwgZ2x0ZlNvdXJjZU1hdGVyaWFsLCB0aGlzWyRtYXRlcmlhbHNdLmxlbmd0aCwgZmFsc2UsIC8vIENsb25lZCBhcyBpbmFjdGl2ZS5cbiAgICAgICAgdGhpc1skdmFyaWFudERhdGFdLCBjbG9uZWRTZXQpO1xuICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnB1c2goY2xvbmVkTWF0ZXJpYWwpO1xuICAgICAgICByZXR1cm4gY2xvbmVkTWF0ZXJpYWw7XG4gICAgfVxuICAgIGNyZWF0ZU1hdGVyaWFsSW5zdGFuY2VGb3JWYXJpYW50KG9yaWdpbmFsTWF0ZXJpYWxJbmRleCwgbmV3TWF0ZXJpYWxOYW1lLCB2YXJpYW50TmFtZSwgYWN0aXZhdGVWYXJpYW50ID0gdHJ1ZSkge1xuICAgICAgICBsZXQgdmFyaWFudE1hdGVyaWFsSW5zdGFuY2UgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnREYXRhID0gdGhpc1skdmFyaWFudERhdGFdLmdldCh2YXJpYW50TmFtZSk7XG4gICAgICAgICAgICAvLyBTa2lwcyB0aGUgcHJpbWl0aXZlIGlmIHRoZSB2YXJpYW50IGFscmVhZHkgZXhpc3RzLlxuICAgICAgICAgICAgaWYgKHZhcmlhbnREYXRhICE9IG51bGwgJiYgcHJpbWl0aXZlLnZhcmlhbnRJbmZvLmhhcyh2YXJpYW50RGF0YS5pbmRleCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNraXBzIHRoZSBwcmltaXRpdmUgaWYgdGhlIHNvdXJjZS9vcmlnaW5hbCBtYXRlcmlhbCBkb2VzIG5vdCBleGlzdC5cbiAgICAgICAgICAgIGlmIChwcmltaXRpdmUuZ2V0TWF0ZXJpYWwob3JpZ2luYWxNYXRlcmlhbEluZGV4KSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFzVmFyaWFudCh2YXJpYW50TmFtZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVZhcmlhbnQodmFyaWFudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhcmlhbnRNYXRlcmlhbEluc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZSA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbJGNsb25lTWF0ZXJpYWxdKG9yaWdpbmFsTWF0ZXJpYWxJbmRleCwgbmV3TWF0ZXJpYWxOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByaW1pdGl2ZS5hZGRWYXJpYW50KHZhcmlhbnRNYXRlcmlhbEluc3RhbmNlLCB2YXJpYW50TmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2YXRlVmFyaWFudCAmJiB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZVskc2V0QWN0aXZlXSh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxzW29yaWdpbmFsTWF0ZXJpYWxJbmRleF1bJHNldEFjdGl2ZV0oZmFsc2UpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcmltaXRpdmUgb2YgdGhpc1skcHJpbWl0aXZlc0xpc3RdKSB7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmVuYWJsZVZhcmlhbnQodmFyaWFudE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJpYW50TWF0ZXJpYWxJbnN0YW5jZTtcbiAgICB9XG4gICAgY3JlYXRlVmFyaWFudCh2YXJpYW50TmFtZSkge1xuICAgICAgICBpZiAoIXRoaXNbJHZhcmlhbnREYXRhXS5oYXModmFyaWFudE5hbWUpKSB7XG4gICAgICAgICAgICAvLyBBZGRzIHRoZSBuYW1lIGlmIGl0J3Mgbm90IGFscmVhZHkgaW4gdGhlIGxpc3QuXG4gICAgICAgICAgICB0aGlzWyR2YXJpYW50RGF0YV0uc2V0KHZhcmlhbnROYW1lLCB7IG5hbWU6IHZhcmlhbnROYW1lLCBpbmRleDogdGhpc1skdmFyaWFudERhdGFdLnNpemUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFZhcmlhbnQgJyR7dmFyaWFudE5hbWV9JycgYWxyZWFkeSBleGlzdHNgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYXNWYXJpYW50KHZhcmlhbnROYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyR2YXJpYW50RGF0YV0uaGFzKHZhcmlhbnROYW1lKTtcbiAgICB9XG4gICAgc2V0TWF0ZXJpYWxUb1ZhcmlhbnQobWF0ZXJpYWxJbmRleCwgdGFyZ2V0VmFyaWFudE5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXNbJGF2YWlsYWJsZVZhcmlhbnRzXSgpLmZpbmQobmFtZSA9PiBuYW1lID09PSB0YXJnZXRWYXJpYW50TmFtZSkgPT1cbiAgICAgICAgICAgIG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2FuJ3QgYWRkIG1hdGVyaWFsIHRvICcke3RhcmdldFZhcmlhbnROYW1lfScsIHRoZSB2YXJpYW50IGRvZXMgbm90IGV4aXN0LidgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0ZXJpYWxJbmRleCA8IDAgfHwgbWF0ZXJpYWxJbmRleCA+PSB0aGlzLm1hdGVyaWFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYHNldE1hdGVyaWFsVG9WYXJpYW50KCk6IG1hdGVyaWFsSW5kZXggaXMgb3V0IG9mIGJvdW5kcy5gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gcHJpbWl0aXZlLmdldE1hdGVyaWFsKG1hdGVyaWFsSW5kZXgpO1xuICAgICAgICAgICAgLy8gRW5zdXJlcyB0aGUgbWF0ZXJpYWwgZXhpc3RzIG9uIHRoZSBwcmltaXRpdmUgYmVmb3JlIHNldHRpbmcgaXQgdG8gYVxuICAgICAgICAgICAgLy8gdmFyaWFudC5cbiAgICAgICAgICAgIGlmIChtYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmFkZFZhcmlhbnQobWF0ZXJpYWwsIHRhcmdldFZhcmlhbnROYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVWYXJpYW50TmFtZShjdXJyZW50TmFtZSwgbmV3TmFtZSkge1xuICAgICAgICBjb25zdCB2YXJpYW50RGF0YSA9IHRoaXNbJHZhcmlhbnREYXRhXS5nZXQoY3VycmVudE5hbWUpO1xuICAgICAgICBpZiAodmFyaWFudERhdGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhcmlhbnREYXRhLm5hbWUgPSBuZXdOYW1lO1xuICAgICAgICB0aGlzWyR2YXJpYW50RGF0YV0uc2V0KG5ld05hbWUsIHZhcmlhbnREYXRhKTtcbiAgICAgICAgdGhpc1skdmFyaWFudERhdGFdLmRlbGV0ZShjdXJyZW50TmFtZSk7XG4gICAgfVxuICAgIGRlbGV0ZVZhcmlhbnQodmFyaWFudE5hbWUpIHtcbiAgICAgICAgY29uc3QgdmFyaWFudCA9IHRoaXNbJHZhcmlhbnREYXRhXS5nZXQodmFyaWFudE5hbWUpO1xuICAgICAgICBpZiAodmFyaWFudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzLm1hdGVyaWFscykge1xuICAgICAgICAgICAgaWYgKG1hdGVyaWFsLmhhc1ZhcmlhbnQodmFyaWFudE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWxbJHZhcmlhbnRTZXRdLmRlbGV0ZSh2YXJpYW50LmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHByaW1pdGl2ZSBvZiB0aGlzWyRwcmltaXRpdmVzTGlzdF0pIHtcbiAgICAgICAgICAgIHByaW1pdGl2ZS5kZWxldGVWYXJpYW50KHZhcmlhbnQuaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJHZhcmlhbnREYXRhXS5kZWxldGUodmFyaWFudE5hbWUpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGVsLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/model.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $activeMaterialIdx: () => (/* binding */ $activeMaterialIdx),\n/* harmony export */   $children: () => (/* binding */ $children),\n/* harmony export */   $initialMaterialIdx: () => (/* binding */ $initialMaterialIdx),\n/* harmony export */   $loadVariant: () => (/* binding */ $loadVariant),\n/* harmony export */   $prepareVariantsForExport: () => (/* binding */ $prepareVariantsForExport),\n/* harmony export */   $primitives: () => (/* binding */ $primitives),\n/* harmony export */   $switchVariant: () => (/* binding */ $switchVariant),\n/* harmony export */   Node: () => (/* binding */ Node),\n/* harmony export */   PrimitiveNode: () => (/* binding */ PrimitiveNode)\n/* harmony export */ });\n/* harmony import */ var _material_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../material.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/material.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\nvar _a, _b, _c, _d, _e;\n\n\nconst $materials = Symbol('materials');\nconst $variantToMaterialMap = Symbol('variantToMaterialMap');\nconst $modelVariants = Symbol('modelVariants');\nconst $mesh = Symbol('mesh');\nconst $primitives = Symbol('primitives');\nconst $loadVariant = Symbol('loadVariant');\nconst $prepareVariantsForExport = Symbol('prepareVariantsForExport');\nconst $switchVariant = Symbol('switchVariant');\nconst $children = Symbol('children');\nconst $initialMaterialIdx = Symbol('initialMaterialIdx');\nconst $activeMaterialIdx = Symbol('activeMaterialIdx');\n// Defines the base level node methods and data.\nclass Node {\n    constructor(name) {\n        this.name = '';\n        this[_a] = new Array();\n        this.name = name;\n    }\n}\n_a = $children;\n// Represents a primitive in a glTF mesh.\nclass PrimitiveNode extends Node {\n    constructor(mesh, mvMaterials, modelVariants, correlatedSceneGraph) {\n        super(mesh.name);\n        // Maps glTF material index number to a material that this primitive supports.\n        this[_b] = new Map();\n        // Maps variant index to material.\n        this[_c] = new Map();\n        this[_d] = 0;\n        this[_e] = 0;\n        this[$mesh] = mesh;\n        const { gltf, threeGLTF, threeObjectMap } = correlatedSceneGraph;\n        this[$modelVariants] = modelVariants;\n        this.mesh.userData.variantData = modelVariants;\n        // Captures the primitive's initial material.\n        const materialMappings = threeObjectMap.get(mesh.material);\n        if (materialMappings.materials != null) {\n            this[$initialMaterialIdx] = this[$activeMaterialIdx] =\n                materialMappings.materials;\n        }\n        else {\n            console.error(`Primitive (${mesh.name}) missing initial material reference.`);\n        }\n        // Gets the mesh index from the node.\n        const associations = mesh.userData.associations ||\n            {};\n        if (associations.meshes == null) {\n            console.error('Mesh is missing primitive index association');\n            return;\n        }\n        // The gltf mesh array to sample from.\n        const meshElementArray = gltf['meshes'] || [];\n        // List of primitives under the mesh.\n        const gltfPrimitives = (meshElementArray[associations.meshes].primitives || []);\n        const gltfPrimitive = gltfPrimitives[associations.primitives];\n        if (gltfPrimitive == null) {\n            console.error('Mesh primitive definition is missing.');\n            return;\n        }\n        // Maps the gltfPrimitive default to a material.\n        if (gltfPrimitive.material != null) {\n            this[$materials].set(gltfPrimitive.material, mvMaterials[gltfPrimitive.material]);\n        }\n        else {\n            const defaultIdx = mvMaterials.findIndex((mat) => {\n                return mat.name === 'Default';\n            });\n            if (defaultIdx >= 0) {\n                this[$materials].set(defaultIdx, mvMaterials[defaultIdx]);\n            }\n            else {\n                console.warn('gltfPrimitive has no material!');\n            }\n        }\n        if (gltfPrimitive.extensions &&\n            gltfPrimitive.extensions['KHR_materials_variants']) {\n            const variantsExtension = gltfPrimitive.extensions['KHR_materials_variants'];\n            const extensions = threeGLTF.parser.json.extensions;\n            const variantNames = extensions['KHR_materials_variants'].variants;\n            // Provides definition now that we know there are variants to\n            // support.\n            for (const mapping of variantsExtension.mappings) {\n                const mvMaterial = mvMaterials[mapping.material];\n                // Maps variant indices to Materials.\n                this[$materials].set(mapping.material, mvMaterial);\n                for (const variant of mapping.variants) {\n                    const { name } = variantNames[variant];\n                    this[$variantToMaterialMap].set(variant, mvMaterial);\n                    // Provides variant info for material self lookup.\n                    mvMaterial[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantIndices]().add(variant);\n                    // Updates the models variant data.\n                    if (!modelVariants.has(name)) {\n                        modelVariants.set(name, { name, index: variant });\n                    }\n                }\n            }\n        }\n    }\n    get mesh() {\n        return this[$mesh];\n    }\n    async setActiveMaterial(material) {\n        const mvMaterial = this[$materials].get(material);\n        if (mvMaterial != null) {\n            this.mesh.material = await mvMaterial[_material_js__WEBPACK_IMPORTED_MODULE_0__.$getLoadedMaterial]();\n            this[$activeMaterialIdx] = material;\n        }\n        return this.mesh.material;\n    }\n    getActiveMaterial() {\n        return this[$materials].get(this[$activeMaterialIdx]);\n    }\n    getMaterial(index) {\n        return this[$materials].get(index);\n    }\n    async enableVariant(name) {\n        if (name == null) {\n            return this.setActiveMaterial(this[$initialMaterialIdx]);\n        }\n        if (this[$variantToMaterialMap] != null && this[$modelVariants].has(name)) {\n            const modelVariants = this[$modelVariants].get(name);\n            return this.enableVariantHelper(modelVariants.index);\n        }\n        return null;\n    }\n    async enableVariantHelper(index) {\n        if (this[$variantToMaterialMap] != null && index != null) {\n            const material = this[$variantToMaterialMap].get(index);\n            if (material != null) {\n                return this.setActiveMaterial(material.index);\n            }\n        }\n        return null;\n    }\n    async instantiateVariants() {\n        if (this[$variantToMaterialMap] == null) {\n            return;\n        }\n        for (const index of this[$variantToMaterialMap].keys()) {\n            const variantMaterial = this.mesh.userData.variantMaterials.get(index);\n            if (variantMaterial.material != null) {\n                continue;\n            }\n            const threeMaterial = await this.enableVariantHelper(index);\n            if (threeMaterial != null) {\n                variantMaterial.material = threeMaterial;\n            }\n        }\n    }\n    get variantInfo() {\n        return this[$variantToMaterialMap];\n    }\n    addVariant(materialVariant, variantName) {\n        if (!this.ensureVariantIsUnused(variantName)) {\n            return false;\n        }\n        // Adds the variant to the model variants if needed.\n        if (!this[$modelVariants].has(variantName)) {\n            this[$modelVariants].set(variantName, { name: variantName, index: this[$modelVariants].size });\n        }\n        const modelVariantData = this[$modelVariants].get(variantName);\n        const variantIndex = modelVariantData.index;\n        // Updates materials mapped to the variant.\n        materialVariant[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantIndices]().add(variantIndex);\n        // Updates internal mappings.\n        this[$variantToMaterialMap].set(variantIndex, materialVariant);\n        this[$materials].set(materialVariant.index, materialVariant);\n        this.updateVariantUserData(variantIndex, materialVariant);\n        return true;\n    }\n    deleteVariant(variantIndex) {\n        if (this.variantInfo.has(variantIndex)) {\n            this.variantInfo.delete(variantIndex);\n            const userDataMap = this.mesh.userData.variantMaterials;\n            if (userDataMap != null) {\n                userDataMap.delete(variantIndex);\n            }\n        }\n    }\n    updateVariantUserData(variantIndex, materialVariant) {\n        // Adds variants name to material variants set.\n        materialVariant[_material_js__WEBPACK_IMPORTED_MODULE_0__.$variantIndices]().add(variantIndex);\n        this.mesh.userData.variantData = this[$modelVariants];\n        // Updates import data (see VariantMaterialLoaderPlugin.ts).\n        this.mesh.userData.variantMaterials = this.mesh.userData.variantMaterials ||\n            new Map();\n        const map = this.mesh.userData.variantMaterials;\n        map.set(variantIndex, {\n            material: materialVariant[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects].values().next().value,\n            gltfMaterialIndex: materialVariant.index,\n        });\n    }\n    ensureVariantIsUnused(variantName) {\n        const modelVariants = this[$modelVariants].get(variantName);\n        if (modelVariants != null && this.variantInfo.has(modelVariants.index)) {\n            console.warn(`Primitive cannot add variant '${variantName}' for this material, it already exists.`);\n            return false;\n        }\n        return true;\n    }\n}\n_b = $materials, _c = $variantToMaterialMap, _d = $initialMaterialIdx, _e = $activeMaterialIdx;\n//# sourceMappingURL=primitive-node.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL25vZGVzL3ByaW1pdGl2ZS1ub2RlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDcUU7QUFDUjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQ0FBa0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFVBQVU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLE9BQU87QUFDbkM7QUFDQTtBQUNBLCtCQUErQix5REFBZTtBQUM5QztBQUNBO0FBQ0Esa0RBQWtELHNCQUFzQjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDREQUFrQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHFEQUFxRDtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlEQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxRUFBa0I7QUFDeEQ7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsWUFBWTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL25vZGVzL3ByaW1pdGl2ZS1ub2RlLmpzPzllNDMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbmltcG9ydCB7ICRnZXRMb2FkZWRNYXRlcmlhbCwgJHZhcmlhbnRJbmRpY2VzIH0gZnJvbSAnLi4vbWF0ZXJpYWwuanMnO1xuaW1wb3J0IHsgJGNvcnJlbGF0ZWRPYmplY3RzIH0gZnJvbSAnLi4vdGhyZWUtZG9tLWVsZW1lbnQuanMnO1xuY29uc3QgJG1hdGVyaWFscyA9IFN5bWJvbCgnbWF0ZXJpYWxzJyk7XG5jb25zdCAkdmFyaWFudFRvTWF0ZXJpYWxNYXAgPSBTeW1ib2woJ3ZhcmlhbnRUb01hdGVyaWFsTWFwJyk7XG5jb25zdCAkbW9kZWxWYXJpYW50cyA9IFN5bWJvbCgnbW9kZWxWYXJpYW50cycpO1xuY29uc3QgJG1lc2ggPSBTeW1ib2woJ21lc2gnKTtcbmV4cG9ydCBjb25zdCAkcHJpbWl0aXZlcyA9IFN5bWJvbCgncHJpbWl0aXZlcycpO1xuZXhwb3J0IGNvbnN0ICRsb2FkVmFyaWFudCA9IFN5bWJvbCgnbG9hZFZhcmlhbnQnKTtcbmV4cG9ydCBjb25zdCAkcHJlcGFyZVZhcmlhbnRzRm9yRXhwb3J0ID0gU3ltYm9sKCdwcmVwYXJlVmFyaWFudHNGb3JFeHBvcnQnKTtcbmV4cG9ydCBjb25zdCAkc3dpdGNoVmFyaWFudCA9IFN5bWJvbCgnc3dpdGNoVmFyaWFudCcpO1xuZXhwb3J0IGNvbnN0ICRjaGlsZHJlbiA9IFN5bWJvbCgnY2hpbGRyZW4nKTtcbmV4cG9ydCBjb25zdCAkaW5pdGlhbE1hdGVyaWFsSWR4ID0gU3ltYm9sKCdpbml0aWFsTWF0ZXJpYWxJZHgnKTtcbmV4cG9ydCBjb25zdCAkYWN0aXZlTWF0ZXJpYWxJZHggPSBTeW1ib2woJ2FjdGl2ZU1hdGVyaWFsSWR4Jyk7XG4vLyBEZWZpbmVzIHRoZSBiYXNlIGxldmVsIG5vZGUgbWV0aG9kcyBhbmQgZGF0YS5cbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xuICAgICAgICB0aGlzW19hXSA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbn1cbl9hID0gJGNoaWxkcmVuO1xuLy8gUmVwcmVzZW50cyBhIHByaW1pdGl2ZSBpbiBhIGdsVEYgbWVzaC5cbmV4cG9ydCBjbGFzcyBQcmltaXRpdmVOb2RlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IobWVzaCwgbXZNYXRlcmlhbHMsIG1vZGVsVmFyaWFudHMsIGNvcnJlbGF0ZWRTY2VuZUdyYXBoKSB7XG4gICAgICAgIHN1cGVyKG1lc2gubmFtZSk7XG4gICAgICAgIC8vIE1hcHMgZ2xURiBtYXRlcmlhbCBpbmRleCBudW1iZXIgdG8gYSBtYXRlcmlhbCB0aGF0IHRoaXMgcHJpbWl0aXZlIHN1cHBvcnRzLlxuICAgICAgICB0aGlzW19iXSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gTWFwcyB2YXJpYW50IGluZGV4IHRvIG1hdGVyaWFsLlxuICAgICAgICB0aGlzW19jXSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpc1tfZF0gPSAwO1xuICAgICAgICB0aGlzW19lXSA9IDA7XG4gICAgICAgIHRoaXNbJG1lc2hdID0gbWVzaDtcbiAgICAgICAgY29uc3QgeyBnbHRmLCB0aHJlZUdMVEYsIHRocmVlT2JqZWN0TWFwIH0gPSBjb3JyZWxhdGVkU2NlbmVHcmFwaDtcbiAgICAgICAgdGhpc1skbW9kZWxWYXJpYW50c10gPSBtb2RlbFZhcmlhbnRzO1xuICAgICAgICB0aGlzLm1lc2gudXNlckRhdGEudmFyaWFudERhdGEgPSBtb2RlbFZhcmlhbnRzO1xuICAgICAgICAvLyBDYXB0dXJlcyB0aGUgcHJpbWl0aXZlJ3MgaW5pdGlhbCBtYXRlcmlhbC5cbiAgICAgICAgY29uc3QgbWF0ZXJpYWxNYXBwaW5ncyA9IHRocmVlT2JqZWN0TWFwLmdldChtZXNoLm1hdGVyaWFsKTtcbiAgICAgICAgaWYgKG1hdGVyaWFsTWFwcGluZ3MubWF0ZXJpYWxzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXNbJGluaXRpYWxNYXRlcmlhbElkeF0gPSB0aGlzWyRhY3RpdmVNYXRlcmlhbElkeF0gPVxuICAgICAgICAgICAgICAgIG1hdGVyaWFsTWFwcGluZ3MubWF0ZXJpYWxzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgUHJpbWl0aXZlICgke21lc2gubmFtZX0pIG1pc3NpbmcgaW5pdGlhbCBtYXRlcmlhbCByZWZlcmVuY2UuYCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0cyB0aGUgbWVzaCBpbmRleCBmcm9tIHRoZSBub2RlLlxuICAgICAgICBjb25zdCBhc3NvY2lhdGlvbnMgPSBtZXNoLnVzZXJEYXRhLmFzc29jaWF0aW9ucyB8fFxuICAgICAgICAgICAge307XG4gICAgICAgIGlmIChhc3NvY2lhdGlvbnMubWVzaGVzID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ01lc2ggaXMgbWlzc2luZyBwcmltaXRpdmUgaW5kZXggYXNzb2NpYXRpb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgZ2x0ZiBtZXNoIGFycmF5IHRvIHNhbXBsZSBmcm9tLlxuICAgICAgICBjb25zdCBtZXNoRWxlbWVudEFycmF5ID0gZ2x0ZlsnbWVzaGVzJ10gfHwgW107XG4gICAgICAgIC8vIExpc3Qgb2YgcHJpbWl0aXZlcyB1bmRlciB0aGUgbWVzaC5cbiAgICAgICAgY29uc3QgZ2x0ZlByaW1pdGl2ZXMgPSAobWVzaEVsZW1lbnRBcnJheVthc3NvY2lhdGlvbnMubWVzaGVzXS5wcmltaXRpdmVzIHx8IFtdKTtcbiAgICAgICAgY29uc3QgZ2x0ZlByaW1pdGl2ZSA9IGdsdGZQcmltaXRpdmVzW2Fzc29jaWF0aW9ucy5wcmltaXRpdmVzXTtcbiAgICAgICAgaWYgKGdsdGZQcmltaXRpdmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignTWVzaCBwcmltaXRpdmUgZGVmaW5pdGlvbiBpcyBtaXNzaW5nLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1hcHMgdGhlIGdsdGZQcmltaXRpdmUgZGVmYXVsdCB0byBhIG1hdGVyaWFsLlxuICAgICAgICBpZiAoZ2x0ZlByaW1pdGl2ZS5tYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnNldChnbHRmUHJpbWl0aXZlLm1hdGVyaWFsLCBtdk1hdGVyaWFsc1tnbHRmUHJpbWl0aXZlLm1hdGVyaWFsXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0SWR4ID0gbXZNYXRlcmlhbHMuZmluZEluZGV4KChtYXQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Lm5hbWUgPT09ICdEZWZhdWx0JztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRJZHggPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJG1hdGVyaWFsc10uc2V0KGRlZmF1bHRJZHgsIG12TWF0ZXJpYWxzW2RlZmF1bHRJZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZ2x0ZlByaW1pdGl2ZSBoYXMgbm8gbWF0ZXJpYWwhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsdGZQcmltaXRpdmUuZXh0ZW5zaW9ucyAmJlxuICAgICAgICAgICAgZ2x0ZlByaW1pdGl2ZS5leHRlbnNpb25zWydLSFJfbWF0ZXJpYWxzX3ZhcmlhbnRzJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRzRXh0ZW5zaW9uID0gZ2x0ZlByaW1pdGl2ZS5leHRlbnNpb25zWydLSFJfbWF0ZXJpYWxzX3ZhcmlhbnRzJ107XG4gICAgICAgICAgICBjb25zdCBleHRlbnNpb25zID0gdGhyZWVHTFRGLnBhcnNlci5qc29uLmV4dGVuc2lvbnM7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50TmFtZXMgPSBleHRlbnNpb25zWydLSFJfbWF0ZXJpYWxzX3ZhcmlhbnRzJ10udmFyaWFudHM7XG4gICAgICAgICAgICAvLyBQcm92aWRlcyBkZWZpbml0aW9uIG5vdyB0aGF0IHdlIGtub3cgdGhlcmUgYXJlIHZhcmlhbnRzIHRvXG4gICAgICAgICAgICAvLyBzdXBwb3J0LlxuICAgICAgICAgICAgZm9yIChjb25zdCBtYXBwaW5nIG9mIHZhcmlhbnRzRXh0ZW5zaW9uLm1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXZNYXRlcmlhbCA9IG12TWF0ZXJpYWxzW21hcHBpbmcubWF0ZXJpYWxdO1xuICAgICAgICAgICAgICAgIC8vIE1hcHMgdmFyaWFudCBpbmRpY2VzIHRvIE1hdGVyaWFscy5cbiAgICAgICAgICAgICAgICB0aGlzWyRtYXRlcmlhbHNdLnNldChtYXBwaW5nLm1hdGVyaWFsLCBtdk1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnQgb2YgbWFwcGluZy52YXJpYW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUgfSA9IHZhcmlhbnROYW1lc1t2YXJpYW50XTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skdmFyaWFudFRvTWF0ZXJpYWxNYXBdLnNldCh2YXJpYW50LCBtdk1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvdmlkZXMgdmFyaWFudCBpbmZvIGZvciBtYXRlcmlhbCBzZWxmIGxvb2t1cC5cbiAgICAgICAgICAgICAgICAgICAgbXZNYXRlcmlhbFskdmFyaWFudEluZGljZXNdKCkuYWRkKHZhcmlhbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGVzIHRoZSBtb2RlbHMgdmFyaWFudCBkYXRhLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsVmFyaWFudHMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhcmlhbnRzLnNldChuYW1lLCB7IG5hbWUsIGluZGV4OiB2YXJpYW50IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtZXNoKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skbWVzaF07XG4gICAgfVxuICAgIGFzeW5jIHNldEFjdGl2ZU1hdGVyaWFsKG1hdGVyaWFsKSB7XG4gICAgICAgIGNvbnN0IG12TWF0ZXJpYWwgPSB0aGlzWyRtYXRlcmlhbHNdLmdldChtYXRlcmlhbCk7XG4gICAgICAgIGlmIChtdk1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tYXRlcmlhbCA9IGF3YWl0IG12TWF0ZXJpYWxbJGdldExvYWRlZE1hdGVyaWFsXSgpO1xuICAgICAgICAgICAgdGhpc1skYWN0aXZlTWF0ZXJpYWxJZHhdID0gbWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubWVzaC5tYXRlcmlhbDtcbiAgICB9XG4gICAgZ2V0QWN0aXZlTWF0ZXJpYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRtYXRlcmlhbHNdLmdldCh0aGlzWyRhY3RpdmVNYXRlcmlhbElkeF0pO1xuICAgIH1cbiAgICBnZXRNYXRlcmlhbChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpc1skbWF0ZXJpYWxzXS5nZXQoaW5kZXgpO1xuICAgIH1cbiAgICBhc3luYyBlbmFibGVWYXJpYW50KG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0QWN0aXZlTWF0ZXJpYWwodGhpc1skaW5pdGlhbE1hdGVyaWFsSWR4XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXSAhPSBudWxsICYmIHRoaXNbJG1vZGVsVmFyaWFudHNdLmhhcyhuYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgbW9kZWxWYXJpYW50cyA9IHRoaXNbJG1vZGVsVmFyaWFudHNdLmdldChuYW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVuYWJsZVZhcmlhbnRIZWxwZXIobW9kZWxWYXJpYW50cy5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGFzeW5jIGVuYWJsZVZhcmlhbnRIZWxwZXIoaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXSAhPSBudWxsICYmIGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gdGhpc1skdmFyaWFudFRvTWF0ZXJpYWxNYXBdLmdldChpbmRleCk7XG4gICAgICAgICAgICBpZiAobWF0ZXJpYWwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEFjdGl2ZU1hdGVyaWFsKG1hdGVyaWFsLmluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgYXN5bmMgaW5zdGFudGlhdGVWYXJpYW50cygpIHtcbiAgICAgICAgaWYgKHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBvZiB0aGlzWyR2YXJpYW50VG9NYXRlcmlhbE1hcF0ua2V5cygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50TWF0ZXJpYWwgPSB0aGlzLm1lc2gudXNlckRhdGEudmFyaWFudE1hdGVyaWFscy5nZXQoaW5kZXgpO1xuICAgICAgICAgICAgaWYgKHZhcmlhbnRNYXRlcmlhbC5tYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aHJlZU1hdGVyaWFsID0gYXdhaXQgdGhpcy5lbmFibGVWYXJpYW50SGVscGVyKGluZGV4KTtcbiAgICAgICAgICAgIGlmICh0aHJlZU1hdGVyaWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXJpYW50TWF0ZXJpYWwubWF0ZXJpYWwgPSB0aHJlZU1hdGVyaWFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB2YXJpYW50SW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHZhcmlhbnRUb01hdGVyaWFsTWFwXTtcbiAgICB9XG4gICAgYWRkVmFyaWFudChtYXRlcmlhbFZhcmlhbnQsIHZhcmlhbnROYW1lKSB7XG4gICAgICAgIGlmICghdGhpcy5lbnN1cmVWYXJpYW50SXNVbnVzZWQodmFyaWFudE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkcyB0aGUgdmFyaWFudCB0byB0aGUgbW9kZWwgdmFyaWFudHMgaWYgbmVlZGVkLlxuICAgICAgICBpZiAoIXRoaXNbJG1vZGVsVmFyaWFudHNdLmhhcyh2YXJpYW50TmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXNbJG1vZGVsVmFyaWFudHNdLnNldCh2YXJpYW50TmFtZSwgeyBuYW1lOiB2YXJpYW50TmFtZSwgaW5kZXg6IHRoaXNbJG1vZGVsVmFyaWFudHNdLnNpemUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbW9kZWxWYXJpYW50RGF0YSA9IHRoaXNbJG1vZGVsVmFyaWFudHNdLmdldCh2YXJpYW50TmFtZSk7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRJbmRleCA9IG1vZGVsVmFyaWFudERhdGEuaW5kZXg7XG4gICAgICAgIC8vIFVwZGF0ZXMgbWF0ZXJpYWxzIG1hcHBlZCB0byB0aGUgdmFyaWFudC5cbiAgICAgICAgbWF0ZXJpYWxWYXJpYW50WyR2YXJpYW50SW5kaWNlc10oKS5hZGQodmFyaWFudEluZGV4KTtcbiAgICAgICAgLy8gVXBkYXRlcyBpbnRlcm5hbCBtYXBwaW5ncy5cbiAgICAgICAgdGhpc1skdmFyaWFudFRvTWF0ZXJpYWxNYXBdLnNldCh2YXJpYW50SW5kZXgsIG1hdGVyaWFsVmFyaWFudCk7XG4gICAgICAgIHRoaXNbJG1hdGVyaWFsc10uc2V0KG1hdGVyaWFsVmFyaWFudC5pbmRleCwgbWF0ZXJpYWxWYXJpYW50KTtcbiAgICAgICAgdGhpcy51cGRhdGVWYXJpYW50VXNlckRhdGEodmFyaWFudEluZGV4LCBtYXRlcmlhbFZhcmlhbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZGVsZXRlVmFyaWFudCh2YXJpYW50SW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFyaWFudEluZm8uaGFzKHZhcmlhbnRJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMudmFyaWFudEluZm8uZGVsZXRlKHZhcmlhbnRJbmRleCk7XG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YU1hcCA9IHRoaXMubWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzO1xuICAgICAgICAgICAgaWYgKHVzZXJEYXRhTWFwICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB1c2VyRGF0YU1hcC5kZWxldGUodmFyaWFudEluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVWYXJpYW50VXNlckRhdGEodmFyaWFudEluZGV4LCBtYXRlcmlhbFZhcmlhbnQpIHtcbiAgICAgICAgLy8gQWRkcyB2YXJpYW50cyBuYW1lIHRvIG1hdGVyaWFsIHZhcmlhbnRzIHNldC5cbiAgICAgICAgbWF0ZXJpYWxWYXJpYW50WyR2YXJpYW50SW5kaWNlc10oKS5hZGQodmFyaWFudEluZGV4KTtcbiAgICAgICAgdGhpcy5tZXNoLnVzZXJEYXRhLnZhcmlhbnREYXRhID0gdGhpc1skbW9kZWxWYXJpYW50c107XG4gICAgICAgIC8vIFVwZGF0ZXMgaW1wb3J0IGRhdGEgKHNlZSBWYXJpYW50TWF0ZXJpYWxMb2FkZXJQbHVnaW4udHMpLlxuICAgICAgICB0aGlzLm1lc2gudXNlckRhdGEudmFyaWFudE1hdGVyaWFscyA9IHRoaXMubWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzIHx8XG4gICAgICAgICAgICBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMubWVzaC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzO1xuICAgICAgICBtYXAuc2V0KHZhcmlhbnRJbmRleCwge1xuICAgICAgICAgICAgbWF0ZXJpYWw6IG1hdGVyaWFsVmFyaWFudFskY29ycmVsYXRlZE9iamVjdHNdLnZhbHVlcygpLm5leHQoKS52YWx1ZSxcbiAgICAgICAgICAgIGdsdGZNYXRlcmlhbEluZGV4OiBtYXRlcmlhbFZhcmlhbnQuaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbnN1cmVWYXJpYW50SXNVbnVzZWQodmFyaWFudE5hbWUpIHtcbiAgICAgICAgY29uc3QgbW9kZWxWYXJpYW50cyA9IHRoaXNbJG1vZGVsVmFyaWFudHNdLmdldCh2YXJpYW50TmFtZSk7XG4gICAgICAgIGlmIChtb2RlbFZhcmlhbnRzICE9IG51bGwgJiYgdGhpcy52YXJpYW50SW5mby5oYXMobW9kZWxWYXJpYW50cy5pbmRleCkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgUHJpbWl0aXZlIGNhbm5vdCBhZGQgdmFyaWFudCAnJHt2YXJpYW50TmFtZX0nIGZvciB0aGlzIG1hdGVyaWFsLCBpdCBhbHJlYWR5IGV4aXN0cy5gKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5fYiA9ICRtYXRlcmlhbHMsIF9jID0gJHZhcmlhbnRUb01hdGVyaWFsTWFwLCBfZCA9ICRpbml0aWFsTWF0ZXJpYWxJZHgsIF9lID0gJGFjdGl2ZU1hdGVyaWFsSWR4O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJpbWl0aXZlLW5vZGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/nodes/primitive-node.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PBRMetallicRoughness: () => (/* binding */ PBRMetallicRoughness)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _texture_info_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./texture-info.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\nconst $threeMaterials = Symbol('threeMaterials');\nconst $baseColorTexture = Symbol('baseColorTexture');\nconst $metallicRoughnessTexture = Symbol('metallicRoughnessTexture');\n/**\n * PBR material properties facade implementation for Three.js materials\n */\nclass PBRMetallicRoughness extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.ThreeDOMElement {\n    constructor(onUpdate, gltf, pbrMetallicRoughness, correlatedMaterials) {\n        super(onUpdate, pbrMetallicRoughness, correlatedMaterials);\n        // Assign glTF default values\n        if (pbrMetallicRoughness.baseColorFactor == null) {\n            pbrMetallicRoughness.baseColorFactor = [1, 1, 1, 1];\n        }\n        if (pbrMetallicRoughness.roughnessFactor == null) {\n            pbrMetallicRoughness.roughnessFactor = 1;\n        }\n        if (pbrMetallicRoughness.metallicFactor == null) {\n            pbrMetallicRoughness.metallicFactor = 1;\n        }\n        const { baseColorTexture: gltfBaseColorTexture, metallicRoughnessTexture: gltfMetallicRoughnessTexture } = pbrMetallicRoughness;\n        const { map, metalnessMap } = correlatedMaterials.values().next().value;\n        this[$baseColorTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureUsage.Base, map, correlatedMaterials, gltf, gltfBaseColorTexture ? gltfBaseColorTexture : null);\n        this[$metallicRoughnessTexture] = new _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureInfo(onUpdate, _texture_info_js__WEBPACK_IMPORTED_MODULE_0__.TextureUsage.MetallicRoughness, metalnessMap, correlatedMaterials, gltf, gltfMetallicRoughnessTexture ? gltfMetallicRoughnessTexture : null);\n    }\n    get [$threeMaterials]() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects];\n    }\n    get baseColorFactor() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject]\n            .baseColorFactor;\n    }\n    get metallicFactor() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject]\n            .metallicFactor;\n    }\n    get roughnessFactor() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject]\n            .roughnessFactor;\n    }\n    get baseColorTexture() {\n        return this[$baseColorTexture];\n    }\n    get metallicRoughnessTexture() {\n        return this[$metallicRoughnessTexture];\n    }\n    setBaseColorFactor(rgba) {\n        const color = new three__WEBPACK_IMPORTED_MODULE_2__.Color();\n        if (rgba instanceof Array) {\n            color.fromArray(rgba);\n        }\n        else {\n            color.set(rgba).convertSRGBToLinear();\n        }\n        for (const material of this[$threeMaterials]) {\n            material.color.set(color);\n            if (rgba instanceof Array) {\n                material.opacity = (rgba)[3];\n            }\n            else {\n                rgba = [0, 0, 0, material.opacity];\n                color.toArray(rgba);\n            }\n        }\n        const pbrMetallicRoughness = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n        pbrMetallicRoughness.baseColorFactor = rgba;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n    }\n    setMetallicFactor(value) {\n        for (const material of this[$threeMaterials]) {\n            material.metalness = value;\n        }\n        const pbrMetallicRoughness = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n        pbrMetallicRoughness.metallicFactor = value;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n    }\n    setRoughnessFactor(value) {\n        for (const material of this[$threeMaterials]) {\n            material.roughness = value;\n        }\n        const pbrMetallicRoughness = this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n        pbrMetallicRoughness.roughnessFactor = value;\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n    }\n}\n//# sourceMappingURL=pbr-metallic-roughness.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3Bici1tZXRhbGxpYy1yb3VnaG5lc3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDOEI7QUFDZ0M7QUFDeUM7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sbUNBQW1DLGtFQUFlO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpR0FBaUc7QUFDakgsZ0JBQWdCLG9CQUFvQjtBQUNwQyxzQ0FBc0MseURBQVcsV0FBVywwREFBWTtBQUN4RSw4Q0FBOEMseURBQVcsV0FBVywwREFBWTtBQUNoRjtBQUNBO0FBQ0Esb0JBQW9CLHFFQUFrQjtBQUN0QztBQUNBO0FBQ0Esb0JBQW9CLGdFQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnRUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0VBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdDQUFLO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGdFQUFhO0FBQ3ZEO0FBQ0EsYUFBYSw0REFBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGdFQUFhO0FBQ3ZEO0FBQ0EsYUFBYSw0REFBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGdFQUFhO0FBQ3ZEO0FBQ0EsYUFBYSw0REFBUztBQUN0QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9mZWF0dXJlcy9zY2VuZS1ncmFwaC9wYnItbWV0YWxsaWMtcm91Z2huZXNzLmpzPzI2NDIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQ29sb3IgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBUZXh0dXJlSW5mbywgVGV4dHVyZVVzYWdlIH0gZnJvbSAnLi90ZXh0dXJlLWluZm8uanMnO1xuaW1wb3J0IHsgJGNvcnJlbGF0ZWRPYmplY3RzLCAkb25VcGRhdGUsICRzb3VyY2VPYmplY3QsIFRocmVlRE9NRWxlbWVudCB9IGZyb20gJy4vdGhyZWUtZG9tLWVsZW1lbnQuanMnO1xuY29uc3QgJHRocmVlTWF0ZXJpYWxzID0gU3ltYm9sKCd0aHJlZU1hdGVyaWFscycpO1xuY29uc3QgJGJhc2VDb2xvclRleHR1cmUgPSBTeW1ib2woJ2Jhc2VDb2xvclRleHR1cmUnKTtcbmNvbnN0ICRtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgPSBTeW1ib2woJ21ldGFsbGljUm91Z2huZXNzVGV4dHVyZScpO1xuLyoqXG4gKiBQQlIgbWF0ZXJpYWwgcHJvcGVydGllcyBmYWNhZGUgaW1wbGVtZW50YXRpb24gZm9yIFRocmVlLmpzIG1hdGVyaWFsc1xuICovXG5leHBvcnQgY2xhc3MgUEJSTWV0YWxsaWNSb3VnaG5lc3MgZXh0ZW5kcyBUaHJlZURPTUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9uVXBkYXRlLCBnbHRmLCBwYnJNZXRhbGxpY1JvdWdobmVzcywgY29ycmVsYXRlZE1hdGVyaWFscykge1xuICAgICAgICBzdXBlcihvblVwZGF0ZSwgcGJyTWV0YWxsaWNSb3VnaG5lc3MsIGNvcnJlbGF0ZWRNYXRlcmlhbHMpO1xuICAgICAgICAvLyBBc3NpZ24gZ2xURiBkZWZhdWx0IHZhbHVlc1xuICAgICAgICBpZiAocGJyTWV0YWxsaWNSb3VnaG5lc3MuYmFzZUNvbG9yRmFjdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIHBick1ldGFsbGljUm91Z2huZXNzLmJhc2VDb2xvckZhY3RvciA9IFsxLCAxLCAxLCAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGJyTWV0YWxsaWNSb3VnaG5lc3Mucm91Z2huZXNzRmFjdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIHBick1ldGFsbGljUm91Z2huZXNzLnJvdWdobmVzc0ZhY3RvciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yID09IG51bGwpIHtcbiAgICAgICAgICAgIHBick1ldGFsbGljUm91Z2huZXNzLm1ldGFsbGljRmFjdG9yID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGJhc2VDb2xvclRleHR1cmU6IGdsdGZCYXNlQ29sb3JUZXh0dXJlLCBtZXRhbGxpY1JvdWdobmVzc1RleHR1cmU6IGdsdGZNZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgfSA9IHBick1ldGFsbGljUm91Z2huZXNzO1xuICAgICAgICBjb25zdCB7IG1hcCwgbWV0YWxuZXNzTWFwIH0gPSBjb3JyZWxhdGVkTWF0ZXJpYWxzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgdGhpc1skYmFzZUNvbG9yVGV4dHVyZV0gPSBuZXcgVGV4dHVyZUluZm8ob25VcGRhdGUsIFRleHR1cmVVc2FnZS5CYXNlLCBtYXAsIGNvcnJlbGF0ZWRNYXRlcmlhbHMsIGdsdGYsIGdsdGZCYXNlQ29sb3JUZXh0dXJlID8gZ2x0ZkJhc2VDb2xvclRleHR1cmUgOiBudWxsKTtcbiAgICAgICAgdGhpc1skbWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlXSA9IG5ldyBUZXh0dXJlSW5mbyhvblVwZGF0ZSwgVGV4dHVyZVVzYWdlLk1ldGFsbGljUm91Z2huZXNzLCBtZXRhbG5lc3NNYXAsIGNvcnJlbGF0ZWRNYXRlcmlhbHMsIGdsdGYsIGdsdGZNZXRhbGxpY1JvdWdobmVzc1RleHR1cmUgPyBnbHRmTWV0YWxsaWNSb3VnaG5lc3NUZXh0dXJlIDogbnVsbCk7XG4gICAgfVxuICAgIGdldCBbJHRocmVlTWF0ZXJpYWxzXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXTtcbiAgICB9XG4gICAgZ2V0IGJhc2VDb2xvckZhY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF1cbiAgICAgICAgICAgIC5iYXNlQ29sb3JGYWN0b3I7XG4gICAgfVxuICAgIGdldCBtZXRhbGxpY0ZhY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF1cbiAgICAgICAgICAgIC5tZXRhbGxpY0ZhY3RvcjtcbiAgICB9XG4gICAgZ2V0IHJvdWdobmVzc0ZhY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF1cbiAgICAgICAgICAgIC5yb3VnaG5lc3NGYWN0b3I7XG4gICAgfVxuICAgIGdldCBiYXNlQ29sb3JUZXh0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skYmFzZUNvbG9yVGV4dHVyZV07XG4gICAgfVxuICAgIGdldCBtZXRhbGxpY1JvdWdobmVzc1RleHR1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRtZXRhbGxpY1JvdWdobmVzc1RleHR1cmVdO1xuICAgIH1cbiAgICBzZXRCYXNlQ29sb3JGYWN0b3IocmdiYSkge1xuICAgICAgICBjb25zdCBjb2xvciA9IG5ldyBDb2xvcigpO1xuICAgICAgICBpZiAocmdiYSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBjb2xvci5mcm9tQXJyYXkocmdiYSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb2xvci5zZXQocmdiYSkuY29udmVydFNSR0JUb0xpbmVhcigpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbWF0ZXJpYWwgb2YgdGhpc1skdGhyZWVNYXRlcmlhbHNdKSB7XG4gICAgICAgICAgICBtYXRlcmlhbC5jb2xvci5zZXQoY29sb3IpO1xuICAgICAgICAgICAgaWYgKHJnYmEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLm9wYWNpdHkgPSAocmdiYSlbM107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZ2JhID0gWzAsIDAsIDAsIG1hdGVyaWFsLm9wYWNpdHldO1xuICAgICAgICAgICAgICAgIGNvbG9yLnRvQXJyYXkocmdiYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGJyTWV0YWxsaWNSb3VnaG5lc3MgPSB0aGlzWyRzb3VyY2VPYmplY3RdO1xuICAgICAgICBwYnJNZXRhbGxpY1JvdWdobmVzcy5iYXNlQ29sb3JGYWN0b3IgPSByZ2JhO1xuICAgICAgICB0aGlzWyRvblVwZGF0ZV0oKTtcbiAgICB9XG4gICAgc2V0TWV0YWxsaWNGYWN0b3IodmFsdWUpIHtcbiAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzWyR0aHJlZU1hdGVyaWFsc10pIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLm1ldGFsbmVzcyA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBick1ldGFsbGljUm91Z2huZXNzID0gdGhpc1skc291cmNlT2JqZWN0XTtcbiAgICAgICAgcGJyTWV0YWxsaWNSb3VnaG5lc3MubWV0YWxsaWNGYWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpc1skb25VcGRhdGVdKCk7XG4gICAgfVxuICAgIHNldFJvdWdobmVzc0ZhY3Rvcih2YWx1ZSkge1xuICAgICAgICBmb3IgKGNvbnN0IG1hdGVyaWFsIG9mIHRoaXNbJHRocmVlTWF0ZXJpYWxzXSkge1xuICAgICAgICAgICAgbWF0ZXJpYWwucm91Z2huZXNzID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGJyTWV0YWxsaWNSb3VnaG5lc3MgPSB0aGlzWyRzb3VyY2VPYmplY3RdO1xuICAgICAgICBwYnJNZXRhbGxpY1JvdWdobmVzcy5yb3VnaG5lc3NGYWN0b3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpc1skb25VcGRhdGVdKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGJyLW1ldGFsbGljLXJvdWdobmVzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/pbr-metallic-roughness.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sampler: () => (/* binding */ Sampler)\n/* harmony export */ });\n/* harmony import */ var _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../three-components/gltf-instance/gltf-2.0.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nconst isMinFilter = (() => {\n    const minFilterValues = [\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Nearest,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Linear,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.NearestMipmapNearest,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.LinearMipmapLinear,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.NearestMipmapLinear,\n        _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.LinearMipmapLinear\n    ];\n    return (value) => minFilterValues.indexOf(value) > -1;\n})();\nconst isMagFilter = (() => {\n    const magFilterValues = [_three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Nearest, _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Linear];\n    return (value) => magFilterValues.indexOf(value) > -1;\n})();\nconst isWrapMode = (() => {\n    const wrapModes = [_three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.ClampToEdge, _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.MirroredRepeat, _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.Repeat];\n    return (value) => wrapModes.indexOf(value) > -1;\n})();\nconst isValidSamplerValue = (property, value) => {\n    switch (property) {\n        case 'minFilter':\n            return isMinFilter(value);\n        case 'magFilter':\n            return isMagFilter(value);\n        case 'wrapS':\n        case 'wrapT':\n            return isWrapMode(value);\n        default:\n            throw new Error(`Cannot configure property \"${property}\" on Sampler`);\n    }\n};\nconst $threeTextures = Symbol('threeTextures');\nconst $setProperty = Symbol('setProperty');\nconst $sourceSampler = Symbol('sourceSampler');\n/**\n * Sampler facade implementation for Three.js textures\n */\nclass Sampler extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.ThreeDOMElement {\n    get [$threeTextures]() {\n        console.assert(this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects] != null && this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects].size > 0, 'Sampler correlated object is undefined');\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$correlatedObjects];\n    }\n    get [$sourceSampler]() {\n        console.assert(this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject] != null, 'Sampler source is undefined');\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject];\n    }\n    constructor(onUpdate, texture, gltfSampler) {\n        gltfSampler = gltfSampler !== null && gltfSampler !== void 0 ? gltfSampler : {};\n        // These defaults represent a convergence of glTF defaults for wrap mode and\n        // Three.js defaults for filters. Per glTF 2.0 spec, a renderer may choose\n        // its own defaults for filters.\n        // @see https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#reference-sampler\n        // @see https://threejs.org/docs/#api/en/textures/Texture\n        if (gltfSampler.minFilter == null) {\n            gltfSampler.minFilter =\n                texture ? texture.minFilter : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.LinearMipmapLinear;\n        }\n        if (gltfSampler.magFilter == null) {\n            gltfSampler.magFilter =\n                texture ? texture.magFilter : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Filter.Linear;\n        }\n        if (gltfSampler.wrapS == null) {\n            gltfSampler.wrapS = texture ? texture.wrapS : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.Repeat;\n        }\n        if (gltfSampler.wrapT == null) {\n            gltfSampler.wrapT = texture ? texture.wrapT : _three_components_gltf_instance_gltf_2_0_js__WEBPACK_IMPORTED_MODULE_0__.Wrap.Repeat;\n        }\n        super(onUpdate, gltfSampler, new Set(texture ? [texture] : []));\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$sourceObject].name || '';\n    }\n    get minFilter() {\n        return this[$sourceSampler].minFilter;\n    }\n    get magFilter() {\n        return this[$sourceSampler].magFilter;\n    }\n    get wrapS() {\n        return this[$sourceSampler].wrapS;\n    }\n    get wrapT() {\n        return this[$sourceSampler].wrapT;\n    }\n    setMinFilter(filter) {\n        this[$setProperty]('minFilter', filter);\n    }\n    setMagFilter(filter) {\n        this[$setProperty]('magFilter', filter);\n    }\n    setWrapS(mode) {\n        this[$setProperty]('wrapS', mode);\n    }\n    setWrapT(mode) {\n        this[$setProperty]('wrapT', mode);\n    }\n    [$setProperty](property, value) {\n        const sampler = this[$sourceSampler];\n        if (sampler != null) {\n            if (isValidSamplerValue(property, value)) {\n                sampler[property] = value;\n                for (const texture of this[$threeTextures]) {\n                    texture[property] = value;\n                    texture.needsUpdate = true;\n                }\n            }\n            this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_1__.$onUpdate]();\n        }\n    }\n}\n//# sourceMappingURL=sampler.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3NhbXBsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnRjtBQUN1QjtBQUN2RztBQUNBO0FBQ0EsUUFBUSwrRUFBTTtBQUNkLFFBQVEsK0VBQU07QUFDZCxRQUFRLCtFQUFNO0FBQ2QsUUFBUSwrRUFBTTtBQUNkLFFBQVEsK0VBQU07QUFDZCxRQUFRLCtFQUFNO0FBQ2Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDZCQUE2QiwrRUFBTSxVQUFVLCtFQUFNO0FBQ25EO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsdUJBQXVCLDZFQUFJLGNBQWMsNkVBQUksaUJBQWlCLDZFQUFJO0FBQ2xFO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFNBQVM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQixrRUFBZTtBQUM1QztBQUNBLDRCQUE0QixxRUFBa0Isa0JBQWtCLHFFQUFrQjtBQUNsRixvQkFBb0IscUVBQWtCO0FBQ3RDO0FBQ0E7QUFDQSw0QkFBNEIsZ0VBQWE7QUFDekMsb0JBQW9CLGdFQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLCtFQUFNO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywrRUFBTTtBQUNwRDtBQUNBO0FBQ0EsMERBQTBELDZFQUFJO0FBQzlEO0FBQ0E7QUFDQSwwREFBMEQsNkVBQUk7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0VBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3NhbXBsZXIuanM/OWExYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBGaWx0ZXIsIFdyYXAgfSBmcm9tICcuLi8uLi90aHJlZS1jb21wb25lbnRzL2dsdGYtaW5zdGFuY2UvZ2x0Zi0yLjAuanMnO1xuaW1wb3J0IHsgJGNvcnJlbGF0ZWRPYmplY3RzLCAkb25VcGRhdGUsICRzb3VyY2VPYmplY3QsIFRocmVlRE9NRWxlbWVudCB9IGZyb20gJy4vdGhyZWUtZG9tLWVsZW1lbnQuanMnO1xuY29uc3QgaXNNaW5GaWx0ZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IG1pbkZpbHRlclZhbHVlcyA9IFtcbiAgICAgICAgRmlsdGVyLk5lYXJlc3QsXG4gICAgICAgIEZpbHRlci5MaW5lYXIsXG4gICAgICAgIEZpbHRlci5OZWFyZXN0TWlwbWFwTmVhcmVzdCxcbiAgICAgICAgRmlsdGVyLkxpbmVhck1pcG1hcExpbmVhcixcbiAgICAgICAgRmlsdGVyLk5lYXJlc3RNaXBtYXBMaW5lYXIsXG4gICAgICAgIEZpbHRlci5MaW5lYXJNaXBtYXBMaW5lYXJcbiAgICBdO1xuICAgIHJldHVybiAodmFsdWUpID0+IG1pbkZpbHRlclZhbHVlcy5pbmRleE9mKHZhbHVlKSA+IC0xO1xufSkoKTtcbmNvbnN0IGlzTWFnRmlsdGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBtYWdGaWx0ZXJWYWx1ZXMgPSBbRmlsdGVyLk5lYXJlc3QsIEZpbHRlci5MaW5lYXJdO1xuICAgIHJldHVybiAodmFsdWUpID0+IG1hZ0ZpbHRlclZhbHVlcy5pbmRleE9mKHZhbHVlKSA+IC0xO1xufSkoKTtcbmNvbnN0IGlzV3JhcE1vZGUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHdyYXBNb2RlcyA9IFtXcmFwLkNsYW1wVG9FZGdlLCBXcmFwLk1pcnJvcmVkUmVwZWF0LCBXcmFwLlJlcGVhdF07XG4gICAgcmV0dXJuICh2YWx1ZSkgPT4gd3JhcE1vZGVzLmluZGV4T2YodmFsdWUpID4gLTE7XG59KSgpO1xuY29uc3QgaXNWYWxpZFNhbXBsZXJWYWx1ZSA9IChwcm9wZXJ0eSwgdmFsdWUpID0+IHtcbiAgICBzd2l0Y2ggKHByb3BlcnR5KSB7XG4gICAgICAgIGNhc2UgJ21pbkZpbHRlcic6XG4gICAgICAgICAgICByZXR1cm4gaXNNaW5GaWx0ZXIodmFsdWUpO1xuICAgICAgICBjYXNlICdtYWdGaWx0ZXInOlxuICAgICAgICAgICAgcmV0dXJuIGlzTWFnRmlsdGVyKHZhbHVlKTtcbiAgICAgICAgY2FzZSAnd3JhcFMnOlxuICAgICAgICBjYXNlICd3cmFwVCc6XG4gICAgICAgICAgICByZXR1cm4gaXNXcmFwTW9kZSh2YWx1ZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb25maWd1cmUgcHJvcGVydHkgXCIke3Byb3BlcnR5fVwiIG9uIFNhbXBsZXJgKTtcbiAgICB9XG59O1xuY29uc3QgJHRocmVlVGV4dHVyZXMgPSBTeW1ib2woJ3RocmVlVGV4dHVyZXMnKTtcbmNvbnN0ICRzZXRQcm9wZXJ0eSA9IFN5bWJvbCgnc2V0UHJvcGVydHknKTtcbmNvbnN0ICRzb3VyY2VTYW1wbGVyID0gU3ltYm9sKCdzb3VyY2VTYW1wbGVyJyk7XG4vKipcbiAqIFNhbXBsZXIgZmFjYWRlIGltcGxlbWVudGF0aW9uIGZvciBUaHJlZS5qcyB0ZXh0dXJlc1xuICovXG5leHBvcnQgY2xhc3MgU2FtcGxlciBleHRlbmRzIFRocmVlRE9NRWxlbWVudCB7XG4gICAgZ2V0IFskdGhyZWVUZXh0dXJlc10oKSB7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXSAhPSBudWxsICYmIHRoaXNbJGNvcnJlbGF0ZWRPYmplY3RzXS5zaXplID4gMCwgJ1NhbXBsZXIgY29ycmVsYXRlZCBvYmplY3QgaXMgdW5kZWZpbmVkJyk7XG4gICAgICAgIHJldHVybiB0aGlzWyRjb3JyZWxhdGVkT2JqZWN0c107XG4gICAgfVxuICAgIGdldCBbJHNvdXJjZVNhbXBsZXJdKCkge1xuICAgICAgICBjb25zb2xlLmFzc2VydCh0aGlzWyRzb3VyY2VPYmplY3RdICE9IG51bGwsICdTYW1wbGVyIHNvdXJjZSBpcyB1bmRlZmluZWQnKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG9uVXBkYXRlLCB0ZXh0dXJlLCBnbHRmU2FtcGxlcikge1xuICAgICAgICBnbHRmU2FtcGxlciA9IGdsdGZTYW1wbGVyICE9PSBudWxsICYmIGdsdGZTYW1wbGVyICE9PSB2b2lkIDAgPyBnbHRmU2FtcGxlciA6IHt9O1xuICAgICAgICAvLyBUaGVzZSBkZWZhdWx0cyByZXByZXNlbnQgYSBjb252ZXJnZW5jZSBvZiBnbFRGIGRlZmF1bHRzIGZvciB3cmFwIG1vZGUgYW5kXG4gICAgICAgIC8vIFRocmVlLmpzIGRlZmF1bHRzIGZvciBmaWx0ZXJzLiBQZXIgZ2xURiAyLjAgc3BlYywgYSByZW5kZXJlciBtYXkgY2hvb3NlXG4gICAgICAgIC8vIGl0cyBvd24gZGVmYXVsdHMgZm9yIGZpbHRlcnMuXG4gICAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0tocm9ub3NHcm91cC9nbFRGL3RyZWUvbWFzdGVyL3NwZWNpZmljYXRpb24vMi4wI3JlZmVyZW5jZS1zYW1wbGVyXG4gICAgICAgIC8vIEBzZWUgaHR0cHM6Ly90aHJlZWpzLm9yZy9kb2NzLyNhcGkvZW4vdGV4dHVyZXMvVGV4dHVyZVxuICAgICAgICBpZiAoZ2x0ZlNhbXBsZXIubWluRmlsdGVyID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZTYW1wbGVyLm1pbkZpbHRlciA9XG4gICAgICAgICAgICAgICAgdGV4dHVyZSA/IHRleHR1cmUubWluRmlsdGVyIDogRmlsdGVyLkxpbmVhck1pcG1hcExpbmVhcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2x0ZlNhbXBsZXIubWFnRmlsdGVyID09IG51bGwpIHtcbiAgICAgICAgICAgIGdsdGZTYW1wbGVyLm1hZ0ZpbHRlciA9XG4gICAgICAgICAgICAgICAgdGV4dHVyZSA/IHRleHR1cmUubWFnRmlsdGVyIDogRmlsdGVyLkxpbmVhcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2x0ZlNhbXBsZXIud3JhcFMgPT0gbnVsbCkge1xuICAgICAgICAgICAgZ2x0ZlNhbXBsZXIud3JhcFMgPSB0ZXh0dXJlID8gdGV4dHVyZS53cmFwUyA6IFdyYXAuUmVwZWF0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbHRmU2FtcGxlci53cmFwVCA9PSBudWxsKSB7XG4gICAgICAgICAgICBnbHRmU2FtcGxlci53cmFwVCA9IHRleHR1cmUgPyB0ZXh0dXJlLndyYXBUIDogV3JhcC5SZXBlYXQ7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIob25VcGRhdGUsIGdsdGZTYW1wbGVyLCBuZXcgU2V0KHRleHR1cmUgPyBbdGV4dHVyZV0gOiBbXSkpO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZU9iamVjdF0ubmFtZSB8fCAnJztcbiAgICB9XG4gICAgZ2V0IG1pbkZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZVNhbXBsZXJdLm1pbkZpbHRlcjtcbiAgICB9XG4gICAgZ2V0IG1hZ0ZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZVNhbXBsZXJdLm1hZ0ZpbHRlcjtcbiAgICB9XG4gICAgZ2V0IHdyYXBTKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skc291cmNlU2FtcGxlcl0ud3JhcFM7XG4gICAgfVxuICAgIGdldCB3cmFwVCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHNvdXJjZVNhbXBsZXJdLndyYXBUO1xuICAgIH1cbiAgICBzZXRNaW5GaWx0ZXIoZmlsdGVyKSB7XG4gICAgICAgIHRoaXNbJHNldFByb3BlcnR5XSgnbWluRmlsdGVyJywgZmlsdGVyKTtcbiAgICB9XG4gICAgc2V0TWFnRmlsdGVyKGZpbHRlcikge1xuICAgICAgICB0aGlzWyRzZXRQcm9wZXJ0eV0oJ21hZ0ZpbHRlcicsIGZpbHRlcik7XG4gICAgfVxuICAgIHNldFdyYXBTKG1vZGUpIHtcbiAgICAgICAgdGhpc1skc2V0UHJvcGVydHldKCd3cmFwUycsIG1vZGUpO1xuICAgIH1cbiAgICBzZXRXcmFwVChtb2RlKSB7XG4gICAgICAgIHRoaXNbJHNldFByb3BlcnR5XSgnd3JhcFQnLCBtb2RlKTtcbiAgICB9XG4gICAgWyRzZXRQcm9wZXJ0eV0ocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHNhbXBsZXIgPSB0aGlzWyRzb3VyY2VTYW1wbGVyXTtcbiAgICAgICAgaWYgKHNhbXBsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRTYW1wbGVyVmFsdWUocHJvcGVydHksIHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHNhbXBsZXJbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0ZXh0dXJlIG9mIHRoaXNbJHRocmVlVGV4dHVyZXNdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXNbJG9uVXBkYXRlXSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2FtcGxlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $materials: () => (/* binding */ $materials),\n/* harmony export */   $usage: () => (/* binding */ $usage),\n/* harmony export */   TextureInfo: () => (/* binding */ TextureInfo),\n/* harmony export */   TextureUsage: () => (/* binding */ TextureUsage)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./image.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js\");\n/* harmony import */ var _texture_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./texture.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a, _b;\n\n\n\nconst $texture = Symbol('texture');\nconst $transform = Symbol('transform');\nconst $materials = Symbol('materials');\nconst $usage = Symbol('usage');\n// Defines what a texture will be used for.\nvar TextureUsage;\n(function (TextureUsage) {\n    TextureUsage[TextureUsage[\"Base\"] = 0] = \"Base\";\n    TextureUsage[TextureUsage[\"MetallicRoughness\"] = 1] = \"MetallicRoughness\";\n    TextureUsage[TextureUsage[\"Normal\"] = 2] = \"Normal\";\n    TextureUsage[TextureUsage[\"Occlusion\"] = 3] = \"Occlusion\";\n    TextureUsage[TextureUsage[\"Emissive\"] = 4] = \"Emissive\";\n})(TextureUsage || (TextureUsage = {}));\n/**\n * TextureInfo facade implementation for Three.js materials\n */\nclass TextureInfo {\n    constructor(onUpdate, usage, threeTexture, material, gltf, gltfTextureInfo) {\n        this[_a] = null;\n        this[_b] = {\n            rotation: 0,\n            scale: new three__WEBPACK_IMPORTED_MODULE_2__.Vector2(1, 1),\n            offset: new three__WEBPACK_IMPORTED_MODULE_2__.Vector2(0, 0)\n        };\n        // Creates image, sampler, and texture if valid texture info is provided.\n        if (gltfTextureInfo && threeTexture) {\n            const gltfTexture = gltf.textures ? gltf.textures[gltfTextureInfo.index] : null;\n            const sampler = gltfTexture ?\n                (gltf.samplers ? gltf.samplers[gltfTexture.sampler] : null) :\n                null;\n            const image = gltfTexture ?\n                (gltf.images ? gltf.images[gltfTexture.source] : null) :\n                null;\n            this[$transform].rotation = threeTexture.rotation;\n            this[$transform].scale.copy(threeTexture.repeat);\n            this[$transform].offset.copy(threeTexture.offset);\n            this[$texture] =\n                new _texture_js__WEBPACK_IMPORTED_MODULE_1__.Texture(onUpdate, threeTexture, gltfTexture, sampler, image);\n        }\n        this.onUpdate = onUpdate;\n        this[$materials] = material;\n        this[$usage] = usage;\n    }\n    get texture() {\n        return this[$texture];\n    }\n    setTexture(texture) {\n        const threeTexture = texture != null ? texture.source[_image_js__WEBPACK_IMPORTED_MODULE_0__.$threeTexture] : null;\n        let encoding = three__WEBPACK_IMPORTED_MODULE_2__.sRGBEncoding;\n        this[$texture] = texture;\n        if (this[$materials]) {\n            for (const material of this[$materials]) {\n                switch (this[$usage]) {\n                    case TextureUsage.Base:\n                        material.map = threeTexture;\n                        break;\n                    case TextureUsage.MetallicRoughness:\n                        encoding = three__WEBPACK_IMPORTED_MODULE_2__.LinearEncoding;\n                        material.metalnessMap = threeTexture;\n                        material.roughnessMap = threeTexture;\n                        break;\n                    case TextureUsage.Normal:\n                        encoding = three__WEBPACK_IMPORTED_MODULE_2__.LinearEncoding;\n                        material.normalMap = threeTexture;\n                        break;\n                    case TextureUsage.Occlusion:\n                        encoding = three__WEBPACK_IMPORTED_MODULE_2__.LinearEncoding;\n                        material.aoMap = threeTexture;\n                        break;\n                    case TextureUsage.Emissive:\n                        material.emissiveMap = threeTexture;\n                        break;\n                    default:\n                }\n                material.needsUpdate = true;\n            }\n        }\n        if (threeTexture) {\n            // Updates the encoding for the texture, affects all references.\n            threeTexture.encoding = encoding;\n            threeTexture.rotation = this[$transform].rotation;\n            threeTexture.repeat = this[$transform].scale;\n            threeTexture.offset = this[$transform].offset;\n        }\n        this.onUpdate();\n    }\n}\n_a = $texture, _b = $transform;\n//# sourceMappingURL=texture-info.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RleHR1cmUtaW5mby5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzhEO0FBQ25CO0FBQ0o7QUFDdkM7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDckM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQ0FBTztBQUM5Qix3QkFBd0IsMENBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnREFBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsb0RBQWE7QUFDM0UsdUJBQXVCLCtDQUFZO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsaURBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsaURBQWM7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlEQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvZmVhdHVyZXMvc2NlbmUtZ3JhcGgvdGV4dHVyZS1pbmZvLmpzPzQxZWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYjtcbmltcG9ydCB7IExpbmVhckVuY29kaW5nLCBzUkdCRW5jb2RpbmcsIFZlY3RvcjIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyAkdGhyZWVUZXh0dXJlIH0gZnJvbSAnLi9pbWFnZS5qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi90ZXh0dXJlLmpzJztcbmNvbnN0ICR0ZXh0dXJlID0gU3ltYm9sKCd0ZXh0dXJlJyk7XG5jb25zdCAkdHJhbnNmb3JtID0gU3ltYm9sKCd0cmFuc2Zvcm0nKTtcbmV4cG9ydCBjb25zdCAkbWF0ZXJpYWxzID0gU3ltYm9sKCdtYXRlcmlhbHMnKTtcbmV4cG9ydCBjb25zdCAkdXNhZ2UgPSBTeW1ib2woJ3VzYWdlJyk7XG4vLyBEZWZpbmVzIHdoYXQgYSB0ZXh0dXJlIHdpbGwgYmUgdXNlZCBmb3IuXG5leHBvcnQgdmFyIFRleHR1cmVVc2FnZTtcbihmdW5jdGlvbiAoVGV4dHVyZVVzYWdlKSB7XG4gICAgVGV4dHVyZVVzYWdlW1RleHR1cmVVc2FnZVtcIkJhc2VcIl0gPSAwXSA9IFwiQmFzZVwiO1xuICAgIFRleHR1cmVVc2FnZVtUZXh0dXJlVXNhZ2VbXCJNZXRhbGxpY1JvdWdobmVzc1wiXSA9IDFdID0gXCJNZXRhbGxpY1JvdWdobmVzc1wiO1xuICAgIFRleHR1cmVVc2FnZVtUZXh0dXJlVXNhZ2VbXCJOb3JtYWxcIl0gPSAyXSA9IFwiTm9ybWFsXCI7XG4gICAgVGV4dHVyZVVzYWdlW1RleHR1cmVVc2FnZVtcIk9jY2x1c2lvblwiXSA9IDNdID0gXCJPY2NsdXNpb25cIjtcbiAgICBUZXh0dXJlVXNhZ2VbVGV4dHVyZVVzYWdlW1wiRW1pc3NpdmVcIl0gPSA0XSA9IFwiRW1pc3NpdmVcIjtcbn0pKFRleHR1cmVVc2FnZSB8fCAoVGV4dHVyZVVzYWdlID0ge30pKTtcbi8qKlxuICogVGV4dHVyZUluZm8gZmFjYWRlIGltcGxlbWVudGF0aW9uIGZvciBUaHJlZS5qcyBtYXRlcmlhbHNcbiAqL1xuZXhwb3J0IGNsYXNzIFRleHR1cmVJbmZvIHtcbiAgICBjb25zdHJ1Y3RvcihvblVwZGF0ZSwgdXNhZ2UsIHRocmVlVGV4dHVyZSwgbWF0ZXJpYWwsIGdsdGYsIGdsdGZUZXh0dXJlSW5mbykge1xuICAgICAgICB0aGlzW19hXSA9IG51bGw7XG4gICAgICAgIHRoaXNbX2JdID0ge1xuICAgICAgICAgICAgcm90YXRpb246IDAsXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjIoMSwgMSksXG4gICAgICAgICAgICBvZmZzZXQ6IG5ldyBWZWN0b3IyKDAsIDApXG4gICAgICAgIH07XG4gICAgICAgIC8vIENyZWF0ZXMgaW1hZ2UsIHNhbXBsZXIsIGFuZCB0ZXh0dXJlIGlmIHZhbGlkIHRleHR1cmUgaW5mbyBpcyBwcm92aWRlZC5cbiAgICAgICAgaWYgKGdsdGZUZXh0dXJlSW5mbyAmJiB0aHJlZVRleHR1cmUpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsdGZUZXh0dXJlID0gZ2x0Zi50ZXh0dXJlcyA/IGdsdGYudGV4dHVyZXNbZ2x0ZlRleHR1cmVJbmZvLmluZGV4XSA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBzYW1wbGVyID0gZ2x0ZlRleHR1cmUgP1xuICAgICAgICAgICAgICAgIChnbHRmLnNhbXBsZXJzID8gZ2x0Zi5zYW1wbGVyc1tnbHRmVGV4dHVyZS5zYW1wbGVyXSA6IG51bGwpIDpcbiAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBnbHRmVGV4dHVyZSA/XG4gICAgICAgICAgICAgICAgKGdsdGYuaW1hZ2VzID8gZ2x0Zi5pbWFnZXNbZ2x0ZlRleHR1cmUuc291cmNlXSA6IG51bGwpIDpcbiAgICAgICAgICAgICAgICBudWxsO1xuICAgICAgICAgICAgdGhpc1skdHJhbnNmb3JtXS5yb3RhdGlvbiA9IHRocmVlVGV4dHVyZS5yb3RhdGlvbjtcbiAgICAgICAgICAgIHRoaXNbJHRyYW5zZm9ybV0uc2NhbGUuY29weSh0aHJlZVRleHR1cmUucmVwZWF0KTtcbiAgICAgICAgICAgIHRoaXNbJHRyYW5zZm9ybV0ub2Zmc2V0LmNvcHkodGhyZWVUZXh0dXJlLm9mZnNldCk7XG4gICAgICAgICAgICB0aGlzWyR0ZXh0dXJlXSA9XG4gICAgICAgICAgICAgICAgbmV3IFRleHR1cmUob25VcGRhdGUsIHRocmVlVGV4dHVyZSwgZ2x0ZlRleHR1cmUsIHNhbXBsZXIsIGltYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uVXBkYXRlID0gb25VcGRhdGU7XG4gICAgICAgIHRoaXNbJG1hdGVyaWFsc10gPSBtYXRlcmlhbDtcbiAgICAgICAgdGhpc1skdXNhZ2VdID0gdXNhZ2U7XG4gICAgfVxuICAgIGdldCB0ZXh0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skdGV4dHVyZV07XG4gICAgfVxuICAgIHNldFRleHR1cmUodGV4dHVyZSkge1xuICAgICAgICBjb25zdCB0aHJlZVRleHR1cmUgPSB0ZXh0dXJlICE9IG51bGwgPyB0ZXh0dXJlLnNvdXJjZVskdGhyZWVUZXh0dXJlXSA6IG51bGw7XG4gICAgICAgIGxldCBlbmNvZGluZyA9IHNSR0JFbmNvZGluZztcbiAgICAgICAgdGhpc1skdGV4dHVyZV0gPSB0ZXh0dXJlO1xuICAgICAgICBpZiAodGhpc1skbWF0ZXJpYWxzXSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBtYXRlcmlhbCBvZiB0aGlzWyRtYXRlcmlhbHNdKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzWyR1c2FnZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0dXJlVXNhZ2UuQmFzZTpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLm1hcCA9IHRocmVlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFRleHR1cmVVc2FnZS5NZXRhbGxpY1JvdWdobmVzczpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kaW5nID0gTGluZWFyRW5jb2Rpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5tZXRhbG5lc3NNYXAgPSB0aHJlZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5yb3VnaG5lc3NNYXAgPSB0aHJlZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0dXJlVXNhZ2UuTm9ybWFsOlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RpbmcgPSBMaW5lYXJFbmNvZGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLm5vcm1hbE1hcCA9IHRocmVlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFRleHR1cmVVc2FnZS5PY2NsdXNpb246XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGluZyA9IExpbmVhckVuY29kaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuYW9NYXAgPSB0aHJlZVRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUZXh0dXJlVXNhZ2UuRW1pc3NpdmU6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbC5lbWlzc2l2ZU1hcCA9IHRocmVlVGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRocmVlVGV4dHVyZSkge1xuICAgICAgICAgICAgLy8gVXBkYXRlcyB0aGUgZW5jb2RpbmcgZm9yIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGFsbCByZWZlcmVuY2VzLlxuICAgICAgICAgICAgdGhyZWVUZXh0dXJlLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgICAgICAgICB0aHJlZVRleHR1cmUucm90YXRpb24gPSB0aGlzWyR0cmFuc2Zvcm1dLnJvdGF0aW9uO1xuICAgICAgICAgICAgdGhyZWVUZXh0dXJlLnJlcGVhdCA9IHRoaXNbJHRyYW5zZm9ybV0uc2NhbGU7XG4gICAgICAgICAgICB0aHJlZVRleHR1cmUub2Zmc2V0ID0gdGhpc1skdHJhbnNmb3JtXS5vZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgIH1cbn1cbl9hID0gJHRleHR1cmUsIF9iID0gJHRyYW5zZm9ybTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHR1cmUtaW5mby5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture-info.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Texture: () => (/* binding */ Texture)\n/* harmony export */ });\n/* harmony import */ var _image_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./image.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/image.js\");\n/* harmony import */ var _sampler_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sampler.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/sampler.js\");\n/* harmony import */ var _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./three-dom-element.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\nconst $image = Symbol('image');\nconst $sampler = Symbol('sampler');\n/**\n * Material facade implementation for Three.js materials\n */\nclass Texture extends _three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.ThreeDOMElement {\n    constructor(onUpdate, threeTexture, gltfTexture = null, gltfSampler = null, gltfImage = null) {\n        super(onUpdate, gltfTexture ? gltfTexture : {}, new Set(threeTexture ? [threeTexture] : []));\n        this[$sampler] = new _sampler_js__WEBPACK_IMPORTED_MODULE_1__.Sampler(onUpdate, threeTexture, gltfSampler);\n        this[$image] = new _image_js__WEBPACK_IMPORTED_MODULE_0__.Image(onUpdate, threeTexture, gltfImage);\n    }\n    get name() {\n        return this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name || '';\n    }\n    set name(name) {\n        this[_three_dom_element_js__WEBPACK_IMPORTED_MODULE_2__.$sourceObject].name = name;\n    }\n    get sampler() {\n        return this[$sampler];\n    }\n    get source() {\n        return this[$image];\n    }\n}\n//# sourceMappingURL=texture.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RleHR1cmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDbUM7QUFDSTtBQUNpQztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sc0JBQXNCLGtFQUFlO0FBQzVDO0FBQ0Esc0RBQXNEO0FBQ3RELDZCQUE2QixnREFBTztBQUNwQywyQkFBMkIsNENBQUs7QUFDaEM7QUFDQTtBQUNBLG9CQUFvQixnRUFBYTtBQUNqQztBQUNBO0FBQ0EsYUFBYSxnRUFBYTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9mZWF0dXJlcy9zY2VuZS1ncmFwaC90ZXh0dXJlLmpzPzc1MTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgSW1hZ2UgfSBmcm9tICcuL2ltYWdlLmpzJztcbmltcG9ydCB7IFNhbXBsZXIgfSBmcm9tICcuL3NhbXBsZXIuanMnO1xuaW1wb3J0IHsgJHNvdXJjZU9iamVjdCwgVGhyZWVET01FbGVtZW50IH0gZnJvbSAnLi90aHJlZS1kb20tZWxlbWVudC5qcyc7XG5jb25zdCAkaW1hZ2UgPSBTeW1ib2woJ2ltYWdlJyk7XG5jb25zdCAkc2FtcGxlciA9IFN5bWJvbCgnc2FtcGxlcicpO1xuLyoqXG4gKiBNYXRlcmlhbCBmYWNhZGUgaW1wbGVtZW50YXRpb24gZm9yIFRocmVlLmpzIG1hdGVyaWFsc1xuICovXG5leHBvcnQgY2xhc3MgVGV4dHVyZSBleHRlbmRzIFRocmVlRE9NRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3Iob25VcGRhdGUsIHRocmVlVGV4dHVyZSwgZ2x0ZlRleHR1cmUgPSBudWxsLCBnbHRmU2FtcGxlciA9IG51bGwsIGdsdGZJbWFnZSA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIob25VcGRhdGUsIGdsdGZUZXh0dXJlID8gZ2x0ZlRleHR1cmUgOiB7fSwgbmV3IFNldCh0aHJlZVRleHR1cmUgPyBbdGhyZWVUZXh0dXJlXSA6IFtdKSk7XG4gICAgICAgIHRoaXNbJHNhbXBsZXJdID0gbmV3IFNhbXBsZXIob25VcGRhdGUsIHRocmVlVGV4dHVyZSwgZ2x0ZlNhbXBsZXIpO1xuICAgICAgICB0aGlzWyRpbWFnZV0gPSBuZXcgSW1hZ2Uob25VcGRhdGUsIHRocmVlVGV4dHVyZSwgZ2x0ZkltYWdlKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRzb3VyY2VPYmplY3RdLm5hbWUgfHwgJyc7XG4gICAgfVxuICAgIHNldCBuYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpc1skc291cmNlT2JqZWN0XS5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgZ2V0IHNhbXBsZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRzYW1wbGVyXTtcbiAgICB9XG4gICAgZ2V0IHNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGltYWdlXTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZXh0dXJlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/texture.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $correlatedObjects: () => (/* binding */ $correlatedObjects),\n/* harmony export */   $onUpdate: () => (/* binding */ $onUpdate),\n/* harmony export */   $sourceObject: () => (/* binding */ $sourceObject),\n/* harmony export */   ThreeDOMElement: () => (/* binding */ ThreeDOMElement)\n/* harmony export */ });\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst $correlatedObjects = Symbol('correlatedObjects');\nconst $sourceObject = Symbol('sourceObject');\nconst $onUpdate = Symbol('onUpdate');\n/**\n * A SerializableThreeDOMElement is the common primitive of all scene graph\n * elements that have been facaded in the host execution context. It adds\n * a common interface to these elements in support of convenient\n * serializability.\n */\nclass ThreeDOMElement {\n    constructor(onUpdate, element, correlatedObjects = null) {\n        this[$onUpdate] = onUpdate;\n        this[$sourceObject] = element;\n        this[$correlatedObjects] = correlatedObjects;\n    }\n}\n//# sourceMappingURL=three-dom-element.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RocmVlLWRvbS1lbGVtZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3NjZW5lLWdyYXBoL3RocmVlLWRvbS1lbGVtZW50LmpzPzM2OGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IGNvbnN0ICRjb3JyZWxhdGVkT2JqZWN0cyA9IFN5bWJvbCgnY29ycmVsYXRlZE9iamVjdHMnKTtcbmV4cG9ydCBjb25zdCAkc291cmNlT2JqZWN0ID0gU3ltYm9sKCdzb3VyY2VPYmplY3QnKTtcbmV4cG9ydCBjb25zdCAkb25VcGRhdGUgPSBTeW1ib2woJ29uVXBkYXRlJyk7XG4vKipcbiAqIEEgU2VyaWFsaXphYmxlVGhyZWVET01FbGVtZW50IGlzIHRoZSBjb21tb24gcHJpbWl0aXZlIG9mIGFsbCBzY2VuZSBncmFwaFxuICogZWxlbWVudHMgdGhhdCBoYXZlIGJlZW4gZmFjYWRlZCBpbiB0aGUgaG9zdCBleGVjdXRpb24gY29udGV4dC4gSXQgYWRkc1xuICogYSBjb21tb24gaW50ZXJmYWNlIHRvIHRoZXNlIGVsZW1lbnRzIGluIHN1cHBvcnQgb2YgY29udmVuaWVudFxuICogc2VyaWFsaXphYmlsaXR5LlxuICovXG5leHBvcnQgY2xhc3MgVGhyZWVET01FbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvblVwZGF0ZSwgZWxlbWVudCwgY29ycmVsYXRlZE9iamVjdHMgPSBudWxsKSB7XG4gICAgICAgIHRoaXNbJG9uVXBkYXRlXSA9IG9uVXBkYXRlO1xuICAgICAgICB0aGlzWyRzb3VyY2VPYmplY3RdID0gZWxlbWVudDtcbiAgICAgICAgdGhpc1skY29ycmVsYXRlZE9iamVjdHNdID0gY29ycmVsYXRlZE9iamVjdHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyZWUtZG9tLWVsZW1lbnQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph/three-dom-element.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/features/staging.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/features/staging.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTO_ROTATE_DELAY_DEFAULT: () => (/* binding */ AUTO_ROTATE_DELAY_DEFAULT),\n/* harmony export */   StagingMixin: () => (/* binding */ StagingMixin)\n/* harmony export */ });\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var _decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../decorators.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/decorators.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n\n// How much the model will rotate per\n// second in radians:\nconst DEFAULT_ROTATION_SPEED = Math.PI / 32;\nconst AUTO_ROTATE_DELAY_DEFAULT = 3000;\nconst rotationRateIntrinsics = {\n    basis: [(0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_3__.degreesToRadians)((0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_4__.numberNode)(DEFAULT_ROTATION_SPEED, 'rad'))],\n    keywords: { auto: [null] }\n};\nconst $autoRotateStartTime = Symbol('autoRotateStartTime');\nconst $radiansPerSecond = Symbol('radiansPerSecond');\nconst $syncRotationRate = Symbol('syncRotationRate');\nconst $onCameraChange = Symbol('onCameraChange');\nconst StagingMixin = (ModelViewerElement) => {\n    var _a, _b, _c;\n    class StagingModelViewerElement extends ModelViewerElement {\n        constructor() {\n            super(...arguments);\n            this.autoRotate = false;\n            this.autoRotateDelay = AUTO_ROTATE_DELAY_DEFAULT;\n            this.rotationPerSecond = 'auto';\n            this[_a] = performance.now();\n            this[_b] = 0;\n            this[_c] = (event) => {\n                if (!this.autoRotate) {\n                    return;\n                }\n                if (event.detail.source === 'user-interaction') {\n                    this[$autoRotateStartTime] = performance.now();\n                }\n            };\n        }\n        connectedCallback() {\n            super.connectedCallback();\n            this.addEventListener('camera-change', this[$onCameraChange]);\n            this[$autoRotateStartTime] = performance.now();\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback();\n            this.removeEventListener('camera-change', this[$onCameraChange]);\n            this[$autoRotateStartTime] = performance.now();\n        }\n        updated(changedProperties) {\n            super.updated(changedProperties);\n            if (changedProperties.has('autoRotate')) {\n                this[$autoRotateStartTime] = performance.now();\n            }\n        }\n        [(_a = $autoRotateStartTime, _b = $radiansPerSecond, $syncRotationRate)](style) {\n            this[$radiansPerSecond] = style[0];\n        }\n        [_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta) {\n            super[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$tick](time, delta);\n            if (!this.autoRotate || !this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$getModelIsVisible]() ||\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$renderer].isPresenting) {\n                return;\n            }\n            const rotationDelta = Math.min(delta, time - this[$autoRotateStartTime] - this.autoRotateDelay);\n            if (rotationDelta > 0) {\n                this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].yaw = this.turntableRotation +\n                    this[$radiansPerSecond] * rotationDelta * 0.001;\n            }\n        }\n        get turntableRotation() {\n            return this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].yaw;\n        }\n        resetTurntableRotation(theta = 0) {\n            this[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_2__.$scene].yaw = theta;\n        }\n    }\n    _c = $onCameraChange;\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Boolean, attribute: 'auto-rotate' })\n    ], StagingModelViewerElement.prototype, \"autoRotate\", void 0);\n    __decorate([\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: Number, attribute: 'auto-rotate-delay' })\n    ], StagingModelViewerElement.prototype, \"autoRotateDelay\", void 0);\n    __decorate([\n        (0,_decorators_js__WEBPACK_IMPORTED_MODULE_1__.style)({ intrinsics: rotationRateIntrinsics, updateHandler: $syncRotationRate }),\n        (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.property)({ type: String, attribute: 'rotation-per-second' })\n    ], StagingModelViewerElement.prototype, \"rotationPerSecond\", void 0);\n    return StagingModelViewerElement;\n};\n//# sourceMappingURL=staging.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3N0YWdpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBSSxJQUFJLFNBQUk7QUFDOUI7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDNkM7QUFDSjtBQUM4QztBQUMzQjtBQUNWO0FBQ2xEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxZQUFZLHdFQUFnQixDQUFDLDhEQUFVO0FBQ3ZDLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsd0RBQUs7QUFDZCxrQkFBa0Isd0RBQUs7QUFDdkIsMENBQTBDLHFFQUFrQjtBQUM1RCxxQkFBcUIsNERBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseURBQU07QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseURBQU07QUFDOUI7QUFDQTtBQUNBLGlCQUFpQix5REFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMkRBQVEsR0FBRyx5Q0FBeUM7QUFDNUQ7QUFDQTtBQUNBLFFBQVEsMkRBQVEsR0FBRyw4Q0FBOEM7QUFDakU7QUFDQTtBQUNBLFFBQVEscURBQUssR0FBRyxzRUFBc0U7QUFDdEYsUUFBUSwyREFBUSxHQUFHLGdEQUFnRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL2ZlYXR1cmVzL3N0YWdpbmcuanM/YjEwMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5pbXBvcnQgeyBwcm9wZXJ0eSB9IGZyb20gJ2xpdC9kZWNvcmF0b3JzLmpzJztcbmltcG9ydCB7IHN0eWxlIH0gZnJvbSAnLi4vZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyAkZ2V0TW9kZWxJc1Zpc2libGUsICRyZW5kZXJlciwgJHNjZW5lLCAkdGljayB9IGZyb20gJy4uL21vZGVsLXZpZXdlci1iYXNlLmpzJztcbmltcG9ydCB7IGRlZ3JlZXNUb1JhZGlhbnMgfSBmcm9tICcuLi9zdHlsZXMvY29udmVyc2lvbnMuanMnO1xuaW1wb3J0IHsgbnVtYmVyTm9kZSB9IGZyb20gJy4uL3N0eWxlcy9wYXJzZXJzLmpzJztcbi8vIEhvdyBtdWNoIHRoZSBtb2RlbCB3aWxsIHJvdGF0ZSBwZXJcbi8vIHNlY29uZCBpbiByYWRpYW5zOlxuY29uc3QgREVGQVVMVF9ST1RBVElPTl9TUEVFRCA9IE1hdGguUEkgLyAzMjtcbmV4cG9ydCBjb25zdCBBVVRPX1JPVEFURV9ERUxBWV9ERUZBVUxUID0gMzAwMDtcbmNvbnN0IHJvdGF0aW9uUmF0ZUludHJpbnNpY3MgPSB7XG4gICAgYmFzaXM6IFtkZWdyZWVzVG9SYWRpYW5zKG51bWJlck5vZGUoREVGQVVMVF9ST1RBVElPTl9TUEVFRCwgJ3JhZCcpKV0sXG4gICAga2V5d29yZHM6IHsgYXV0bzogW251bGxdIH1cbn07XG5jb25zdCAkYXV0b1JvdGF0ZVN0YXJ0VGltZSA9IFN5bWJvbCgnYXV0b1JvdGF0ZVN0YXJ0VGltZScpO1xuY29uc3QgJHJhZGlhbnNQZXJTZWNvbmQgPSBTeW1ib2woJ3JhZGlhbnNQZXJTZWNvbmQnKTtcbmNvbnN0ICRzeW5jUm90YXRpb25SYXRlID0gU3ltYm9sKCdzeW5jUm90YXRpb25SYXRlJyk7XG5jb25zdCAkb25DYW1lcmFDaGFuZ2UgPSBTeW1ib2woJ29uQ2FtZXJhQ2hhbmdlJyk7XG5leHBvcnQgY29uc3QgU3RhZ2luZ01peGluID0gKE1vZGVsVmlld2VyRWxlbWVudCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNsYXNzIFN0YWdpbmdNb2RlbFZpZXdlckVsZW1lbnQgZXh0ZW5kcyBNb2RlbFZpZXdlckVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzLmF1dG9Sb3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYXV0b1JvdGF0ZURlbGF5ID0gQVVUT19ST1RBVEVfREVMQVlfREVGQVVMVDtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb25QZXJTZWNvbmQgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzW19hXSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgdGhpc1tfYl0gPSAwO1xuICAgICAgICAgICAgdGhpc1tfY10gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXV0b1JvdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChldmVudC5kZXRhaWwuc291cmNlID09PSAndXNlci1pbnRlcmFjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skYXV0b1JvdGF0ZVN0YXJ0VGltZV0gPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2FtZXJhLWNoYW5nZScsIHRoaXNbJG9uQ2FtZXJhQ2hhbmdlXSk7XG4gICAgICAgICAgICB0aGlzWyRhdXRvUm90YXRlU3RhcnRUaW1lXSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FtZXJhLWNoYW5nZScsIHRoaXNbJG9uQ2FtZXJhQ2hhbmdlXSk7XG4gICAgICAgICAgICB0aGlzWyRhdXRvUm90YXRlU3RhcnRUaW1lXSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHN1cGVyLnVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnYXV0b1JvdGF0ZScpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skYXV0b1JvdGF0ZVN0YXJ0VGltZV0gPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBbKF9hID0gJGF1dG9Sb3RhdGVTdGFydFRpbWUsIF9iID0gJHJhZGlhbnNQZXJTZWNvbmQsICRzeW5jUm90YXRpb25SYXRlKV0oc3R5bGUpIHtcbiAgICAgICAgICAgIHRoaXNbJHJhZGlhbnNQZXJTZWNvbmRdID0gc3R5bGVbMF07XG4gICAgICAgIH1cbiAgICAgICAgWyR0aWNrXSh0aW1lLCBkZWx0YSkge1xuICAgICAgICAgICAgc3VwZXJbJHRpY2tdKHRpbWUsIGRlbHRhKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5hdXRvUm90YXRlIHx8ICF0aGlzWyRnZXRNb2RlbElzVmlzaWJsZV0oKSB8fFxuICAgICAgICAgICAgICAgIHRoaXNbJHJlbmRlcmVyXS5pc1ByZXNlbnRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByb3RhdGlvbkRlbHRhID0gTWF0aC5taW4oZGVsdGEsIHRpbWUgLSB0aGlzWyRhdXRvUm90YXRlU3RhcnRUaW1lXSAtIHRoaXMuYXV0b1JvdGF0ZURlbGF5KTtcbiAgICAgICAgICAgIGlmIChyb3RhdGlvbkRlbHRhID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS55YXcgPSB0aGlzLnR1cm50YWJsZVJvdGF0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1skcmFkaWFuc1BlclNlY29uZF0gKiByb3RhdGlvbkRlbHRhICogMC4wMDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0IHR1cm50YWJsZVJvdGF0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJHNjZW5lXS55YXc7XG4gICAgICAgIH1cbiAgICAgICAgcmVzZXRUdXJudGFibGVSb3RhdGlvbih0aGV0YSA9IDApIHtcbiAgICAgICAgICAgIHRoaXNbJHNjZW5lXS55YXcgPSB0aGV0YTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYyA9ICRvbkNhbWVyYUNoYW5nZTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICdhdXRvLXJvdGF0ZScgfSlcbiAgICBdLCBTdGFnaW5nTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJhdXRvUm90YXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIHByb3BlcnR5KHsgdHlwZTogTnVtYmVyLCBhdHRyaWJ1dGU6ICdhdXRvLXJvdGF0ZS1kZWxheScgfSlcbiAgICBdLCBTdGFnaW5nTW9kZWxWaWV3ZXJFbGVtZW50LnByb3RvdHlwZSwgXCJhdXRvUm90YXRlRGVsYXlcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgc3R5bGUoeyBpbnRyaW5zaWNzOiByb3RhdGlvblJhdGVJbnRyaW5zaWNzLCB1cGRhdGVIYW5kbGVyOiAkc3luY1JvdGF0aW9uUmF0ZSB9KSxcbiAgICAgICAgcHJvcGVydHkoeyB0eXBlOiBTdHJpbmcsIGF0dHJpYnV0ZTogJ3JvdGF0aW9uLXBlci1zZWNvbmQnIH0pXG4gICAgXSwgU3RhZ2luZ01vZGVsVmlld2VyRWxlbWVudC5wcm90b3R5cGUsIFwicm90YXRpb25QZXJTZWNvbmRcIiwgdm9pZCAwKTtcbiAgICByZXR1cm4gU3RhZ2luZ01vZGVsVmlld2VyRWxlbWVudDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFnaW5nLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/features/staging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/model-viewer-base.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $altDefaulted: () => (/* binding */ $altDefaulted),\n/* harmony export */   $announceModelVisibility: () => (/* binding */ $announceModelVisibility),\n/* harmony export */   $ariaLabel: () => (/* binding */ $ariaLabel),\n/* harmony export */   $canvas: () => (/* binding */ $canvas),\n/* harmony export */   $container: () => (/* binding */ $container),\n/* harmony export */   $getLoaded: () => (/* binding */ $getLoaded),\n/* harmony export */   $getModelIsVisible: () => (/* binding */ $getModelIsVisible),\n/* harmony export */   $intersectionObserver: () => (/* binding */ $intersectionObserver),\n/* harmony export */   $isElementInViewport: () => (/* binding */ $isElementInViewport),\n/* harmony export */   $loadedTime: () => (/* binding */ $loadedTime),\n/* harmony export */   $markLoaded: () => (/* binding */ $markLoaded),\n/* harmony export */   $needsRender: () => (/* binding */ $needsRender),\n/* harmony export */   $onModelLoad: () => (/* binding */ $onModelLoad),\n/* harmony export */   $onResize: () => (/* binding */ $onResize),\n/* harmony export */   $progressTracker: () => (/* binding */ $progressTracker),\n/* harmony export */   $renderer: () => (/* binding */ $renderer),\n/* harmony export */   $scene: () => (/* binding */ $scene),\n/* harmony export */   $shouldAttemptPreload: () => (/* binding */ $shouldAttemptPreload),\n/* harmony export */   $statusElement: () => (/* binding */ $statusElement),\n/* harmony export */   $tick: () => (/* binding */ $tick),\n/* harmony export */   $updateSize: () => (/* binding */ $updateSize),\n/* harmony export */   $updateSource: () => (/* binding */ $updateSource),\n/* harmony export */   $updateStatus: () => (/* binding */ $updateStatus),\n/* harmony export */   $userInputElement: () => (/* binding */ $userInputElement),\n/* harmony export */   blobCanvas: () => (/* binding */ blobCanvas),\n/* harmony export */   \"default\": () => (/* binding */ ModelViewerElementBase),\n/* harmony export */   toVector2D: () => (/* binding */ toVector2D),\n/* harmony export */   toVector3D: () => (/* binding */ toVector3D)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators.js */ \"(ssr)/./node_modules/lit/decorators.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/constants.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _template_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./template.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/template.js\");\n/* harmony import */ var _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./three-components/CachingGLTFLoader.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\");\n/* harmony import */ var _three_components_ModelScene_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./three-components/ModelScene.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelScene.js\");\n/* harmony import */ var _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./three-components/Renderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _utilities_data_conversion_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utilities/data-conversion.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/data-conversion.js\");\n/* harmony import */ var _utilities_progress_tracker_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utilities/progress-tracker.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n\n\n\n\n\n\n\n\n\n\n\nconst CLEAR_MODEL_TIMEOUT_MS = 1000;\nconst FALLBACK_SIZE_UPDATE_THRESHOLD_MS = 50;\nconst ANNOUNCE_MODEL_VISIBILITY_DEBOUNCE_THRESHOLD = 0;\nconst UNSIZED_MEDIA_WIDTH = 300;\nconst UNSIZED_MEDIA_HEIGHT = 150;\nconst blobCanvas = document.createElement('canvas');\nconst $fallbackResizeHandler = Symbol('fallbackResizeHandler');\nconst $defaultAriaLabel = Symbol('defaultAriaLabel');\nconst $resizeObserver = Symbol('resizeObserver');\nconst $clearModelTimeout = Symbol('clearModelTimeout');\nconst $onContextLost = Symbol('onContextLost');\nconst $loaded = Symbol('loaded');\nconst $status = Symbol('status');\nconst $onFocus = Symbol('onFocus');\nconst $onBlur = Symbol('onBlur');\nconst $updateSize = Symbol('updateSize');\nconst $intersectionObserver = Symbol('intersectionObserver');\nconst $isElementInViewport = Symbol('isElementInViewport');\nconst $announceModelVisibility = Symbol('announceModelVisibility');\nconst $ariaLabel = Symbol('ariaLabel');\nconst $altDefaulted = Symbol('altDefaulted');\nconst $statusElement = Symbol('statusElement');\nconst $updateStatus = Symbol('updateStatus');\nconst $loadedTime = Symbol('loadedTime');\nconst $updateSource = Symbol('updateSource');\nconst $markLoaded = Symbol('markLoaded');\nconst $container = Symbol('container');\nconst $userInputElement = Symbol('input');\nconst $canvas = Symbol('canvas');\nconst $scene = Symbol('scene');\nconst $needsRender = Symbol('needsRender');\nconst $tick = Symbol('tick');\nconst $onModelLoad = Symbol('onModelLoad');\nconst $onResize = Symbol('onResize');\nconst $renderer = Symbol('renderer');\nconst $progressTracker = Symbol('progressTracker');\nconst $getLoaded = Symbol('getLoaded');\nconst $getModelIsVisible = Symbol('getModelIsVisible');\nconst $shouldAttemptPreload = Symbol('shouldAttemptPreload');\nconst toVector3D = (v) => {\n    return {\n        x: v.x,\n        y: v.y,\n        z: v.z,\n        toString() {\n            return `${this.x}m ${this.y}m ${this.z}m`;\n        }\n    };\n};\nconst toVector2D = (v) => {\n    return {\n        u: v.x,\n        v: v.y,\n        toString() {\n            return `${this.u} ${this.v}`;\n        }\n    };\n};\n/**\n * Definition for a basic <model-viewer> element.\n */\nclass ModelViewerElementBase extends lit__WEBPACK_IMPORTED_MODULE_0__.ReactiveElement {\n    /**\n     * Creates a new ModelViewerElement.\n     */\n    constructor() {\n        super();\n        this.alt = null;\n        this.src = null;\n        this.withCredentials = false;\n        /**\n         * Generates a 3D model schema https://schema.org/3DModel associated with\n         * the loaded src and inserts it into the header of the page for search\n         * engines to crawl.\n         */\n        this.generateSchema = false;\n        this[_a] = false;\n        this[_b] = false;\n        this[_c] = 0;\n        this[_d] = '';\n        this[_e] = null;\n        this[_f] = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_8__.debounce)(() => {\n            const boundingRect = this.getBoundingClientRect();\n            this[$updateSize](boundingRect);\n        }, FALLBACK_SIZE_UPDATE_THRESHOLD_MS);\n        this[_g] = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_8__.debounce)((oldVisibility) => {\n            const newVisibility = this.modelIsVisible;\n            if (newVisibility !== oldVisibility) {\n                this.dispatchEvent(new CustomEvent('model-visibility', { detail: { visible: newVisibility } }));\n            }\n        }, ANNOUNCE_MODEL_VISIBILITY_DEBOUNCE_THRESHOLD);\n        this[_h] = null;\n        this[_j] = null;\n        this[_k] = new _utilities_progress_tracker_js__WEBPACK_IMPORTED_MODULE_10__.ProgressTracker();\n        this[_l] = () => {\n            this[$statusElement].textContent = this[$status];\n        };\n        this[_m] = () => {\n            this[$statusElement].textContent = '';\n        };\n        this[_o] = (event) => {\n            this.dispatchEvent(new CustomEvent('error', { detail: { type: 'webglcontextlost', sourceError: event.sourceEvent } }));\n        };\n        this.attachShadow({ mode: 'open' });\n        const shadowRoot = this.shadowRoot;\n        (0,_template_js__WEBPACK_IMPORTED_MODULE_4__.makeTemplate)(shadowRoot);\n        this[$container] = shadowRoot.querySelector('.container');\n        this[$userInputElement] =\n            shadowRoot.querySelector('.userInput');\n        this[$canvas] = shadowRoot.querySelector('canvas');\n        this[$statusElement] =\n            shadowRoot.querySelector('#status');\n        this[$defaultAriaLabel] =\n            this[$userInputElement].getAttribute('aria-label');\n        // Because of potential race conditions related to invoking the constructor\n        // we only use the bounding rect to set the initial size if the element is\n        // already connected to the document:\n        let width, height;\n        if (this.isConnected) {\n            const rect = this.getBoundingClientRect();\n            width = rect.width;\n            height = rect.height;\n        }\n        else {\n            width = UNSIZED_MEDIA_WIDTH;\n            height = UNSIZED_MEDIA_HEIGHT;\n        }\n        // Create the underlying ModelScene.\n        this[$scene] =\n            new _three_components_ModelScene_js__WEBPACK_IMPORTED_MODULE_6__.ModelScene({ canvas: this[$canvas], element: this, width, height });\n        // Update initial size on microtask timing so that subclasses have a\n        // chance to initialize\n        Promise.resolve().then(() => {\n            this[$updateSize](this.getBoundingClientRect());\n        });\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_RESIZE_OBSERVER) {\n            // Set up a resize observer so we can scale our canvas\n            // if our <model-viewer> changes\n            this[$resizeObserver] =\n                new ResizeObserver((entries) => {\n                    // Don't resize anything if in AR mode; otherwise the canvas\n                    // scaling to fullscreen on entering AR will clobber the flat/2d\n                    // dimensions of the element.\n                    if (this[$renderer].isPresenting) {\n                        return;\n                    }\n                    for (let entry of entries) {\n                        if (entry.target === this) {\n                            this[$updateSize](entry.contentRect);\n                        }\n                    }\n                });\n        }\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_INTERSECTION_OBSERVER) {\n            this[$intersectionObserver] = new IntersectionObserver(entries => {\n                for (let entry of entries) {\n                    if (entry.target === this) {\n                        const oldVisibility = this.modelIsVisible;\n                        this[$isElementInViewport] = entry.isIntersecting;\n                        this[$announceModelVisibility](oldVisibility);\n                        if (this[$isElementInViewport] && !this.loaded) {\n                            this[$updateSource]();\n                        }\n                    }\n                }\n            }, {\n                root: null,\n                // We used to have margin here, but it was causing animated models below\n                // the fold to steal the frame budget. Weirder still, it would also\n                // cause input events to be swallowed, sometimes for seconds on the\n                // model above the fold, but only when the animated model was completely\n                // below. Setting this margin to zero fixed it.\n                rootMargin: '0px',\n                // With zero threshold, an element adjacent to but not intersecting the\n                // viewport will be reported as intersecting, which will cause\n                // unnecessary rendering. Any slight positive threshold alleviates this.\n                threshold: 0.00001,\n            });\n        }\n        else {\n            // If there is no intersection observer, then all models should be visible\n            // at all times:\n            this[$isElementInViewport] = true;\n        }\n    }\n    static get is() {\n        return 'model-viewer';\n    }\n    /** @export */\n    static set modelCacheSize(value) {\n        _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.CachingGLTFLoader[_three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.$evictionPolicy].evictionThreshold = value;\n    }\n    /** @export */\n    static get modelCacheSize() {\n        return _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.CachingGLTFLoader[_three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.$evictionPolicy].evictionThreshold;\n    }\n    /** @export */\n    static set minimumRenderScale(value) {\n        if (value > 1) {\n            console.warn('<model-viewer> minimumRenderScale has been clamped to a maximum value of 1.');\n        }\n        if (value <= 0) {\n            console.warn('<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25.');\n        }\n        _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__.Renderer.singleton.minScale = value;\n    }\n    /** @export */\n    static get minimumRenderScale() {\n        return _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__.Renderer.singleton.minScale;\n    }\n    /** @export */\n    get loaded() {\n        return this[$getLoaded]();\n    }\n    get [(_a = $isElementInViewport, _b = $loaded, _c = $loadedTime, _d = $status, _e = $clearModelTimeout, _f = $fallbackResizeHandler, _g = $announceModelVisibility, _h = $resizeObserver, _j = $intersectionObserver, _k = $progressTracker, $renderer)]() {\n        return _three_components_Renderer_js__WEBPACK_IMPORTED_MODULE_7__.Renderer.singleton;\n    }\n    /** @export */\n    get modelIsVisible() {\n        return this[$getModelIsVisible]();\n    }\n    connectedCallback() {\n        super.connectedCallback && super.connectedCallback();\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_RESIZE_OBSERVER) {\n            this[$resizeObserver].observe(this);\n        }\n        else {\n            self.addEventListener('resize', this[$fallbackResizeHandler]);\n        }\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_INTERSECTION_OBSERVER) {\n            this[$intersectionObserver].observe(this);\n        }\n        this.addEventListener('focus', this[$onFocus]);\n        this.addEventListener('blur', this[$onBlur]);\n        const renderer = this[$renderer];\n        renderer.addEventListener('contextlost', this[$onContextLost]);\n        renderer.registerScene(this[$scene]);\n        if (this[$clearModelTimeout] != null) {\n            self.clearTimeout(this[$clearModelTimeout]);\n            this[$clearModelTimeout] = null;\n            // Force an update in case the model has been evicted from our GLTF cache\n            // @see https://lit-element.polymer-project.org/guide/lifecycle#requestupdate\n            this.requestUpdate('src', null);\n        }\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback && super.disconnectedCallback();\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_RESIZE_OBSERVER) {\n            this[$resizeObserver].unobserve(this);\n        }\n        else {\n            self.removeEventListener('resize', this[$fallbackResizeHandler]);\n        }\n        if (_constants_js__WEBPACK_IMPORTED_MODULE_2__.HAS_INTERSECTION_OBSERVER) {\n            this[$intersectionObserver].unobserve(this);\n        }\n        this.removeEventListener('focus', this[$onFocus]);\n        this.removeEventListener('blur', this[$onBlur]);\n        const renderer = this[$renderer];\n        renderer.removeEventListener('contextlost', this[$onContextLost]);\n        renderer.unregisterScene(this[$scene]);\n        this[$clearModelTimeout] = self.setTimeout(() => {\n            this[$scene].dispose();\n            this[$clearModelTimeout] = null;\n        }, CLEAR_MODEL_TIMEOUT_MS);\n    }\n    updated(changedProperties) {\n        super.updated(changedProperties);\n        // NOTE(cdata): If a property changes from values A -> B -> A in the space\n        // of a microtask, LitElement/UpdatingElement will notify of a change even\n        // though the value has effectively not changed, so we need to check to make\n        // sure that the value has actually changed before changing the loaded flag.\n        if (changedProperties.has('src')) {\n            if (this.src == null) {\n                this[$loaded] = false;\n                this[$loadedTime] = 0;\n                this[$scene].reset();\n            }\n            else if (this.src !== this[$scene].url) {\n                this[$loaded] = false;\n                this[$loadedTime] = 0;\n                this[$updateSource]();\n            }\n        }\n        if (changedProperties.has('alt')) {\n            this[$userInputElement].setAttribute('aria-label', this[$ariaLabel]);\n        }\n        if (changedProperties.has('withCredentials')) {\n            _three_components_CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.CachingGLTFLoader.withCredentials = this.withCredentials;\n        }\n        if (changedProperties.has('generateSchema')) {\n            if (this.generateSchema) {\n                this[$scene].updateSchema(this.src);\n            }\n            else {\n                this[$scene].updateSchema(null);\n            }\n        }\n    }\n    /** @export */\n    toDataURL(type, encoderOptions) {\n        return this[$renderer]\n            .displayCanvas(this[$scene])\n            .toDataURL(type, encoderOptions);\n    }\n    /** @export */\n    async toBlob(options) {\n        const mimeType = options ? options.mimeType : undefined;\n        const qualityArgument = options ? options.qualityArgument : undefined;\n        const useIdealAspect = options ? options.idealAspect : undefined;\n        const { width, height, idealAspect, aspect } = this[$scene];\n        const { dpr, scaleFactor } = this[$renderer];\n        let outputWidth = width * scaleFactor * dpr;\n        let outputHeight = height * scaleFactor * dpr;\n        let offsetX = 0;\n        let offsetY = 0;\n        if (useIdealAspect === true) {\n            if (idealAspect > aspect) {\n                const oldHeight = outputHeight;\n                outputHeight = Math.round(outputWidth / idealAspect);\n                offsetY = (oldHeight - outputHeight) / 2;\n            }\n            else {\n                const oldWidth = outputWidth;\n                outputWidth = Math.round(outputHeight * idealAspect);\n                offsetX = (oldWidth - outputWidth) / 2;\n            }\n        }\n        blobCanvas.width = outputWidth;\n        blobCanvas.height = outputHeight;\n        try {\n            return new Promise(async (resolve, reject) => {\n                blobCanvas.getContext('2d').drawImage(this[$renderer].displayCanvas(this[$scene]), offsetX, offsetY, outputWidth, outputHeight, 0, 0, outputWidth, outputHeight);\n                if (blobCanvas.msToBlob) {\n                    // NOTE: msToBlob only returns image/png\n                    // so ensure mimeType is not specified (defaults to image/png)\n                    // or is image/png, otherwise fallback to using toDataURL on IE.\n                    if (!mimeType || mimeType === 'image/png') {\n                        return resolve(blobCanvas.msToBlob());\n                    }\n                }\n                if (!blobCanvas.toBlob) {\n                    return resolve(await (0,_utilities_data_conversion_js__WEBPACK_IMPORTED_MODULE_9__.dataUrlToBlob)(blobCanvas.toDataURL(mimeType, qualityArgument)));\n                }\n                blobCanvas.toBlob((blob) => {\n                    if (!blob) {\n                        return reject(new Error('Unable to retrieve canvas blob'));\n                    }\n                    resolve(blob);\n                }, mimeType, qualityArgument);\n            });\n        }\n        finally {\n            this[$updateSize]({ width, height });\n        }\n        ;\n    }\n    registerRenderer(renderer) {\n        this[$scene].externalRenderer = renderer;\n    }\n    unregisterRenderer() {\n        this[$scene].externalRenderer = null;\n    }\n    get [$ariaLabel]() {\n        return this[$altDefaulted];\n    }\n    get [$altDefaulted]() {\n        return (this.alt == null || this.alt === 'null') ? this[$defaultAriaLabel] :\n            this.alt;\n    }\n    // NOTE(cdata): Although this may seem extremely redundant, it is required in\n    // order to support overloading when TypeScript is compiled to ES5\n    // @see https://github.com/Polymer/lit-element/pull/745\n    // @see https://github.com/microsoft/TypeScript/issues/338\n    [$getLoaded]() {\n        return this[$loaded];\n    }\n    // @see [$getLoaded]\n    [$getModelIsVisible]() {\n        return this.loaded && this[$isElementInViewport];\n    }\n    [$shouldAttemptPreload]() {\n        return !!this.src && this[$isElementInViewport];\n    }\n    /**\n     * Called on initialization and when the resize observer fires.\n     */\n    [$updateSize]({ width, height }) {\n        this[$container].style.width = `${width}px`;\n        this[$container].style.height = `${height}px`;\n        this[$onResize]({ width: parseFloat(width), height: parseFloat(height) });\n    }\n    [$tick](_time, _delta) {\n    }\n    [$markLoaded]() {\n        if (this[$loaded]) {\n            return;\n        }\n        this[$loaded] = true;\n        this[$loadedTime] = performance.now();\n    }\n    [$needsRender]() {\n        this[$scene].queueRender();\n    }\n    [$onModelLoad]() {\n    }\n    [$updateStatus](status) {\n        this[$status] = status;\n        const rootNode = this.getRootNode();\n        // Only change the aria-label if <model-viewer> is currently focused:\n        if (rootNode != null && rootNode.activeElement === this &&\n            this[$statusElement].textContent != status) {\n            this[$statusElement].textContent = status;\n        }\n    }\n    [(_l = $onFocus, _m = $onBlur, $onResize)](e) {\n        this[$scene].setSize(e.width, e.height);\n    }\n    /**\n     * Parses the element for an appropriate source URL and\n     * sets the views to use the new model based.\n     */\n    async [(_o = $onContextLost, $updateSource)]() {\n        const scene = this[$scene];\n        if (this.loaded || !this[$shouldAttemptPreload]() ||\n            this.src === scene.url) {\n            return;\n        }\n        if (this.generateSchema) {\n            scene.updateSchema(this.src);\n        }\n        this[$updateStatus]('Loading');\n        // If we are loading a new model, we need to stop the animation of\n        // the current one (if any is playing). Otherwise, we might lose\n        // the reference to the scene root and running actions start to\n        // throw exceptions and/or behave in unexpected ways:\n        scene.stopAnimation();\n        const updateSourceProgress = this[$progressTracker].beginActivity();\n        const source = this.src;\n        try {\n            const srcUpdated = scene.setSource(source, (progress) => updateSourceProgress((0,_utilities_js__WEBPACK_IMPORTED_MODULE_8__.clamp)(progress, 0, 1) * 0.95));\n            const envUpdated = this[_features_environment_js__WEBPACK_IMPORTED_MODULE_3__.$updateEnvironment]();\n            await Promise.all([srcUpdated, envUpdated]);\n            this[$markLoaded]();\n            this[$onModelLoad]();\n            // Wait for shaders to compile and pixels to be drawn.\n            await new Promise(resolve => {\n                requestAnimationFrame(() => {\n                    requestAnimationFrame(() => {\n                        this.dispatchEvent(new CustomEvent('load', { detail: { url: source } }));\n                        resolve();\n                    });\n                });\n            });\n        }\n        catch (error) {\n            this.dispatchEvent(new CustomEvent('error', { detail: { type: 'loadfailure', sourceError: error } }));\n        }\n        finally {\n            updateSourceProgress(1.0);\n        }\n    }\n}\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], ModelViewerElementBase.prototype, \"alt\", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: String })\n], ModelViewerElementBase.prototype, \"src\", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean, attribute: 'with-credentials' })\n], ModelViewerElementBase.prototype, \"withCredentials\", void 0);\n__decorate([\n    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_1__.property)({ type: Boolean, attribute: 'generate-schema' })\n], ModelViewerElementBase.prototype, \"generateSchema\", void 0);\n//# sourceMappingURL=model-viewer-base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL21vZGVsLXZpZXdlci1iYXNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsU0FBSSxJQUFJLFNBQUk7QUFDOUI7QUFDQTtBQUNBLDZDQUE2QyxRQUFRO0FBQ3JEO0FBQ0E7QUFDQTtBQUNzQztBQUNPO0FBQ21DO0FBQ2pCO0FBQ2xCO0FBQ2dEO0FBQy9CO0FBQ0o7QUFDVDtBQUNjO0FBQ0c7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFFBQVEsRUFBRSxPQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLHFDQUFxQyxnREFBZTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1REFBUTtBQUMzQjtBQUNBO0FBQ0EsU0FBUztBQUNULG1CQUFtQix1REFBUTtBQUMzQjtBQUNBO0FBQ0EseUVBQXlFLFVBQVUsMEJBQTBCO0FBQzdHO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSx1QkFBdUIsNEVBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsVUFBVSw0REFBNEQ7QUFDaEk7QUFDQSw0QkFBNEIsY0FBYztBQUMxQztBQUNBLFFBQVEsMERBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix1RUFBVSxHQUFHLHFEQUFxRDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxZQUFZLDhEQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFlBQVksb0VBQXlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFGQUFpQixDQUFDLG1GQUFlO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUZBQWlCLENBQUMsbUZBQWU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBUTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxlQUFlLG1FQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUVBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhEQUFtQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvRUFBeUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksOERBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9FQUF5QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxRkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFDQUFxQztBQUNyRCxnQkFBZ0IsbUJBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyw0RUFBYTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxnQ0FBZ0MsZUFBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQywwQ0FBMEMsTUFBTTtBQUNoRCwyQ0FBMkMsT0FBTztBQUNsRCwwQkFBMEIsc0RBQXNEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEZBQTBGLG9EQUFLO0FBQy9GLG9DQUFvQyx3RUFBa0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsVUFBVSxlQUFlO0FBQzlGO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBLDBEQUEwRCxVQUFVLDJDQUEyQztBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMkRBQVEsR0FBRyxjQUFjO0FBQzdCO0FBQ0E7QUFDQSxJQUFJLDJEQUFRLEdBQUcsY0FBYztBQUM3QjtBQUNBO0FBQ0EsSUFBSSwyREFBUSxHQUFHLDhDQUE4QztBQUM3RDtBQUNBO0FBQ0EsSUFBSSwyREFBUSxHQUFHLDZDQUE2QztBQUM1RDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvbW9kZWwtdmlld2VyLWJhc2UuanM/ODQwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaiwgX2ssIF9sLCBfbSwgX287XG5pbXBvcnQgeyBSZWFjdGl2ZUVsZW1lbnQgfSBmcm9tICdsaXQnO1xuaW1wb3J0IHsgcHJvcGVydHkgfSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5pbXBvcnQgeyBIQVNfSU5URVJTRUNUSU9OX09CU0VSVkVSLCBIQVNfUkVTSVpFX09CU0VSVkVSIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgJHVwZGF0ZUVudmlyb25tZW50IH0gZnJvbSAnLi9mZWF0dXJlcy9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyBtYWtlVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmltcG9ydCB7ICRldmljdGlvblBvbGljeSwgQ2FjaGluZ0dMVEZMb2FkZXIgfSBmcm9tICcuL3RocmVlLWNvbXBvbmVudHMvQ2FjaGluZ0dMVEZMb2FkZXIuanMnO1xuaW1wb3J0IHsgTW9kZWxTY2VuZSB9IGZyb20gJy4vdGhyZWUtY29tcG9uZW50cy9Nb2RlbFNjZW5lLmpzJztcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnLi90aHJlZS1jb21wb25lbnRzL1JlbmRlcmVyLmpzJztcbmltcG9ydCB7IGNsYW1wLCBkZWJvdW5jZSB9IGZyb20gJy4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IGRhdGFVcmxUb0Jsb2IgfSBmcm9tICcuL3V0aWxpdGllcy9kYXRhLWNvbnZlcnNpb24uanMnO1xuaW1wb3J0IHsgUHJvZ3Jlc3NUcmFja2VyIH0gZnJvbSAnLi91dGlsaXRpZXMvcHJvZ3Jlc3MtdHJhY2tlci5qcyc7XG5jb25zdCBDTEVBUl9NT0RFTF9USU1FT1VUX01TID0gMTAwMDtcbmNvbnN0IEZBTExCQUNLX1NJWkVfVVBEQVRFX1RIUkVTSE9MRF9NUyA9IDUwO1xuY29uc3QgQU5OT1VOQ0VfTU9ERUxfVklTSUJJTElUWV9ERUJPVU5DRV9USFJFU0hPTEQgPSAwO1xuY29uc3QgVU5TSVpFRF9NRURJQV9XSURUSCA9IDMwMDtcbmNvbnN0IFVOU0laRURfTUVESUFfSEVJR0hUID0gMTUwO1xuZXhwb3J0IGNvbnN0IGJsb2JDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbmNvbnN0ICRmYWxsYmFja1Jlc2l6ZUhhbmRsZXIgPSBTeW1ib2woJ2ZhbGxiYWNrUmVzaXplSGFuZGxlcicpO1xuY29uc3QgJGRlZmF1bHRBcmlhTGFiZWwgPSBTeW1ib2woJ2RlZmF1bHRBcmlhTGFiZWwnKTtcbmNvbnN0ICRyZXNpemVPYnNlcnZlciA9IFN5bWJvbCgncmVzaXplT2JzZXJ2ZXInKTtcbmNvbnN0ICRjbGVhck1vZGVsVGltZW91dCA9IFN5bWJvbCgnY2xlYXJNb2RlbFRpbWVvdXQnKTtcbmNvbnN0ICRvbkNvbnRleHRMb3N0ID0gU3ltYm9sKCdvbkNvbnRleHRMb3N0Jyk7XG5jb25zdCAkbG9hZGVkID0gU3ltYm9sKCdsb2FkZWQnKTtcbmNvbnN0ICRzdGF0dXMgPSBTeW1ib2woJ3N0YXR1cycpO1xuY29uc3QgJG9uRm9jdXMgPSBTeW1ib2woJ29uRm9jdXMnKTtcbmNvbnN0ICRvbkJsdXIgPSBTeW1ib2woJ29uQmx1cicpO1xuZXhwb3J0IGNvbnN0ICR1cGRhdGVTaXplID0gU3ltYm9sKCd1cGRhdGVTaXplJyk7XG5leHBvcnQgY29uc3QgJGludGVyc2VjdGlvbk9ic2VydmVyID0gU3ltYm9sKCdpbnRlcnNlY3Rpb25PYnNlcnZlcicpO1xuZXhwb3J0IGNvbnN0ICRpc0VsZW1lbnRJblZpZXdwb3J0ID0gU3ltYm9sKCdpc0VsZW1lbnRJblZpZXdwb3J0Jyk7XG5leHBvcnQgY29uc3QgJGFubm91bmNlTW9kZWxWaXNpYmlsaXR5ID0gU3ltYm9sKCdhbm5vdW5jZU1vZGVsVmlzaWJpbGl0eScpO1xuZXhwb3J0IGNvbnN0ICRhcmlhTGFiZWwgPSBTeW1ib2woJ2FyaWFMYWJlbCcpO1xuZXhwb3J0IGNvbnN0ICRhbHREZWZhdWx0ZWQgPSBTeW1ib2woJ2FsdERlZmF1bHRlZCcpO1xuZXhwb3J0IGNvbnN0ICRzdGF0dXNFbGVtZW50ID0gU3ltYm9sKCdzdGF0dXNFbGVtZW50Jyk7XG5leHBvcnQgY29uc3QgJHVwZGF0ZVN0YXR1cyA9IFN5bWJvbCgndXBkYXRlU3RhdHVzJyk7XG5leHBvcnQgY29uc3QgJGxvYWRlZFRpbWUgPSBTeW1ib2woJ2xvYWRlZFRpbWUnKTtcbmV4cG9ydCBjb25zdCAkdXBkYXRlU291cmNlID0gU3ltYm9sKCd1cGRhdGVTb3VyY2UnKTtcbmV4cG9ydCBjb25zdCAkbWFya0xvYWRlZCA9IFN5bWJvbCgnbWFya0xvYWRlZCcpO1xuZXhwb3J0IGNvbnN0ICRjb250YWluZXIgPSBTeW1ib2woJ2NvbnRhaW5lcicpO1xuZXhwb3J0IGNvbnN0ICR1c2VySW5wdXRFbGVtZW50ID0gU3ltYm9sKCdpbnB1dCcpO1xuZXhwb3J0IGNvbnN0ICRjYW52YXMgPSBTeW1ib2woJ2NhbnZhcycpO1xuZXhwb3J0IGNvbnN0ICRzY2VuZSA9IFN5bWJvbCgnc2NlbmUnKTtcbmV4cG9ydCBjb25zdCAkbmVlZHNSZW5kZXIgPSBTeW1ib2woJ25lZWRzUmVuZGVyJyk7XG5leHBvcnQgY29uc3QgJHRpY2sgPSBTeW1ib2woJ3RpY2snKTtcbmV4cG9ydCBjb25zdCAkb25Nb2RlbExvYWQgPSBTeW1ib2woJ29uTW9kZWxMb2FkJyk7XG5leHBvcnQgY29uc3QgJG9uUmVzaXplID0gU3ltYm9sKCdvblJlc2l6ZScpO1xuZXhwb3J0IGNvbnN0ICRyZW5kZXJlciA9IFN5bWJvbCgncmVuZGVyZXInKTtcbmV4cG9ydCBjb25zdCAkcHJvZ3Jlc3NUcmFja2VyID0gU3ltYm9sKCdwcm9ncmVzc1RyYWNrZXInKTtcbmV4cG9ydCBjb25zdCAkZ2V0TG9hZGVkID0gU3ltYm9sKCdnZXRMb2FkZWQnKTtcbmV4cG9ydCBjb25zdCAkZ2V0TW9kZWxJc1Zpc2libGUgPSBTeW1ib2woJ2dldE1vZGVsSXNWaXNpYmxlJyk7XG5leHBvcnQgY29uc3QgJHNob3VsZEF0dGVtcHRQcmVsb2FkID0gU3ltYm9sKCdzaG91bGRBdHRlbXB0UHJlbG9hZCcpO1xuZXhwb3J0IGNvbnN0IHRvVmVjdG9yM0QgPSAodikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHYueCxcbiAgICAgICAgeTogdi55LFxuICAgICAgICB6OiB2LnosXG4gICAgICAgIHRvU3RyaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMueH1tICR7dGhpcy55fW0gJHt0aGlzLnp9bWA7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCB0b1ZlY3RvcjJEID0gKHYpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB1OiB2LngsXG4gICAgICAgIHY6IHYueSxcbiAgICAgICAgdG9TdHJpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy51fSAke3RoaXMudn1gO1xuICAgICAgICB9XG4gICAgfTtcbn07XG4vKipcbiAqIERlZmluaXRpb24gZm9yIGEgYmFzaWMgPG1vZGVsLXZpZXdlcj4gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kZWxWaWV3ZXJFbGVtZW50QmFzZSBleHRlbmRzIFJlYWN0aXZlRWxlbWVudCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBNb2RlbFZpZXdlckVsZW1lbnQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zcmMgPSBudWxsO1xuICAgICAgICB0aGlzLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2VuZXJhdGVzIGEgM0QgbW9kZWwgc2NoZW1hIGh0dHBzOi8vc2NoZW1hLm9yZy8zRE1vZGVsIGFzc29jaWF0ZWQgd2l0aFxuICAgICAgICAgKiB0aGUgbG9hZGVkIHNyYyBhbmQgaW5zZXJ0cyBpdCBpbnRvIHRoZSBoZWFkZXIgb2YgdGhlIHBhZ2UgZm9yIHNlYXJjaFxuICAgICAgICAgKiBlbmdpbmVzIHRvIGNyYXdsLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW5lcmF0ZVNjaGVtYSA9IGZhbHNlO1xuICAgICAgICB0aGlzW19hXSA9IGZhbHNlO1xuICAgICAgICB0aGlzW19iXSA9IGZhbHNlO1xuICAgICAgICB0aGlzW19jXSA9IDA7XG4gICAgICAgIHRoaXNbX2RdID0gJyc7XG4gICAgICAgIHRoaXNbX2VdID0gbnVsbDtcbiAgICAgICAgdGhpc1tfZl0gPSBkZWJvdW5jZSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib3VuZGluZ1JlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdGhpc1skdXBkYXRlU2l6ZV0oYm91bmRpbmdSZWN0KTtcbiAgICAgICAgfSwgRkFMTEJBQ0tfU0laRV9VUERBVEVfVEhSRVNIT0xEX01TKTtcbiAgICAgICAgdGhpc1tfZ10gPSBkZWJvdW5jZSgob2xkVmlzaWJpbGl0eSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3VmlzaWJpbGl0eSA9IHRoaXMubW9kZWxJc1Zpc2libGU7XG4gICAgICAgICAgICBpZiAobmV3VmlzaWJpbGl0eSAhPT0gb2xkVmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ21vZGVsLXZpc2liaWxpdHknLCB7IGRldGFpbDogeyB2aXNpYmxlOiBuZXdWaXNpYmlsaXR5IH0gfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBBTk5PVU5DRV9NT0RFTF9WSVNJQklMSVRZX0RFQk9VTkNFX1RIUkVTSE9MRCk7XG4gICAgICAgIHRoaXNbX2hdID0gbnVsbDtcbiAgICAgICAgdGhpc1tfal0gPSBudWxsO1xuICAgICAgICB0aGlzW19rXSA9IG5ldyBQcm9ncmVzc1RyYWNrZXIoKTtcbiAgICAgICAgdGhpc1tfbF0gPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzWyRzdGF0dXNFbGVtZW50XS50ZXh0Q29udGVudCA9IHRoaXNbJHN0YXR1c107XG4gICAgICAgIH07XG4gICAgICAgIHRoaXNbX21dID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpc1skc3RhdHVzRWxlbWVudF0udGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpc1tfb10gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2Vycm9yJywgeyBkZXRhaWw6IHsgdHlwZTogJ3dlYmdsY29udGV4dGxvc3QnLCBzb3VyY2VFcnJvcjogZXZlbnQuc291cmNlRXZlbnQgfSB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICBjb25zdCBzaGFkb3dSb290ID0gdGhpcy5zaGFkb3dSb290O1xuICAgICAgICBtYWtlVGVtcGxhdGUoc2hhZG93Um9vdCk7XG4gICAgICAgIHRoaXNbJGNvbnRhaW5lcl0gPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKTtcbiAgICAgICAgdGhpc1skdXNlcklucHV0RWxlbWVudF0gPVxuICAgICAgICAgICAgc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCcudXNlcklucHV0Jyk7XG4gICAgICAgIHRoaXNbJGNhbnZhc10gPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzWyRzdGF0dXNFbGVtZW50XSA9XG4gICAgICAgICAgICBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJyNzdGF0dXMnKTtcbiAgICAgICAgdGhpc1skZGVmYXVsdEFyaWFMYWJlbF0gPVxuICAgICAgICAgICAgdGhpc1skdXNlcklucHV0RWxlbWVudF0uZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICAgIC8vIEJlY2F1c2Ugb2YgcG90ZW50aWFsIHJhY2UgY29uZGl0aW9ucyByZWxhdGVkIHRvIGludm9raW5nIHRoZSBjb25zdHJ1Y3RvclxuICAgICAgICAvLyB3ZSBvbmx5IHVzZSB0aGUgYm91bmRpbmcgcmVjdCB0byBzZXQgdGhlIGluaXRpYWwgc2l6ZSBpZiB0aGUgZWxlbWVudCBpc1xuICAgICAgICAvLyBhbHJlYWR5IGNvbm5lY3RlZCB0byB0aGUgZG9jdW1lbnQ6XG4gICAgICAgIGxldCB3aWR0aCwgaGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB3aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0gVU5TSVpFRF9NRURJQV9XSURUSDtcbiAgICAgICAgICAgIGhlaWdodCA9IFVOU0laRURfTUVESUFfSEVJR0hUO1xuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdW5kZXJseWluZyBNb2RlbFNjZW5lLlxuICAgICAgICB0aGlzWyRzY2VuZV0gPVxuICAgICAgICAgICAgbmV3IE1vZGVsU2NlbmUoeyBjYW52YXM6IHRoaXNbJGNhbnZhc10sIGVsZW1lbnQ6IHRoaXMsIHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICAgIC8vIFVwZGF0ZSBpbml0aWFsIHNpemUgb24gbWljcm90YXNrIHRpbWluZyBzbyB0aGF0IHN1YmNsYXNzZXMgaGF2ZSBhXG4gICAgICAgIC8vIGNoYW5jZSB0byBpbml0aWFsaXplXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpc1skdXBkYXRlU2l6ZV0odGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoSEFTX1JFU0laRV9PQlNFUlZFUikge1xuICAgICAgICAgICAgLy8gU2V0IHVwIGEgcmVzaXplIG9ic2VydmVyIHNvIHdlIGNhbiBzY2FsZSBvdXIgY2FudmFzXG4gICAgICAgICAgICAvLyBpZiBvdXIgPG1vZGVsLXZpZXdlcj4gY2hhbmdlc1xuICAgICAgICAgICAgdGhpc1skcmVzaXplT2JzZXJ2ZXJdID1cbiAgICAgICAgICAgICAgICBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcmVzaXplIGFueXRoaW5nIGlmIGluIEFSIG1vZGU7IG90aGVyd2lzZSB0aGUgY2FudmFzXG4gICAgICAgICAgICAgICAgICAgIC8vIHNjYWxpbmcgdG8gZnVsbHNjcmVlbiBvbiBlbnRlcmluZyBBUiB3aWxsIGNsb2JiZXIgdGhlIGZsYXQvMmRcbiAgICAgICAgICAgICAgICAgICAgLy8gZGltZW5zaW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbJHJlbmRlcmVyXS5pc1ByZXNlbnRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkudGFyZ2V0ID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skdXBkYXRlU2l6ZV0oZW50cnkuY29udGVudFJlY3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEhBU19JTlRFUlNFQ1RJT05fT0JTRVJWRVIpIHtcbiAgICAgICAgICAgIHRoaXNbJGludGVyc2VjdGlvbk9ic2VydmVyXSA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihlbnRyaWVzID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS50YXJnZXQgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9sZFZpc2liaWxpdHkgPSB0aGlzLm1vZGVsSXNWaXNpYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1skaXNFbGVtZW50SW5WaWV3cG9ydF0gPSBlbnRyeS5pc0ludGVyc2VjdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbJGFubm91bmNlTW9kZWxWaXNpYmlsaXR5XShvbGRWaXNpYmlsaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzWyRpc0VsZW1lbnRJblZpZXdwb3J0XSAmJiAhdGhpcy5sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzWyR1cGRhdGVTb3VyY2VdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgcm9vdDogbnVsbCxcbiAgICAgICAgICAgICAgICAvLyBXZSB1c2VkIHRvIGhhdmUgbWFyZ2luIGhlcmUsIGJ1dCBpdCB3YXMgY2F1c2luZyBhbmltYXRlZCBtb2RlbHMgYmVsb3dcbiAgICAgICAgICAgICAgICAvLyB0aGUgZm9sZCB0byBzdGVhbCB0aGUgZnJhbWUgYnVkZ2V0LiBXZWlyZGVyIHN0aWxsLCBpdCB3b3VsZCBhbHNvXG4gICAgICAgICAgICAgICAgLy8gY2F1c2UgaW5wdXQgZXZlbnRzIHRvIGJlIHN3YWxsb3dlZCwgc29tZXRpbWVzIGZvciBzZWNvbmRzIG9uIHRoZVxuICAgICAgICAgICAgICAgIC8vIG1vZGVsIGFib3ZlIHRoZSBmb2xkLCBidXQgb25seSB3aGVuIHRoZSBhbmltYXRlZCBtb2RlbCB3YXMgY29tcGxldGVseVxuICAgICAgICAgICAgICAgIC8vIGJlbG93LiBTZXR0aW5nIHRoaXMgbWFyZ2luIHRvIHplcm8gZml4ZWQgaXQuXG4gICAgICAgICAgICAgICAgcm9vdE1hcmdpbjogJzBweCcsXG4gICAgICAgICAgICAgICAgLy8gV2l0aCB6ZXJvIHRocmVzaG9sZCwgYW4gZWxlbWVudCBhZGphY2VudCB0byBidXQgbm90IGludGVyc2VjdGluZyB0aGVcbiAgICAgICAgICAgICAgICAvLyB2aWV3cG9ydCB3aWxsIGJlIHJlcG9ydGVkIGFzIGludGVyc2VjdGluZywgd2hpY2ggd2lsbCBjYXVzZVxuICAgICAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHJlbmRlcmluZy4gQW55IHNsaWdodCBwb3NpdGl2ZSB0aHJlc2hvbGQgYWxsZXZpYXRlcyB0aGlzLlxuICAgICAgICAgICAgICAgIHRocmVzaG9sZDogMC4wMDAwMSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uIG9ic2VydmVyLCB0aGVuIGFsbCBtb2RlbHMgc2hvdWxkIGJlIHZpc2libGVcbiAgICAgICAgICAgIC8vIGF0IGFsbCB0aW1lczpcbiAgICAgICAgICAgIHRoaXNbJGlzRWxlbWVudEluVmlld3BvcnRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGlzKCkge1xuICAgICAgICByZXR1cm4gJ21vZGVsLXZpZXdlcic7XG4gICAgfVxuICAgIC8qKiBAZXhwb3J0ICovXG4gICAgc3RhdGljIHNldCBtb2RlbENhY2hlU2l6ZSh2YWx1ZSkge1xuICAgICAgICBDYWNoaW5nR0xURkxvYWRlclskZXZpY3Rpb25Qb2xpY3ldLmV2aWN0aW9uVGhyZXNob2xkID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKiBAZXhwb3J0ICovXG4gICAgc3RhdGljIGdldCBtb2RlbENhY2hlU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIENhY2hpbmdHTFRGTG9hZGVyWyRldmljdGlvblBvbGljeV0uZXZpY3Rpb25UaHJlc2hvbGQ7XG4gICAgfVxuICAgIC8qKiBAZXhwb3J0ICovXG4gICAgc3RhdGljIHNldCBtaW5pbXVtUmVuZGVyU2NhbGUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID4gMSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCc8bW9kZWwtdmlld2VyPiBtaW5pbXVtUmVuZGVyU2NhbGUgaGFzIGJlZW4gY2xhbXBlZCB0byBhIG1heGltdW0gdmFsdWUgb2YgMS4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPD0gMCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCc8bW9kZWwtdmlld2VyPiBtaW5pbXVtUmVuZGVyU2NhbGUgaGFzIGJlZW4gY2xhbXBlZCB0byBhIG1pbmltdW0gdmFsdWUgb2YgMC4yNS4nKTtcbiAgICAgICAgfVxuICAgICAgICBSZW5kZXJlci5zaW5nbGV0b24ubWluU2NhbGUgPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqIEBleHBvcnQgKi9cbiAgICBzdGF0aWMgZ2V0IG1pbmltdW1SZW5kZXJTY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlbmRlcmVyLnNpbmdsZXRvbi5taW5TY2FsZTtcbiAgICB9XG4gICAgLyoqIEBleHBvcnQgKi9cbiAgICBnZXQgbG9hZGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skZ2V0TG9hZGVkXSgpO1xuICAgIH1cbiAgICBnZXQgWyhfYSA9ICRpc0VsZW1lbnRJblZpZXdwb3J0LCBfYiA9ICRsb2FkZWQsIF9jID0gJGxvYWRlZFRpbWUsIF9kID0gJHN0YXR1cywgX2UgPSAkY2xlYXJNb2RlbFRpbWVvdXQsIF9mID0gJGZhbGxiYWNrUmVzaXplSGFuZGxlciwgX2cgPSAkYW5ub3VuY2VNb2RlbFZpc2liaWxpdHksIF9oID0gJHJlc2l6ZU9ic2VydmVyLCBfaiA9ICRpbnRlcnNlY3Rpb25PYnNlcnZlciwgX2sgPSAkcHJvZ3Jlc3NUcmFja2VyLCAkcmVuZGVyZXIpXSgpIHtcbiAgICAgICAgcmV0dXJuIFJlbmRlcmVyLnNpbmdsZXRvbjtcbiAgICB9XG4gICAgLyoqIEBleHBvcnQgKi9cbiAgICBnZXQgbW9kZWxJc1Zpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRnZXRNb2RlbElzVmlzaWJsZV0oKTtcbiAgICB9XG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrICYmIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIGlmIChIQVNfUkVTSVpFX09CU0VSVkVSKSB7XG4gICAgICAgICAgICB0aGlzWyRyZXNpemVPYnNlcnZlcl0ub2JzZXJ2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpc1skZmFsbGJhY2tSZXNpemVIYW5kbGVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEhBU19JTlRFUlNFQ1RJT05fT0JTRVJWRVIpIHtcbiAgICAgICAgICAgIHRoaXNbJGludGVyc2VjdGlvbk9ic2VydmVyXS5vYnNlcnZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzWyRvbkZvY3VzXSk7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXNbJG9uQmx1cl0pO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXNbJHJlbmRlcmVyXTtcbiAgICAgICAgcmVuZGVyZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dGxvc3QnLCB0aGlzWyRvbkNvbnRleHRMb3N0XSk7XG4gICAgICAgIHJlbmRlcmVyLnJlZ2lzdGVyU2NlbmUodGhpc1skc2NlbmVdKTtcbiAgICAgICAgaWYgKHRoaXNbJGNsZWFyTW9kZWxUaW1lb3V0XSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLmNsZWFyVGltZW91dCh0aGlzWyRjbGVhck1vZGVsVGltZW91dF0pO1xuICAgICAgICAgICAgdGhpc1skY2xlYXJNb2RlbFRpbWVvdXRdID0gbnVsbDtcbiAgICAgICAgICAgIC8vIEZvcmNlIGFuIHVwZGF0ZSBpbiBjYXNlIHRoZSBtb2RlbCBoYXMgYmVlbiBldmljdGVkIGZyb20gb3VyIEdMVEYgY2FjaGVcbiAgICAgICAgICAgIC8vIEBzZWUgaHR0cHM6Ly9saXQtZWxlbWVudC5wb2x5bWVyLXByb2plY3Qub3JnL2d1aWRlL2xpZmVjeWNsZSNyZXF1ZXN0dXBkYXRlXG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoJ3NyYycsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjayAmJiBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICBpZiAoSEFTX1JFU0laRV9PQlNFUlZFUikge1xuICAgICAgICAgICAgdGhpc1skcmVzaXplT2JzZXJ2ZXJdLnVub2JzZXJ2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpc1skZmFsbGJhY2tSZXNpemVIYW5kbGVyXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEhBU19JTlRFUlNFQ1RJT05fT0JTRVJWRVIpIHtcbiAgICAgICAgICAgIHRoaXNbJGludGVyc2VjdGlvbk9ic2VydmVyXS51bm9ic2VydmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXNbJG9uRm9jdXNdKTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgdGhpc1skb25CbHVyXSk7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpc1skcmVuZGVyZXJdO1xuICAgICAgICByZW5kZXJlci5yZW1vdmVFdmVudExpc3RlbmVyKCdjb250ZXh0bG9zdCcsIHRoaXNbJG9uQ29udGV4dExvc3RdKTtcbiAgICAgICAgcmVuZGVyZXIudW5yZWdpc3RlclNjZW5lKHRoaXNbJHNjZW5lXSk7XG4gICAgICAgIHRoaXNbJGNsZWFyTW9kZWxUaW1lb3V0XSA9IHNlbGYuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzWyRzY2VuZV0uZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpc1skY2xlYXJNb2RlbFRpbWVvdXRdID0gbnVsbDtcbiAgICAgICAgfSwgQ0xFQVJfTU9ERUxfVElNRU9VVF9NUyk7XG4gICAgfVxuICAgIHVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIudXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIC8vIE5PVEUoY2RhdGEpOiBJZiBhIHByb3BlcnR5IGNoYW5nZXMgZnJvbSB2YWx1ZXMgQSAtPiBCIC0+IEEgaW4gdGhlIHNwYWNlXG4gICAgICAgIC8vIG9mIGEgbWljcm90YXNrLCBMaXRFbGVtZW50L1VwZGF0aW5nRWxlbWVudCB3aWxsIG5vdGlmeSBvZiBhIGNoYW5nZSBldmVuXG4gICAgICAgIC8vIHRob3VnaCB0aGUgdmFsdWUgaGFzIGVmZmVjdGl2ZWx5IG5vdCBjaGFuZ2VkLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIHRvIG1ha2VcbiAgICAgICAgLy8gc3VyZSB0aGF0IHRoZSB2YWx1ZSBoYXMgYWN0dWFsbHkgY2hhbmdlZCBiZWZvcmUgY2hhbmdpbmcgdGhlIGxvYWRlZCBmbGFnLlxuICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdzcmMnKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3JjID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRsb2FkZWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpc1skbG9hZGVkVGltZV0gPSAwO1xuICAgICAgICAgICAgICAgIHRoaXNbJHNjZW5lXS5yZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zcmMgIT09IHRoaXNbJHNjZW5lXS51cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRsb2FkZWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpc1skbG9hZGVkVGltZV0gPSAwO1xuICAgICAgICAgICAgICAgIHRoaXNbJHVwZGF0ZVNvdXJjZV0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlZFByb3BlcnRpZXMuaGFzKCdhbHQnKSkge1xuICAgICAgICAgICAgdGhpc1skdXNlcklucHV0RWxlbWVudF0uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgdGhpc1skYXJpYUxhYmVsXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWRQcm9wZXJ0aWVzLmhhcygnd2l0aENyZWRlbnRpYWxzJykpIHtcbiAgICAgICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLndpdGhDcmVkZW50aWFscyA9IHRoaXMud2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VkUHJvcGVydGllcy5oYXMoJ2dlbmVyYXRlU2NoZW1hJykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdlbmVyYXRlU2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skc2NlbmVdLnVwZGF0ZVNjaGVtYSh0aGlzLnNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRzY2VuZV0udXBkYXRlU2NoZW1hKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBAZXhwb3J0ICovXG4gICAgdG9EYXRhVVJMKHR5cGUsIGVuY29kZXJPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRyZW5kZXJlcl1cbiAgICAgICAgICAgIC5kaXNwbGF5Q2FudmFzKHRoaXNbJHNjZW5lXSlcbiAgICAgICAgICAgIC50b0RhdGFVUkwodHlwZSwgZW5jb2Rlck9wdGlvbnMpO1xuICAgIH1cbiAgICAvKiogQGV4cG9ydCAqL1xuICAgIGFzeW5jIHRvQmxvYihvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG1pbWVUeXBlID0gb3B0aW9ucyA/IG9wdGlvbnMubWltZVR5cGUgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHF1YWxpdHlBcmd1bWVudCA9IG9wdGlvbnMgPyBvcHRpb25zLnF1YWxpdHlBcmd1bWVudCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgdXNlSWRlYWxBc3BlY3QgPSBvcHRpb25zID8gb3B0aW9ucy5pZGVhbEFzcGVjdCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBpZGVhbEFzcGVjdCwgYXNwZWN0IH0gPSB0aGlzWyRzY2VuZV07XG4gICAgICAgIGNvbnN0IHsgZHByLCBzY2FsZUZhY3RvciB9ID0gdGhpc1skcmVuZGVyZXJdO1xuICAgICAgICBsZXQgb3V0cHV0V2lkdGggPSB3aWR0aCAqIHNjYWxlRmFjdG9yICogZHByO1xuICAgICAgICBsZXQgb3V0cHV0SGVpZ2h0ID0gaGVpZ2h0ICogc2NhbGVGYWN0b3IgKiBkcHI7XG4gICAgICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICAgICAgbGV0IG9mZnNldFkgPSAwO1xuICAgICAgICBpZiAodXNlSWRlYWxBc3BlY3QgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChpZGVhbEFzcGVjdCA+IGFzcGVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9sZEhlaWdodCA9IG91dHB1dEhlaWdodDtcbiAgICAgICAgICAgICAgICBvdXRwdXRIZWlnaHQgPSBNYXRoLnJvdW5kKG91dHB1dFdpZHRoIC8gaWRlYWxBc3BlY3QpO1xuICAgICAgICAgICAgICAgIG9mZnNldFkgPSAob2xkSGVpZ2h0IC0gb3V0cHV0SGVpZ2h0KSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvbGRXaWR0aCA9IG91dHB1dFdpZHRoO1xuICAgICAgICAgICAgICAgIG91dHB1dFdpZHRoID0gTWF0aC5yb3VuZChvdXRwdXRIZWlnaHQgKiBpZGVhbEFzcGVjdCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0WCA9IChvbGRXaWR0aCAtIG91dHB1dFdpZHRoKSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYmxvYkNhbnZhcy53aWR0aCA9IG91dHB1dFdpZHRoO1xuICAgICAgICBibG9iQ2FudmFzLmhlaWdodCA9IG91dHB1dEhlaWdodDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgYmxvYkNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh0aGlzWyRyZW5kZXJlcl0uZGlzcGxheUNhbnZhcyh0aGlzWyRzY2VuZV0pLCBvZmZzZXRYLCBvZmZzZXRZLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0LCAwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBpZiAoYmxvYkNhbnZhcy5tc1RvQmxvYikge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBtc1RvQmxvYiBvbmx5IHJldHVybnMgaW1hZ2UvcG5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIGVuc3VyZSBtaW1lVHlwZSBpcyBub3Qgc3BlY2lmaWVkIChkZWZhdWx0cyB0byBpbWFnZS9wbmcpXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIGlzIGltYWdlL3BuZywgb3RoZXJ3aXNlIGZhbGxiYWNrIHRvIHVzaW5nIHRvRGF0YVVSTCBvbiBJRS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtaW1lVHlwZSB8fCBtaW1lVHlwZSA9PT0gJ2ltYWdlL3BuZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGJsb2JDYW52YXMubXNUb0Jsb2IoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFibG9iQ2FudmFzLnRvQmxvYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShhd2FpdCBkYXRhVXJsVG9CbG9iKGJsb2JDYW52YXMudG9EYXRhVVJMKG1pbWVUeXBlLCBxdWFsaXR5QXJndW1lbnQpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJsb2JDYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYmxvYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXRyaWV2ZSBjYW52YXMgYmxvYicpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGJsb2IpO1xuICAgICAgICAgICAgICAgIH0sIG1pbWVUeXBlLCBxdWFsaXR5QXJndW1lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzWyR1cGRhdGVTaXplXSh7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgO1xuICAgIH1cbiAgICByZWdpc3RlclJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgICAgIHRoaXNbJHNjZW5lXS5leHRlcm5hbFJlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuICAgIHVucmVnaXN0ZXJSZW5kZXJlcigpIHtcbiAgICAgICAgdGhpc1skc2NlbmVdLmV4dGVybmFsUmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbiAgICBnZXQgWyRhcmlhTGFiZWxdKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skYWx0RGVmYXVsdGVkXTtcbiAgICB9XG4gICAgZ2V0IFskYWx0RGVmYXVsdGVkXSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmFsdCA9PSBudWxsIHx8IHRoaXMuYWx0ID09PSAnbnVsbCcpID8gdGhpc1skZGVmYXVsdEFyaWFMYWJlbF0gOlxuICAgICAgICAgICAgdGhpcy5hbHQ7XG4gICAgfVxuICAgIC8vIE5PVEUoY2RhdGEpOiBBbHRob3VnaCB0aGlzIG1heSBzZWVtIGV4dHJlbWVseSByZWR1bmRhbnQsIGl0IGlzIHJlcXVpcmVkIGluXG4gICAgLy8gb3JkZXIgdG8gc3VwcG9ydCBvdmVybG9hZGluZyB3aGVuIFR5cGVTY3JpcHQgaXMgY29tcGlsZWQgdG8gRVM1XG4gICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vUG9seW1lci9saXQtZWxlbWVudC9wdWxsLzc0NVxuICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzhcbiAgICBbJGdldExvYWRlZF0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRsb2FkZWRdO1xuICAgIH1cbiAgICAvLyBAc2VlIFskZ2V0TG9hZGVkXVxuICAgIFskZ2V0TW9kZWxJc1Zpc2libGVdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZWQgJiYgdGhpc1skaXNFbGVtZW50SW5WaWV3cG9ydF07XG4gICAgfVxuICAgIFskc2hvdWxkQXR0ZW1wdFByZWxvYWRdKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNyYyAmJiB0aGlzWyRpc0VsZW1lbnRJblZpZXdwb3J0XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGluaXRpYWxpemF0aW9uIGFuZCB3aGVuIHRoZSByZXNpemUgb2JzZXJ2ZXIgZmlyZXMuXG4gICAgICovXG4gICAgWyR1cGRhdGVTaXplXSh7IHdpZHRoLCBoZWlnaHQgfSkge1xuICAgICAgICB0aGlzWyRjb250YWluZXJdLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzWyRjb250YWluZXJdLnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgICAgIHRoaXNbJG9uUmVzaXplXSh7IHdpZHRoOiBwYXJzZUZsb2F0KHdpZHRoKSwgaGVpZ2h0OiBwYXJzZUZsb2F0KGhlaWdodCkgfSk7XG4gICAgfVxuICAgIFskdGlja10oX3RpbWUsIF9kZWx0YSkge1xuICAgIH1cbiAgICBbJG1hcmtMb2FkZWRdKCkge1xuICAgICAgICBpZiAodGhpc1skbG9hZGVkXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJGxvYWRlZF0gPSB0cnVlO1xuICAgICAgICB0aGlzWyRsb2FkZWRUaW1lXSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgICBbJG5lZWRzUmVuZGVyXSgpIHtcbiAgICAgICAgdGhpc1skc2NlbmVdLnF1ZXVlUmVuZGVyKCk7XG4gICAgfVxuICAgIFskb25Nb2RlbExvYWRdKCkge1xuICAgIH1cbiAgICBbJHVwZGF0ZVN0YXR1c10oc3RhdHVzKSB7XG4gICAgICAgIHRoaXNbJHN0YXR1c10gPSBzdGF0dXM7XG4gICAgICAgIGNvbnN0IHJvb3ROb2RlID0gdGhpcy5nZXRSb290Tm9kZSgpO1xuICAgICAgICAvLyBPbmx5IGNoYW5nZSB0aGUgYXJpYS1sYWJlbCBpZiA8bW9kZWwtdmlld2VyPiBpcyBjdXJyZW50bHkgZm9jdXNlZDpcbiAgICAgICAgaWYgKHJvb3ROb2RlICE9IG51bGwgJiYgcm9vdE5vZGUuYWN0aXZlRWxlbWVudCA9PT0gdGhpcyAmJlxuICAgICAgICAgICAgdGhpc1skc3RhdHVzRWxlbWVudF0udGV4dENvbnRlbnQgIT0gc3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzWyRzdGF0dXNFbGVtZW50XS50ZXh0Q29udGVudCA9IHN0YXR1cztcbiAgICAgICAgfVxuICAgIH1cbiAgICBbKF9sID0gJG9uRm9jdXMsIF9tID0gJG9uQmx1ciwgJG9uUmVzaXplKV0oZSkge1xuICAgICAgICB0aGlzWyRzY2VuZV0uc2V0U2l6ZShlLndpZHRoLCBlLmhlaWdodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgZWxlbWVudCBmb3IgYW4gYXBwcm9wcmlhdGUgc291cmNlIFVSTCBhbmRcbiAgICAgKiBzZXRzIHRoZSB2aWV3cyB0byB1c2UgdGhlIG5ldyBtb2RlbCBiYXNlZC5cbiAgICAgKi9cbiAgICBhc3luYyBbKF9vID0gJG9uQ29udGV4dExvc3QsICR1cGRhdGVTb3VyY2UpXSgpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzWyRzY2VuZV07XG4gICAgICAgIGlmICh0aGlzLmxvYWRlZCB8fCAhdGhpc1skc2hvdWxkQXR0ZW1wdFByZWxvYWRdKCkgfHxcbiAgICAgICAgICAgIHRoaXMuc3JjID09PSBzY2VuZS51cmwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZVNjaGVtYSkge1xuICAgICAgICAgICAgc2NlbmUudXBkYXRlU2NoZW1hKHRoaXMuc3JjKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWyR1cGRhdGVTdGF0dXNdKCdMb2FkaW5nJyk7XG4gICAgICAgIC8vIElmIHdlIGFyZSBsb2FkaW5nIGEgbmV3IG1vZGVsLCB3ZSBuZWVkIHRvIHN0b3AgdGhlIGFuaW1hdGlvbiBvZlxuICAgICAgICAvLyB0aGUgY3VycmVudCBvbmUgKGlmIGFueSBpcyBwbGF5aW5nKS4gT3RoZXJ3aXNlLCB3ZSBtaWdodCBsb3NlXG4gICAgICAgIC8vIHRoZSByZWZlcmVuY2UgdG8gdGhlIHNjZW5lIHJvb3QgYW5kIHJ1bm5pbmcgYWN0aW9ucyBzdGFydCB0b1xuICAgICAgICAvLyB0aHJvdyBleGNlcHRpb25zIGFuZC9vciBiZWhhdmUgaW4gdW5leHBlY3RlZCB3YXlzOlxuICAgICAgICBzY2VuZS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVNvdXJjZVByb2dyZXNzID0gdGhpc1skcHJvZ3Jlc3NUcmFja2VyXS5iZWdpbkFjdGl2aXR5KCk7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc3JjO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3JjVXBkYXRlZCA9IHNjZW5lLnNldFNvdXJjZShzb3VyY2UsIChwcm9ncmVzcykgPT4gdXBkYXRlU291cmNlUHJvZ3Jlc3MoY2xhbXAocHJvZ3Jlc3MsIDAsIDEpICogMC45NSkpO1xuICAgICAgICAgICAgY29uc3QgZW52VXBkYXRlZCA9IHRoaXNbJHVwZGF0ZUVudmlyb25tZW50XSgpO1xuICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW3NyY1VwZGF0ZWQsIGVudlVwZGF0ZWRdKTtcbiAgICAgICAgICAgIHRoaXNbJG1hcmtMb2FkZWRdKCk7XG4gICAgICAgICAgICB0aGlzWyRvbk1vZGVsTG9hZF0oKTtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHNoYWRlcnMgdG8gY29tcGlsZSBhbmQgcGl4ZWxzIHRvIGJlIGRyYXduLlxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xvYWQnLCB7IGRldGFpbDogeyB1cmw6IHNvdXJjZSB9IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2Vycm9yJywgeyBkZXRhaWw6IHsgdHlwZTogJ2xvYWRmYWlsdXJlJywgc291cmNlRXJyb3I6IGVycm9yIH0gfSkpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdXBkYXRlU291cmNlUHJvZ3Jlc3MoMS4wKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG5dLCBNb2RlbFZpZXdlckVsZW1lbnRCYXNlLnByb3RvdHlwZSwgXCJhbHRcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogU3RyaW5nIH0pXG5dLCBNb2RlbFZpZXdlckVsZW1lbnRCYXNlLnByb3RvdHlwZSwgXCJzcmNcIiwgdm9pZCAwKTtcbl9fZGVjb3JhdGUoW1xuICAgIHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgYXR0cmlidXRlOiAnd2l0aC1jcmVkZW50aWFscycgfSlcbl0sIE1vZGVsVmlld2VyRWxlbWVudEJhc2UucHJvdG90eXBlLCBcIndpdGhDcmVkZW50aWFsc1wiLCB2b2lkIDApO1xuX19kZWNvcmF0ZShbXG4gICAgcHJvcGVydHkoeyB0eXBlOiBCb29sZWFuLCBhdHRyaWJ1dGU6ICdnZW5lcmF0ZS1zY2hlbWEnIH0pXG5dLCBNb2RlbFZpZXdlckVsZW1lbnRCYXNlLnByb3RvdHlwZSwgXCJnZW5lcmF0ZVNjaGVtYVwiLCB2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZWwtdmlld2VyLWJhc2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/model-viewer.js":
/*!***************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/model-viewer.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelViewerElement: () => (/* binding */ ModelViewerElement)\n/* harmony export */ });\n/* harmony import */ var _features_animation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./features/animation.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/animation.js\");\n/* harmony import */ var _features_annotation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./features/annotation.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/annotation.js\");\n/* harmony import */ var _features_ar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./features/ar.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/ar.js\");\n/* harmony import */ var _features_controls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./features/controls.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _features_loading_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./features/loading.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/loading.js\");\n/* harmony import */ var _features_scene_graph_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./features/scene-graph.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js\");\n/* harmony import */ var _features_staging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./features/staging.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/staging.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_focus_visible_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utilities/focus-visible.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/focus-visible.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n\n\n\n\n\n\n// Uncomment these lines to export PMREM textures in Glitch:\n// export {default as TextureUtils} from './three-components/TextureUtils';\n// export * from 'three';\nconst ModelViewerElement = (0,_features_annotation_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationMixin)((0,_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_6__.SceneGraphMixin)((0,_features_staging_js__WEBPACK_IMPORTED_MODULE_7__.StagingMixin)((0,_features_environment_js__WEBPACK_IMPORTED_MODULE_4__.EnvironmentMixin)((0,_features_controls_js__WEBPACK_IMPORTED_MODULE_3__.ControlsMixin)((0,_features_ar_js__WEBPACK_IMPORTED_MODULE_2__.ARMixin)((0,_features_loading_js__WEBPACK_IMPORTED_MODULE_5__.LoadingMixin)((0,_features_animation_js__WEBPACK_IMPORTED_MODULE_0__.AnimationMixin)((0,_utilities_focus_visible_js__WEBPACK_IMPORTED_MODULE_9__.FocusVisiblePolyfillMixin)(_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"])))))))));\ncustomElements.define('model-viewer', ModelViewerElement);\n//# sourceMappingURL=model-viewer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL21vZGVsLXZpZXdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUQ7QUFDRTtBQUNoQjtBQUNZO0FBQ007QUFDUjtBQUNPO0FBQ1A7QUFDTztBQUNhO0FBQ3pFO0FBQ0EsV0FBVyx5QkFBeUI7QUFDcEM7QUFDTywyQkFBMkIsd0VBQWUsQ0FBQyx5RUFBZSxDQUFDLGtFQUFZLENBQUMsMEVBQWdCLENBQUMsb0VBQWEsQ0FBQyx3REFBTyxDQUFDLGtFQUFZLENBQUMsc0VBQWMsQ0FBQyxzRkFBeUIsQ0FBQyw2REFBc0I7QUFDbE07QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL21vZGVsLXZpZXdlci5qcz8zOGI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEFuaW1hdGlvbk1peGluIH0gZnJvbSAnLi9mZWF0dXJlcy9hbmltYXRpb24uanMnO1xuaW1wb3J0IHsgQW5ub3RhdGlvbk1peGluIH0gZnJvbSAnLi9mZWF0dXJlcy9hbm5vdGF0aW9uLmpzJztcbmltcG9ydCB7IEFSTWl4aW4gfSBmcm9tICcuL2ZlYXR1cmVzL2FyLmpzJztcbmltcG9ydCB7IENvbnRyb2xzTWl4aW4gfSBmcm9tICcuL2ZlYXR1cmVzL2NvbnRyb2xzLmpzJztcbmltcG9ydCB7IEVudmlyb25tZW50TWl4aW4gfSBmcm9tICcuL2ZlYXR1cmVzL2Vudmlyb25tZW50LmpzJztcbmltcG9ydCB7IExvYWRpbmdNaXhpbiB9IGZyb20gJy4vZmVhdHVyZXMvbG9hZGluZy5qcyc7XG5pbXBvcnQgeyBTY2VuZUdyYXBoTWl4aW4gfSBmcm9tICcuL2ZlYXR1cmVzL3NjZW5lLWdyYXBoLmpzJztcbmltcG9ydCB7IFN0YWdpbmdNaXhpbiB9IGZyb20gJy4vZmVhdHVyZXMvc3RhZ2luZy5qcyc7XG5pbXBvcnQgTW9kZWxWaWV3ZXJFbGVtZW50QmFzZSBmcm9tICcuL21vZGVsLXZpZXdlci1iYXNlLmpzJztcbmltcG9ydCB7IEZvY3VzVmlzaWJsZVBvbHlmaWxsTWl4aW4gfSBmcm9tICcuL3V0aWxpdGllcy9mb2N1cy12aXNpYmxlLmpzJztcbi8vIFVuY29tbWVudCB0aGVzZSBsaW5lcyB0byBleHBvcnQgUE1SRU0gdGV4dHVyZXMgaW4gR2xpdGNoOlxuLy8gZXhwb3J0IHtkZWZhdWx0IGFzIFRleHR1cmVVdGlsc30gZnJvbSAnLi90aHJlZS1jb21wb25lbnRzL1RleHR1cmVVdGlscyc7XG4vLyBleHBvcnQgKiBmcm9tICd0aHJlZSc7XG5leHBvcnQgY29uc3QgTW9kZWxWaWV3ZXJFbGVtZW50ID0gQW5ub3RhdGlvbk1peGluKFNjZW5lR3JhcGhNaXhpbihTdGFnaW5nTWl4aW4oRW52aXJvbm1lbnRNaXhpbihDb250cm9sc01peGluKEFSTWl4aW4oTG9hZGluZ01peGluKEFuaW1hdGlvbk1peGluKEZvY3VzVmlzaWJsZVBvbHlmaWxsTWl4aW4oTW9kZWxWaWV3ZXJFbGVtZW50QmFzZSkpKSkpKSkpKTtcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbW9kZWwtdmlld2VyJywgTW9kZWxWaWV3ZXJFbGVtZW50KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZGVsLXZpZXdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/model-viewer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/conversions.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   degreesToRadians: () => (/* binding */ degreesToRadians),\n/* harmony export */   lengthToBaseMeters: () => (/* binding */ lengthToBaseMeters),\n/* harmony export */   normalizeUnit: () => (/* binding */ normalizeUnit),\n/* harmony export */   radiansToDegrees: () => (/* binding */ radiansToDegrees)\n/* harmony export */ });\n/* harmony import */ var _parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Ensures that a given number is expressed in radians. If the number is already\n * in radians, does nothing. If the value is in degrees, converts it to radians.\n * If the value has no specified unit, the unit is assumed to be radians. If the\n * value is not in radians or degrees, the value is resolved as 0 radians.\n *\n * Also accepts a second argument that is a default value to use if the input\n * numberNode number is NaN or Infinity.\n */\nconst degreesToRadians = (numberNode, fallbackRadianValue = 0) => {\n    let { number, unit } = numberNode;\n    if (!isFinite(number)) {\n        number = fallbackRadianValue;\n        unit = 'rad';\n    }\n    else if (numberNode.unit === 'rad' || numberNode.unit == null) {\n        return numberNode;\n    }\n    const valueIsDegrees = unit === 'deg' && number != null;\n    const value = valueIsDegrees ? number : 0;\n    const radians = value * Math.PI / 180;\n    return { type: 'number', number: radians, unit: 'rad' };\n};\n/**\n * Ensures that a given number is expressed in degrees. If the number is already\n * in degrees, does nothing. If the value is in radians or has no specified\n * unit, converts it to degrees. If the value is not in radians or degrees, the\n * value is resolved as 0 degrees.\n *\n * Also accepts a second argument that is a default value to use if the input\n * numberNode number is NaN or Infinity.\n */\nconst radiansToDegrees = (numberNode, fallbackDegreeValue = 0) => {\n    let { number, unit } = numberNode;\n    if (!isFinite(number)) {\n        number = fallbackDegreeValue;\n        unit = 'deg';\n    }\n    else if (numberNode.unit === 'deg') {\n        return numberNode;\n    }\n    const valueIsRadians = (unit === null || unit === 'rad') && number != null;\n    const value = valueIsRadians ? number : 0;\n    const degrees = value * 180 / Math.PI;\n    return { type: 'number', number: degrees, unit: 'deg' };\n};\n/**\n * Converts a given length to meters. Currently supported input units are\n * meters, centimeters and millimeters.\n *\n * Also accepts a second argument that is a default value to use if the input\n * numberNode number is NaN or Infinity.\n */\nconst lengthToBaseMeters = (numberNode, fallbackMeterValue = 0) => {\n    let { number, unit } = numberNode;\n    if (!isFinite(number)) {\n        number = fallbackMeterValue;\n        unit = 'm';\n    }\n    else if (numberNode.unit === 'm') {\n        return numberNode;\n    }\n    let scale;\n    switch (unit) {\n        default:\n            scale = 1;\n            break;\n        case 'cm':\n            scale = 1 / 100;\n            break;\n        case 'mm':\n            scale = 1 / 1000;\n            break;\n    }\n    const value = scale * number;\n    return { type: 'number', number: value, unit: 'm' };\n};\n/**\n * Normalizes the unit of a given input number so that it is expressed in a\n * preferred unit. For length nodes, the return value will be expressed in\n * meters. For angle nodes, the return value will be expressed in radians.\n *\n * Also takes a fallback number that is used when the number value is not a\n * valid number or when the unit of the given number cannot be normalized.\n */\nconst normalizeUnit = (() => {\n    const identity = (node) => node;\n    const unitNormalizers = {\n        'rad': identity,\n        'deg': degreesToRadians,\n        'm': identity,\n        'mm': lengthToBaseMeters,\n        'cm': lengthToBaseMeters\n    };\n    return (node, fallback = _parsers__WEBPACK_IMPORTED_MODULE_0__.ZERO) => {\n        if (!isFinite(node.number)) {\n            node.number = fallback.number;\n            node.unit = fallback.unit;\n        }\n        const { unit } = node;\n        if (unit == null) {\n            return node;\n        }\n        const normalize = unitNormalizers[unit];\n        if (normalize == null) {\n            return fallback;\n        }\n        return normalize(node);\n    };\n})();\n//# sourceMappingURL=conversions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9jb252ZXJzaW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxVQUFVLGVBQWU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFVBQVUsZUFBZTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxVQUFVLGVBQWU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMENBQUk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi9zdHlsZXMvY29udmVyc2lvbnMuanM/NTNlNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBaRVJPIH0gZnJvbSAnLi9wYXJzZXJzJztcbi8qKlxuICogRW5zdXJlcyB0aGF0IGEgZ2l2ZW4gbnVtYmVyIGlzIGV4cHJlc3NlZCBpbiByYWRpYW5zLiBJZiB0aGUgbnVtYmVyIGlzIGFscmVhZHlcbiAqIGluIHJhZGlhbnMsIGRvZXMgbm90aGluZy4gSWYgdGhlIHZhbHVlIGlzIGluIGRlZ3JlZXMsIGNvbnZlcnRzIGl0IHRvIHJhZGlhbnMuXG4gKiBJZiB0aGUgdmFsdWUgaGFzIG5vIHNwZWNpZmllZCB1bml0LCB0aGUgdW5pdCBpcyBhc3N1bWVkIHRvIGJlIHJhZGlhbnMuIElmIHRoZVxuICogdmFsdWUgaXMgbm90IGluIHJhZGlhbnMgb3IgZGVncmVlcywgdGhlIHZhbHVlIGlzIHJlc29sdmVkIGFzIDAgcmFkaWFucy5cbiAqXG4gKiBBbHNvIGFjY2VwdHMgYSBzZWNvbmQgYXJndW1lbnQgdGhhdCBpcyBhIGRlZmF1bHQgdmFsdWUgdG8gdXNlIGlmIHRoZSBpbnB1dFxuICogbnVtYmVyTm9kZSBudW1iZXIgaXMgTmFOIG9yIEluZmluaXR5LlxuICovXG5leHBvcnQgY29uc3QgZGVncmVlc1RvUmFkaWFucyA9IChudW1iZXJOb2RlLCBmYWxsYmFja1JhZGlhblZhbHVlID0gMCkgPT4ge1xuICAgIGxldCB7IG51bWJlciwgdW5pdCB9ID0gbnVtYmVyTm9kZTtcbiAgICBpZiAoIWlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgbnVtYmVyID0gZmFsbGJhY2tSYWRpYW5WYWx1ZTtcbiAgICAgICAgdW5pdCA9ICdyYWQnO1xuICAgIH1cbiAgICBlbHNlIGlmIChudW1iZXJOb2RlLnVuaXQgPT09ICdyYWQnIHx8IG51bWJlck5vZGUudW5pdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudW1iZXJOb2RlO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZUlzRGVncmVlcyA9IHVuaXQgPT09ICdkZWcnICYmIG51bWJlciAhPSBudWxsO1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVJc0RlZ3JlZXMgPyBudW1iZXIgOiAwO1xuICAgIGNvbnN0IHJhZGlhbnMgPSB2YWx1ZSAqIE1hdGguUEkgLyAxODA7XG4gICAgcmV0dXJuIHsgdHlwZTogJ251bWJlcicsIG51bWJlcjogcmFkaWFucywgdW5pdDogJ3JhZCcgfTtcbn07XG4vKipcbiAqIEVuc3VyZXMgdGhhdCBhIGdpdmVuIG51bWJlciBpcyBleHByZXNzZWQgaW4gZGVncmVlcy4gSWYgdGhlIG51bWJlciBpcyBhbHJlYWR5XG4gKiBpbiBkZWdyZWVzLCBkb2VzIG5vdGhpbmcuIElmIHRoZSB2YWx1ZSBpcyBpbiByYWRpYW5zIG9yIGhhcyBubyBzcGVjaWZpZWRcbiAqIHVuaXQsIGNvbnZlcnRzIGl0IHRvIGRlZ3JlZXMuIElmIHRoZSB2YWx1ZSBpcyBub3QgaW4gcmFkaWFucyBvciBkZWdyZWVzLCB0aGVcbiAqIHZhbHVlIGlzIHJlc29sdmVkIGFzIDAgZGVncmVlcy5cbiAqXG4gKiBBbHNvIGFjY2VwdHMgYSBzZWNvbmQgYXJndW1lbnQgdGhhdCBpcyBhIGRlZmF1bHQgdmFsdWUgdG8gdXNlIGlmIHRoZSBpbnB1dFxuICogbnVtYmVyTm9kZSBudW1iZXIgaXMgTmFOIG9yIEluZmluaXR5LlxuICovXG5leHBvcnQgY29uc3QgcmFkaWFuc1RvRGVncmVlcyA9IChudW1iZXJOb2RlLCBmYWxsYmFja0RlZ3JlZVZhbHVlID0gMCkgPT4ge1xuICAgIGxldCB7IG51bWJlciwgdW5pdCB9ID0gbnVtYmVyTm9kZTtcbiAgICBpZiAoIWlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgbnVtYmVyID0gZmFsbGJhY2tEZWdyZWVWYWx1ZTtcbiAgICAgICAgdW5pdCA9ICdkZWcnO1xuICAgIH1cbiAgICBlbHNlIGlmIChudW1iZXJOb2RlLnVuaXQgPT09ICdkZWcnKSB7XG4gICAgICAgIHJldHVybiBudW1iZXJOb2RlO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZUlzUmFkaWFucyA9ICh1bml0ID09PSBudWxsIHx8IHVuaXQgPT09ICdyYWQnKSAmJiBudW1iZXIgIT0gbnVsbDtcbiAgICBjb25zdCB2YWx1ZSA9IHZhbHVlSXNSYWRpYW5zID8gbnVtYmVyIDogMDtcbiAgICBjb25zdCBkZWdyZWVzID0gdmFsdWUgKiAxODAgLyBNYXRoLlBJO1xuICAgIHJldHVybiB7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IGRlZ3JlZXMsIHVuaXQ6ICdkZWcnIH07XG59O1xuLyoqXG4gKiBDb252ZXJ0cyBhIGdpdmVuIGxlbmd0aCB0byBtZXRlcnMuIEN1cnJlbnRseSBzdXBwb3J0ZWQgaW5wdXQgdW5pdHMgYXJlXG4gKiBtZXRlcnMsIGNlbnRpbWV0ZXJzIGFuZCBtaWxsaW1ldGVycy5cbiAqXG4gKiBBbHNvIGFjY2VwdHMgYSBzZWNvbmQgYXJndW1lbnQgdGhhdCBpcyBhIGRlZmF1bHQgdmFsdWUgdG8gdXNlIGlmIHRoZSBpbnB1dFxuICogbnVtYmVyTm9kZSBudW1iZXIgaXMgTmFOIG9yIEluZmluaXR5LlxuICovXG5leHBvcnQgY29uc3QgbGVuZ3RoVG9CYXNlTWV0ZXJzID0gKG51bWJlck5vZGUsIGZhbGxiYWNrTWV0ZXJWYWx1ZSA9IDApID0+IHtcbiAgICBsZXQgeyBudW1iZXIsIHVuaXQgfSA9IG51bWJlck5vZGU7XG4gICAgaWYgKCFpc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgIG51bWJlciA9IGZhbGxiYWNrTWV0ZXJWYWx1ZTtcbiAgICAgICAgdW5pdCA9ICdtJztcbiAgICB9XG4gICAgZWxzZSBpZiAobnVtYmVyTm9kZS51bml0ID09PSAnbScpIHtcbiAgICAgICAgcmV0dXJuIG51bWJlck5vZGU7XG4gICAgfVxuICAgIGxldCBzY2FsZTtcbiAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHNjYWxlID0gMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjbSc6XG4gICAgICAgICAgICBzY2FsZSA9IDEgLyAxMDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW0nOlxuICAgICAgICAgICAgc2NhbGUgPSAxIC8gMTAwMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IHNjYWxlICogbnVtYmVyO1xuICAgIHJldHVybiB7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IHZhbHVlLCB1bml0OiAnbScgfTtcbn07XG4vKipcbiAqIE5vcm1hbGl6ZXMgdGhlIHVuaXQgb2YgYSBnaXZlbiBpbnB1dCBudW1iZXIgc28gdGhhdCBpdCBpcyBleHByZXNzZWQgaW4gYVxuICogcHJlZmVycmVkIHVuaXQuIEZvciBsZW5ndGggbm9kZXMsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSBleHByZXNzZWQgaW5cbiAqIG1ldGVycy4gRm9yIGFuZ2xlIG5vZGVzLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgZXhwcmVzc2VkIGluIHJhZGlhbnMuXG4gKlxuICogQWxzbyB0YWtlcyBhIGZhbGxiYWNrIG51bWJlciB0aGF0IGlzIHVzZWQgd2hlbiB0aGUgbnVtYmVyIHZhbHVlIGlzIG5vdCBhXG4gKiB2YWxpZCBudW1iZXIgb3Igd2hlbiB0aGUgdW5pdCBvZiB0aGUgZ2l2ZW4gbnVtYmVyIGNhbm5vdCBiZSBub3JtYWxpemVkLlxuICovXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplVW5pdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgaWRlbnRpdHkgPSAobm9kZSkgPT4gbm9kZTtcbiAgICBjb25zdCB1bml0Tm9ybWFsaXplcnMgPSB7XG4gICAgICAgICdyYWQnOiBpZGVudGl0eSxcbiAgICAgICAgJ2RlZyc6IGRlZ3JlZXNUb1JhZGlhbnMsXG4gICAgICAgICdtJzogaWRlbnRpdHksXG4gICAgICAgICdtbSc6IGxlbmd0aFRvQmFzZU1ldGVycyxcbiAgICAgICAgJ2NtJzogbGVuZ3RoVG9CYXNlTWV0ZXJzXG4gICAgfTtcbiAgICByZXR1cm4gKG5vZGUsIGZhbGxiYWNrID0gWkVSTykgPT4ge1xuICAgICAgICBpZiAoIWlzRmluaXRlKG5vZGUubnVtYmVyKSkge1xuICAgICAgICAgICAgbm9kZS5udW1iZXIgPSBmYWxsYmFjay5udW1iZXI7XG4gICAgICAgICAgICBub2RlLnVuaXQgPSBmYWxsYmFjay51bml0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdW5pdCB9ID0gbm9kZTtcbiAgICAgICAgaWYgKHVuaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm9ybWFsaXplID0gdW5pdE5vcm1hbGl6ZXJzW3VuaXRdO1xuICAgICAgICBpZiAobm9ybWFsaXplID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9ybWFsaXplKG5vZGUpO1xuICAgIH07XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udmVyc2lvbnMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/deserializers.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/deserializers.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enumerationDeserializer: () => (/* binding */ enumerationDeserializer)\n/* harmony export */ });\n/* harmony import */ var _parsers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * For our purposes, an enumeration is a fixed set of CSS-expression-compatible\n * names. When serialized, a selected subset of the members may be specified as\n * whitespace-separated strings. An enumeration deserializer is a function that\n * parses a serialized subset of an enumeration and returns any members that are\n * found as a Set.\n *\n * The following example will produce a deserializer for the days of the\n * week:\n *\n * const deserializeDaysOfTheWeek = enumerationDeserializer([\n *   'Monday',\n *   'Tuesday',\n *   'Wednesday',\n *   'Thursday',\n *   'Friday',\n *   'Saturday',\n *   'Sunday'\n * ]);\n */\nconst enumerationDeserializer = (allowedNames) => (valueString) => {\n    try {\n        const expressions = (0,_parsers_js__WEBPACK_IMPORTED_MODULE_0__.parseExpressions)(valueString);\n        const names = (expressions.length ? expressions[0].terms : [])\n            .filter((valueNode) => valueNode && valueNode.type === 'ident')\n            .map(valueNode => valueNode.value)\n            .filter(name => allowedNames.indexOf(name) > -1);\n        // NOTE(cdata): IE11 does not support constructing a Set directly from\n        // an iterable, so we need to manually add all the items:\n        const result = new Set();\n        for (const name of names) {\n            result.add(name);\n        }\n        return result;\n    }\n    catch (_error) {\n    }\n    return new Set();\n};\n//# sourceMappingURL=deserializers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9kZXNlcmlhbGl6ZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDRCQUE0Qiw2REFBZ0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9kZXNlcmlhbGl6ZXJzLmpzP2I2N2QiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgcGFyc2VFeHByZXNzaW9ucyB9IGZyb20gJy4vcGFyc2Vycy5qcyc7XG4vKipcbiAqIEZvciBvdXIgcHVycG9zZXMsIGFuIGVudW1lcmF0aW9uIGlzIGEgZml4ZWQgc2V0IG9mIENTUy1leHByZXNzaW9uLWNvbXBhdGlibGVcbiAqIG5hbWVzLiBXaGVuIHNlcmlhbGl6ZWQsIGEgc2VsZWN0ZWQgc3Vic2V0IG9mIHRoZSBtZW1iZXJzIG1heSBiZSBzcGVjaWZpZWQgYXNcbiAqIHdoaXRlc3BhY2Utc2VwYXJhdGVkIHN0cmluZ3MuIEFuIGVudW1lcmF0aW9uIGRlc2VyaWFsaXplciBpcyBhIGZ1bmN0aW9uIHRoYXRcbiAqIHBhcnNlcyBhIHNlcmlhbGl6ZWQgc3Vic2V0IG9mIGFuIGVudW1lcmF0aW9uIGFuZCByZXR1cm5zIGFueSBtZW1iZXJzIHRoYXQgYXJlXG4gKiBmb3VuZCBhcyBhIFNldC5cbiAqXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgd2lsbCBwcm9kdWNlIGEgZGVzZXJpYWxpemVyIGZvciB0aGUgZGF5cyBvZiB0aGVcbiAqIHdlZWs6XG4gKlxuICogY29uc3QgZGVzZXJpYWxpemVEYXlzT2ZUaGVXZWVrID0gZW51bWVyYXRpb25EZXNlcmlhbGl6ZXIoW1xuICogICAnTW9uZGF5JyxcbiAqICAgJ1R1ZXNkYXknLFxuICogICAnV2VkbmVzZGF5JyxcbiAqICAgJ1RodXJzZGF5JyxcbiAqICAgJ0ZyaWRheScsXG4gKiAgICdTYXR1cmRheScsXG4gKiAgICdTdW5kYXknXG4gKiBdKTtcbiAqL1xuZXhwb3J0IGNvbnN0IGVudW1lcmF0aW9uRGVzZXJpYWxpemVyID0gKGFsbG93ZWROYW1lcykgPT4gKHZhbHVlU3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbnMgPSBwYXJzZUV4cHJlc3Npb25zKHZhbHVlU3RyaW5nKTtcbiAgICAgICAgY29uc3QgbmFtZXMgPSAoZXhwcmVzc2lvbnMubGVuZ3RoID8gZXhwcmVzc2lvbnNbMF0udGVybXMgOiBbXSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHZhbHVlTm9kZSkgPT4gdmFsdWVOb2RlICYmIHZhbHVlTm9kZS50eXBlID09PSAnaWRlbnQnKVxuICAgICAgICAgICAgLm1hcCh2YWx1ZU5vZGUgPT4gdmFsdWVOb2RlLnZhbHVlKVxuICAgICAgICAgICAgLmZpbHRlcihuYW1lID0+IGFsbG93ZWROYW1lcy5pbmRleE9mKG5hbWUpID4gLTEpO1xuICAgICAgICAvLyBOT1RFKGNkYXRhKTogSUUxMSBkb2VzIG5vdCBzdXBwb3J0IGNvbnN0cnVjdGluZyBhIFNldCBkaXJlY3RseSBmcm9tXG4gICAgICAgIC8vIGFuIGl0ZXJhYmxlLCBzbyB3ZSBuZWVkIHRvIG1hbnVhbGx5IGFkZCBhbGwgdGhlIGl0ZW1zOlxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBuYW1lcykge1xuICAgICAgICAgICAgcmVzdWx0LmFkZChuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjYXRjaCAoX2Vycm9yKSB7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2V0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVzZXJpYWxpemVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/deserializers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js":
/*!********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/evaluators.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CalcEvaluator: () => (/* binding */ CalcEvaluator),\n/* harmony export */   EnvEvaluator: () => (/* binding */ EnvEvaluator),\n/* harmony export */   Evaluator: () => (/* binding */ Evaluator),\n/* harmony export */   OperatorEvaluator: () => (/* binding */ OperatorEvaluator),\n/* harmony export */   PercentageEvaluator: () => (/* binding */ PercentageEvaluator),\n/* harmony export */   StyleEvaluator: () => (/* binding */ StyleEvaluator)\n/* harmony export */ });\n/* harmony import */ var _conversions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./conversions */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _parsers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a, _b, _c;\n\n\nconst $evaluate = Symbol('evaluate');\nconst $lastValue = Symbol('lastValue');\n/**\n * An Evaluator is used to derive a computed style from part (or all) of a CSS\n * expression AST. This construct is particularly useful for complex ASTs\n * containing function calls such as calc, var and env. Such styles could be\n * costly to re-evaluate on every frame (and in some cases we may try to do\n * that). The Evaluator construct allows us to mark sub-trees of the AST as\n * constant, so that only the dynamic parts are re-evaluated. It also separates\n * one-time AST preparation work from work that necessarily has to happen upon\n * each evaluation.\n */\nclass Evaluator {\n    constructor() {\n        this[_a] = null;\n    }\n    /**\n     * An Evaluatable is a NumberNode or an Evaluator that evaluates a NumberNode\n     * as the result of invoking its evaluate method. This is mainly used to\n     * ensure that CSS function nodes are cast to the corresponding Evaluators\n     * that will resolve the result of the function, but is also used to ensure\n     * that a percentage nested at arbitrary depth in the expression will always\n     * be evaluated against the correct basis.\n     */\n    static evaluatableFor(node, basis = _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO) {\n        if (node instanceof Evaluator) {\n            return node;\n        }\n        if (node.type === 'number') {\n            if (node.unit === '%') {\n                return new PercentageEvaluator(node, basis);\n            }\n            return node;\n        }\n        switch (node.name.value) {\n            case 'calc':\n                return new CalcEvaluator(node, basis);\n            case 'env':\n                return new EnvEvaluator(node);\n        }\n        return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n    }\n    /**\n     * If the input is an Evaluator, returns the result of evaluating it.\n     * Otherwise, returns the input.\n     *\n     * This is a helper to aide in resolving a NumberNode without conditionally\n     * checking if the Evaluatable is an Evaluator everywhere.\n     */\n    static evaluate(evaluatable) {\n        if (evaluatable instanceof Evaluator) {\n            return evaluatable.evaluate();\n        }\n        return evaluatable;\n    }\n    /**\n     * If the input is an Evaluator, returns the value of its isConstant property.\n     * Returns true for all other input values.\n     */\n    static isConstant(evaluatable) {\n        if (evaluatable instanceof Evaluator) {\n            return evaluatable.isConstant;\n        }\n        return true;\n    }\n    /**\n     * This method applies a set of structured intrinsic metadata to an evaluated\n     * result from a parsed CSS-like string of expressions. Intrinsics provide\n     * sufficient metadata (e.g., basis values, analogs for keywords) such that\n     * omitted values in the input string can be backfilled, and keywords can be\n     * converted to concrete numbers.\n     *\n     * The result of applying intrinsics is a tuple of NumberNode values whose\n     * units match the units used by the basis of the intrinsics.\n     *\n     * The following is a high-level description of how intrinsics are applied:\n     *\n     *  1. Determine the value of 'auto' for the current term\n     *  2. If there is no corresponding input value for this term, substitute the\n     *     'auto' value.\n     *  3. If the term is an IdentNode, treat it as a keyword and perform the\n     *     appropriate substitution.\n     *  4. If the term is still null, fallback to the 'auto' value\n     *  5. If the term is a percentage, apply it to the basis and return that\n     *     value\n     *  6. Normalize the unit of the term\n     *  7. If the term's unit does not match the basis unit, return the basis\n     *     value\n     *  8. Return the term as is\n     */\n    static applyIntrinsics(evaluated, intrinsics) {\n        const { basis, keywords } = intrinsics;\n        const { auto } = keywords;\n        return basis.map((basisNode, index) => {\n            // Use an auto value if we have it, otherwise the auto value is the basis:\n            const autoSubstituteNode = auto[index] == null ? basisNode : auto[index];\n            // If the evaluated nodes do not have a node at the current\n            // index, fallback to the \"auto\" substitute right away:\n            let evaluatedNode = evaluated[index] ? evaluated[index] : autoSubstituteNode;\n            // Any ident node is considered a keyword:\n            if (evaluatedNode.type === 'ident') {\n                const keyword = evaluatedNode.value;\n                // Substitute any keywords for concrete values first:\n                if (keyword in keywords) {\n                    evaluatedNode = keywords[keyword][index];\n                }\n            }\n            // If we don't have a NumberNode at this point, fall back to whatever\n            // is specified for auto:\n            if (evaluatedNode == null || evaluatedNode.type === 'ident') {\n                evaluatedNode = autoSubstituteNode;\n            }\n            // For percentages, we always apply the percentage to the basis value:\n            if (evaluatedNode.unit === '%') {\n                return (0,_parsers__WEBPACK_IMPORTED_MODULE_1__.numberNode)(evaluatedNode.number / 100 * basisNode.number, basisNode.unit);\n            }\n            // Otherwise, normalize whatever we have:\n            evaluatedNode = (0,_conversions__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(evaluatedNode, basisNode);\n            // If the normalized units do not match, return the basis as a fallback:\n            if (evaluatedNode.unit !== basisNode.unit) {\n                return basisNode;\n            }\n            // Finally, return the evaluated node with intrinsics applied:\n            return evaluatedNode;\n        });\n    }\n    /**\n     * If true, the Evaluator will only evaluate its AST one time. If false, the\n     * Evaluator will re-evaluate the AST each time that the public evaluate\n     * method is invoked.\n     */\n    get isConstant() {\n        return false;\n    }\n    /**\n     * Evaluate the Evaluator and return the result. If the Evaluator is constant,\n     * the corresponding AST will only be evaluated once, and the result of\n     * evaluating it the first time will be returned on all subsequent\n     * evaluations.\n     */\n    evaluate() {\n        if (!this.isConstant || this[$lastValue] == null) {\n            this[$lastValue] = this[$evaluate]();\n        }\n        return this[$lastValue];\n    }\n}\n_a = $lastValue;\nconst $percentage = Symbol('percentage');\nconst $basis = Symbol('basis');\n/**\n * A PercentageEvaluator scales a given basis value by a given percentage value.\n * The evaluated result is always considered to be constant.\n */\nclass PercentageEvaluator extends Evaluator {\n    constructor(percentage, basis) {\n        super();\n        this[$percentage] = percentage;\n        this[$basis] = basis;\n    }\n    get isConstant() {\n        return true;\n    }\n    [$evaluate]() {\n        return (0,_parsers__WEBPACK_IMPORTED_MODULE_1__.numberNode)(this[$percentage].number / 100 * this[$basis].number, this[$basis].unit);\n    }\n}\nconst $identNode = Symbol('identNode');\n/**\n * Evaluator for CSS-like env() functions. Currently, only one environment\n * variable is accepted as an argument for such functions: window-scroll-y.\n *\n * The env() Evaluator is explicitly dynamic because it always refers to\n * external state that changes as the user scrolls, so it should always be\n * re-evaluated to ensure we get the most recent value.\n *\n * Some important notes about this feature include:\n *\n *  - There is no such thing as a \"window-scroll-y\" CSS environment variable in\n *    any stable browser at the time that this comment is being written.\n *  - The actual CSS env() function accepts a second argument as a fallback for\n *    the case that the specified first argument isn't set; our syntax does not\n *    support this second argument.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/env\n */\nclass EnvEvaluator extends Evaluator {\n    constructor(envFunction) {\n        super();\n        this[_b] = null;\n        const identNode = envFunction.arguments.length ? envFunction.arguments[0].terms[0] : null;\n        if (identNode != null && identNode.type === 'ident') {\n            this[$identNode] = identNode;\n        }\n    }\n    get isConstant() {\n        return false;\n    }\n    ;\n    [(_b = $identNode, $evaluate)]() {\n        if (this[$identNode] != null) {\n            switch (this[$identNode].value) {\n                case 'window-scroll-y':\n                    const verticalScrollPosition = window.pageYOffset;\n                    const verticalScrollMax = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\n                    const scrollY = verticalScrollPosition /\n                        (verticalScrollMax - window.innerHeight) ||\n                        0;\n                    return { type: 'number', number: scrollY, unit: null };\n            }\n        }\n        return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n    }\n}\nconst IS_MULTIPLICATION_RE = /[\\*\\/]/;\nconst $evaluator = Symbol('evaluator');\n/**\n * Evaluator for CSS-like calc() functions. Our implementation of calc()\n * evaluation currently support nested function calls, an unlimited number of\n * terms, and all four algebraic operators (+, -, * and /).\n *\n * The Evaluator is marked as constant unless the calc expression contains an\n * internal env expression at any depth, in which case it will be marked as\n * dynamic.\n *\n * @see https://www.w3.org/TR/css-values-3/#calc-syntax\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/calc\n */\nclass CalcEvaluator extends Evaluator {\n    constructor(calcFunction, basis = _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO) {\n        super();\n        this[_c] = null;\n        if (calcFunction.arguments.length !== 1) {\n            return;\n        }\n        const terms = calcFunction.arguments[0].terms.slice();\n        const secondOrderTerms = [];\n        while (terms.length) {\n            const term = terms.shift();\n            if (secondOrderTerms.length > 0) {\n                const previousTerm = secondOrderTerms[secondOrderTerms.length - 1];\n                if (previousTerm.type === 'operator' &&\n                    IS_MULTIPLICATION_RE.test(previousTerm.value)) {\n                    const operator = secondOrderTerms.pop();\n                    const leftValue = secondOrderTerms.pop();\n                    if (leftValue == null) {\n                        return;\n                    }\n                    secondOrderTerms.push(new OperatorEvaluator(operator, Evaluator.evaluatableFor(leftValue, basis), Evaluator.evaluatableFor(term, basis)));\n                    continue;\n                }\n            }\n            secondOrderTerms.push(term.type === 'operator' ? term :\n                Evaluator.evaluatableFor(term, basis));\n        }\n        while (secondOrderTerms.length > 2) {\n            const [left, operator, right] = secondOrderTerms.splice(0, 3);\n            if (operator.type !== 'operator') {\n                return;\n            }\n            secondOrderTerms.unshift(new OperatorEvaluator(operator, Evaluator.evaluatableFor(left, basis), Evaluator.evaluatableFor(right, basis)));\n        }\n        // There should only be one combined evaluator at this point:\n        if (secondOrderTerms.length === 1) {\n            this[$evaluator] = secondOrderTerms[0];\n        }\n    }\n    get isConstant() {\n        return this[$evaluator] == null || Evaluator.isConstant(this[$evaluator]);\n    }\n    [(_c = $evaluator, $evaluate)]() {\n        return this[$evaluator] != null ? Evaluator.evaluate(this[$evaluator]) :\n            _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n    }\n}\nconst $operator = Symbol('operator');\nconst $left = Symbol('left');\nconst $right = Symbol('right');\n/**\n * An Evaluator for the operators found inside CSS calc() functions.\n * The evaluator accepts an operator and left/right operands. The operands can\n * be any valid expression term typically allowed inside a CSS calc function.\n *\n * As detail of this implementation, the only supported unit types are angles\n * expressed as radians or degrees, and lengths expressed as meters, centimeters\n * or millimeters.\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/CSS/calc\n */\nclass OperatorEvaluator extends Evaluator {\n    constructor(operator, left, right) {\n        super();\n        this[$operator] = operator;\n        this[$left] = left;\n        this[$right] = right;\n    }\n    get isConstant() {\n        return Evaluator.isConstant(this[$left]) &&\n            Evaluator.isConstant(this[$right]);\n    }\n    [$evaluate]() {\n        const leftNode = (0,_conversions__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(Evaluator.evaluate(this[$left]));\n        const rightNode = (0,_conversions__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(Evaluator.evaluate(this[$right]));\n        const { number: leftValue, unit: leftUnit } = leftNode;\n        const { number: rightValue, unit: rightUnit } = rightNode;\n        // Disallow operations for mismatched normalized units e.g., m and rad:\n        if (rightUnit != null && leftUnit != null && rightUnit != leftUnit) {\n            return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n        }\n        // NOTE(cdata): rules for calc type checking are defined here\n        // https://drafts.csswg.org/css-values-3/#calc-type-checking\n        // This is a simplification and may not hold up once we begin to support\n        // additional unit types:\n        const unit = leftUnit || rightUnit;\n        let value;\n        switch (this[$operator].value) {\n            case '+':\n                value = leftValue + rightValue;\n                break;\n            case '-':\n                value = leftValue - rightValue;\n                break;\n            case '/':\n                value = leftValue / rightValue;\n                break;\n            case '*':\n                value = leftValue * rightValue;\n                break;\n            default:\n                return _parsers__WEBPACK_IMPORTED_MODULE_1__.ZERO;\n        }\n        return { type: 'number', number: value, unit };\n    }\n}\nconst $evaluatables = Symbol('evaluatables');\nconst $intrinsics = Symbol('intrinsics');\n/**\n * A VectorEvaluator evaluates a series of numeric terms that usually represent\n * a data structure such as a multi-dimensional vector or a spherical\n *\n * The form of the evaluator's result is determined by the Intrinsics that are\n * given to it when it is constructed. For example, spherical intrinsics would\n * establish two angle terms and a length term, so the result of evaluating the\n * evaluator that is configured with spherical intrinsics is a three element\n * array where the first two elements represent angles in radians and the third\n * element representing a length in meters.\n */\nclass StyleEvaluator extends Evaluator {\n    constructor(expressions, intrinsics) {\n        super();\n        this[$intrinsics] = intrinsics;\n        const firstExpression = expressions[0];\n        const terms = firstExpression != null ? firstExpression.terms : [];\n        this[$evaluatables] =\n            intrinsics.basis.map((basisNode, index) => {\n                const term = terms[index];\n                if (term == null) {\n                    return { type: 'ident', value: 'auto' };\n                }\n                if (term.type === 'ident') {\n                    return term;\n                }\n                return Evaluator.evaluatableFor(term, basisNode);\n            });\n    }\n    get isConstant() {\n        for (const evaluatable of this[$evaluatables]) {\n            if (!Evaluator.isConstant(evaluatable)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    [$evaluate]() {\n        const evaluated = this[$evaluatables].map(evaluatable => Evaluator.evaluate(evaluatable));\n        return Evaluator.applyIntrinsics(evaluated, this[$intrinsics])\n            .map(numberNode => numberNode.number);\n    }\n}\n//# sourceMappingURL=evaluators.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9ldmFsdWF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQzhDO0FBQ0Q7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDBDQUFJO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMENBQUk7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEMsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9EQUFVO0FBQ2pDO0FBQ0E7QUFDQSw0QkFBNEIsMkRBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0RBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsZUFBZSwwQ0FBSTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asc0NBQXNDLDBDQUFJO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMENBQUk7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkRBQWE7QUFDdEMsMEJBQTBCLDJEQUFhO0FBQ3ZDLGdCQUFnQixvQ0FBb0M7QUFDcEQsZ0JBQWdCLHNDQUFzQztBQUN0RDtBQUNBO0FBQ0EsbUJBQW1CLDBDQUFJO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQ0FBSTtBQUMzQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvc3R5bGVzL2V2YWx1YXRvcnMuanM/MTE3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgX2EsIF9iLCBfYztcbmltcG9ydCB7IG5vcm1hbGl6ZVVuaXQgfSBmcm9tICcuL2NvbnZlcnNpb25zJztcbmltcG9ydCB7IG51bWJlck5vZGUsIFpFUk8gfSBmcm9tICcuL3BhcnNlcnMnO1xuY29uc3QgJGV2YWx1YXRlID0gU3ltYm9sKCdldmFsdWF0ZScpO1xuY29uc3QgJGxhc3RWYWx1ZSA9IFN5bWJvbCgnbGFzdFZhbHVlJyk7XG4vKipcbiAqIEFuIEV2YWx1YXRvciBpcyB1c2VkIHRvIGRlcml2ZSBhIGNvbXB1dGVkIHN0eWxlIGZyb20gcGFydCAob3IgYWxsKSBvZiBhIENTU1xuICogZXhwcmVzc2lvbiBBU1QuIFRoaXMgY29uc3RydWN0IGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIGNvbXBsZXggQVNUc1xuICogY29udGFpbmluZyBmdW5jdGlvbiBjYWxscyBzdWNoIGFzIGNhbGMsIHZhciBhbmQgZW52LiBTdWNoIHN0eWxlcyBjb3VsZCBiZVxuICogY29zdGx5IHRvIHJlLWV2YWx1YXRlIG9uIGV2ZXJ5IGZyYW1lIChhbmQgaW4gc29tZSBjYXNlcyB3ZSBtYXkgdHJ5IHRvIGRvXG4gKiB0aGF0KS4gVGhlIEV2YWx1YXRvciBjb25zdHJ1Y3QgYWxsb3dzIHVzIHRvIG1hcmsgc3ViLXRyZWVzIG9mIHRoZSBBU1QgYXNcbiAqIGNvbnN0YW50LCBzbyB0aGF0IG9ubHkgdGhlIGR5bmFtaWMgcGFydHMgYXJlIHJlLWV2YWx1YXRlZC4gSXQgYWxzbyBzZXBhcmF0ZXNcbiAqIG9uZS10aW1lIEFTVCBwcmVwYXJhdGlvbiB3b3JrIGZyb20gd29yayB0aGF0IG5lY2Vzc2FyaWx5IGhhcyB0byBoYXBwZW4gdXBvblxuICogZWFjaCBldmFsdWF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgRXZhbHVhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpc1tfYV0gPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBFdmFsdWF0YWJsZSBpcyBhIE51bWJlck5vZGUgb3IgYW4gRXZhbHVhdG9yIHRoYXQgZXZhbHVhdGVzIGEgTnVtYmVyTm9kZVxuICAgICAqIGFzIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgaXRzIGV2YWx1YXRlIG1ldGhvZC4gVGhpcyBpcyBtYWlubHkgdXNlZCB0b1xuICAgICAqIGVuc3VyZSB0aGF0IENTUyBmdW5jdGlvbiBub2RlcyBhcmUgY2FzdCB0byB0aGUgY29ycmVzcG9uZGluZyBFdmFsdWF0b3JzXG4gICAgICogdGhhdCB3aWxsIHJlc29sdmUgdGhlIHJlc3VsdCBvZiB0aGUgZnVuY3Rpb24sIGJ1dCBpcyBhbHNvIHVzZWQgdG8gZW5zdXJlXG4gICAgICogdGhhdCBhIHBlcmNlbnRhZ2UgbmVzdGVkIGF0IGFyYml0cmFyeSBkZXB0aCBpbiB0aGUgZXhwcmVzc2lvbiB3aWxsIGFsd2F5c1xuICAgICAqIGJlIGV2YWx1YXRlZCBhZ2FpbnN0IHRoZSBjb3JyZWN0IGJhc2lzLlxuICAgICAqL1xuICAgIHN0YXRpYyBldmFsdWF0YWJsZUZvcihub2RlLCBiYXNpcyA9IFpFUk8pIHtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBFdmFsdWF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAobm9kZS51bml0ID09PSAnJScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBlcmNlbnRhZ2VFdmFsdWF0b3Iobm9kZSwgYmFzaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChub2RlLm5hbWUudmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2NhbGMnOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ2FsY0V2YWx1YXRvcihub2RlLCBiYXNpcyk7XG4gICAgICAgICAgICBjYXNlICdlbnYnOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRW52RXZhbHVhdG9yKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBaRVJPO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgaW5wdXQgaXMgYW4gRXZhbHVhdG9yLCByZXR1cm5zIHRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyBpdC5cbiAgICAgKiBPdGhlcndpc2UsIHJldHVybnMgdGhlIGlucHV0LlxuICAgICAqXG4gICAgICogVGhpcyBpcyBhIGhlbHBlciB0byBhaWRlIGluIHJlc29sdmluZyBhIE51bWJlck5vZGUgd2l0aG91dCBjb25kaXRpb25hbGx5XG4gICAgICogY2hlY2tpbmcgaWYgdGhlIEV2YWx1YXRhYmxlIGlzIGFuIEV2YWx1YXRvciBldmVyeXdoZXJlLlxuICAgICAqL1xuICAgIHN0YXRpYyBldmFsdWF0ZShldmFsdWF0YWJsZSkge1xuICAgICAgICBpZiAoZXZhbHVhdGFibGUgaW5zdGFuY2VvZiBFdmFsdWF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBldmFsdWF0YWJsZS5ldmFsdWF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBldmFsdWF0YWJsZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGlucHV0IGlzIGFuIEV2YWx1YXRvciwgcmV0dXJucyB0aGUgdmFsdWUgb2YgaXRzIGlzQ29uc3RhbnQgcHJvcGVydHkuXG4gICAgICogUmV0dXJucyB0cnVlIGZvciBhbGwgb3RoZXIgaW5wdXQgdmFsdWVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc0NvbnN0YW50KGV2YWx1YXRhYmxlKSB7XG4gICAgICAgIGlmIChldmFsdWF0YWJsZSBpbnN0YW5jZW9mIEV2YWx1YXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGV2YWx1YXRhYmxlLmlzQ29uc3RhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGFwcGxpZXMgYSBzZXQgb2Ygc3RydWN0dXJlZCBpbnRyaW5zaWMgbWV0YWRhdGEgdG8gYW4gZXZhbHVhdGVkXG4gICAgICogcmVzdWx0IGZyb20gYSBwYXJzZWQgQ1NTLWxpa2Ugc3RyaW5nIG9mIGV4cHJlc3Npb25zLiBJbnRyaW5zaWNzIHByb3ZpZGVcbiAgICAgKiBzdWZmaWNpZW50IG1ldGFkYXRhIChlLmcuLCBiYXNpcyB2YWx1ZXMsIGFuYWxvZ3MgZm9yIGtleXdvcmRzKSBzdWNoIHRoYXRcbiAgICAgKiBvbWl0dGVkIHZhbHVlcyBpbiB0aGUgaW5wdXQgc3RyaW5nIGNhbiBiZSBiYWNrZmlsbGVkLCBhbmQga2V5d29yZHMgY2FuIGJlXG4gICAgICogY29udmVydGVkIHRvIGNvbmNyZXRlIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzdWx0IG9mIGFwcGx5aW5nIGludHJpbnNpY3MgaXMgYSB0dXBsZSBvZiBOdW1iZXJOb2RlIHZhbHVlcyB3aG9zZVxuICAgICAqIHVuaXRzIG1hdGNoIHRoZSB1bml0cyB1c2VkIGJ5IHRoZSBiYXNpcyBvZiB0aGUgaW50cmluc2ljcy5cbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgaXMgYSBoaWdoLWxldmVsIGRlc2NyaXB0aW9uIG9mIGhvdyBpbnRyaW5zaWNzIGFyZSBhcHBsaWVkOlxuICAgICAqXG4gICAgICogIDEuIERldGVybWluZSB0aGUgdmFsdWUgb2YgJ2F1dG8nIGZvciB0aGUgY3VycmVudCB0ZXJtXG4gICAgICogIDIuIElmIHRoZXJlIGlzIG5vIGNvcnJlc3BvbmRpbmcgaW5wdXQgdmFsdWUgZm9yIHRoaXMgdGVybSwgc3Vic3RpdHV0ZSB0aGVcbiAgICAgKiAgICAgJ2F1dG8nIHZhbHVlLlxuICAgICAqICAzLiBJZiB0aGUgdGVybSBpcyBhbiBJZGVudE5vZGUsIHRyZWF0IGl0IGFzIGEga2V5d29yZCBhbmQgcGVyZm9ybSB0aGVcbiAgICAgKiAgICAgYXBwcm9wcmlhdGUgc3Vic3RpdHV0aW9uLlxuICAgICAqICA0LiBJZiB0aGUgdGVybSBpcyBzdGlsbCBudWxsLCBmYWxsYmFjayB0byB0aGUgJ2F1dG8nIHZhbHVlXG4gICAgICogIDUuIElmIHRoZSB0ZXJtIGlzIGEgcGVyY2VudGFnZSwgYXBwbHkgaXQgdG8gdGhlIGJhc2lzIGFuZCByZXR1cm4gdGhhdFxuICAgICAqICAgICB2YWx1ZVxuICAgICAqICA2LiBOb3JtYWxpemUgdGhlIHVuaXQgb2YgdGhlIHRlcm1cbiAgICAgKiAgNy4gSWYgdGhlIHRlcm0ncyB1bml0IGRvZXMgbm90IG1hdGNoIHRoZSBiYXNpcyB1bml0LCByZXR1cm4gdGhlIGJhc2lzXG4gICAgICogICAgIHZhbHVlXG4gICAgICogIDguIFJldHVybiB0aGUgdGVybSBhcyBpc1xuICAgICAqL1xuICAgIHN0YXRpYyBhcHBseUludHJpbnNpY3MoZXZhbHVhdGVkLCBpbnRyaW5zaWNzKSB7XG4gICAgICAgIGNvbnN0IHsgYmFzaXMsIGtleXdvcmRzIH0gPSBpbnRyaW5zaWNzO1xuICAgICAgICBjb25zdCB7IGF1dG8gfSA9IGtleXdvcmRzO1xuICAgICAgICByZXR1cm4gYmFzaXMubWFwKChiYXNpc05vZGUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAvLyBVc2UgYW4gYXV0byB2YWx1ZSBpZiB3ZSBoYXZlIGl0LCBvdGhlcndpc2UgdGhlIGF1dG8gdmFsdWUgaXMgdGhlIGJhc2lzOlxuICAgICAgICAgICAgY29uc3QgYXV0b1N1YnN0aXR1dGVOb2RlID0gYXV0b1tpbmRleF0gPT0gbnVsbCA/IGJhc2lzTm9kZSA6IGF1dG9baW5kZXhdO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGV2YWx1YXRlZCBub2RlcyBkbyBub3QgaGF2ZSBhIG5vZGUgYXQgdGhlIGN1cnJlbnRcbiAgICAgICAgICAgIC8vIGluZGV4LCBmYWxsYmFjayB0byB0aGUgXCJhdXRvXCIgc3Vic3RpdHV0ZSByaWdodCBhd2F5OlxuICAgICAgICAgICAgbGV0IGV2YWx1YXRlZE5vZGUgPSBldmFsdWF0ZWRbaW5kZXhdID8gZXZhbHVhdGVkW2luZGV4XSA6IGF1dG9TdWJzdGl0dXRlTm9kZTtcbiAgICAgICAgICAgIC8vIEFueSBpZGVudCBub2RlIGlzIGNvbnNpZGVyZWQgYSBrZXl3b3JkOlxuICAgICAgICAgICAgaWYgKGV2YWx1YXRlZE5vZGUudHlwZSA9PT0gJ2lkZW50Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleXdvcmQgPSBldmFsdWF0ZWROb2RlLnZhbHVlO1xuICAgICAgICAgICAgICAgIC8vIFN1YnN0aXR1dGUgYW55IGtleXdvcmRzIGZvciBjb25jcmV0ZSB2YWx1ZXMgZmlyc3Q6XG4gICAgICAgICAgICAgICAgaWYgKGtleXdvcmQgaW4ga2V5d29yZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZhbHVhdGVkTm9kZSA9IGtleXdvcmRzW2tleXdvcmRdW2luZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgTnVtYmVyTm9kZSBhdCB0aGlzIHBvaW50LCBmYWxsIGJhY2sgdG8gd2hhdGV2ZXJcbiAgICAgICAgICAgIC8vIGlzIHNwZWNpZmllZCBmb3IgYXV0bzpcbiAgICAgICAgICAgIGlmIChldmFsdWF0ZWROb2RlID09IG51bGwgfHwgZXZhbHVhdGVkTm9kZS50eXBlID09PSAnaWRlbnQnKSB7XG4gICAgICAgICAgICAgICAgZXZhbHVhdGVkTm9kZSA9IGF1dG9TdWJzdGl0dXRlTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvciBwZXJjZW50YWdlcywgd2UgYWx3YXlzIGFwcGx5IHRoZSBwZXJjZW50YWdlIHRvIHRoZSBiYXNpcyB2YWx1ZTpcbiAgICAgICAgICAgIGlmIChldmFsdWF0ZWROb2RlLnVuaXQgPT09ICclJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXJOb2RlKGV2YWx1YXRlZE5vZGUubnVtYmVyIC8gMTAwICogYmFzaXNOb2RlLm51bWJlciwgYmFzaXNOb2RlLnVuaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBub3JtYWxpemUgd2hhdGV2ZXIgd2UgaGF2ZTpcbiAgICAgICAgICAgIGV2YWx1YXRlZE5vZGUgPSBub3JtYWxpemVVbml0KGV2YWx1YXRlZE5vZGUsIGJhc2lzTm9kZSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbm9ybWFsaXplZCB1bml0cyBkbyBub3QgbWF0Y2gsIHJldHVybiB0aGUgYmFzaXMgYXMgYSBmYWxsYmFjazpcbiAgICAgICAgICAgIGlmIChldmFsdWF0ZWROb2RlLnVuaXQgIT09IGJhc2lzTm9kZS51bml0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2lzTm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbmFsbHksIHJldHVybiB0aGUgZXZhbHVhdGVkIG5vZGUgd2l0aCBpbnRyaW5zaWNzIGFwcGxpZWQ6XG4gICAgICAgICAgICByZXR1cm4gZXZhbHVhdGVkTm9kZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBFdmFsdWF0b3Igd2lsbCBvbmx5IGV2YWx1YXRlIGl0cyBBU1Qgb25lIHRpbWUuIElmIGZhbHNlLCB0aGVcbiAgICAgKiBFdmFsdWF0b3Igd2lsbCByZS1ldmFsdWF0ZSB0aGUgQVNUIGVhY2ggdGltZSB0aGF0IHRoZSBwdWJsaWMgZXZhbHVhdGVcbiAgICAgKiBtZXRob2QgaXMgaW52b2tlZC5cbiAgICAgKi9cbiAgICBnZXQgaXNDb25zdGFudCgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFdmFsdWF0ZSB0aGUgRXZhbHVhdG9yIGFuZCByZXR1cm4gdGhlIHJlc3VsdC4gSWYgdGhlIEV2YWx1YXRvciBpcyBjb25zdGFudCxcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBBU1Qgd2lsbCBvbmx5IGJlIGV2YWx1YXRlZCBvbmNlLCBhbmQgdGhlIHJlc3VsdCBvZlxuICAgICAqIGV2YWx1YXRpbmcgaXQgdGhlIGZpcnN0IHRpbWUgd2lsbCBiZSByZXR1cm5lZCBvbiBhbGwgc3Vic2VxdWVudFxuICAgICAqIGV2YWx1YXRpb25zLlxuICAgICAqL1xuICAgIGV2YWx1YXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNDb25zdGFudCB8fCB0aGlzWyRsYXN0VmFsdWVdID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXNbJGxhc3RWYWx1ZV0gPSB0aGlzWyRldmFsdWF0ZV0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1skbGFzdFZhbHVlXTtcbiAgICB9XG59XG5fYSA9ICRsYXN0VmFsdWU7XG5jb25zdCAkcGVyY2VudGFnZSA9IFN5bWJvbCgncGVyY2VudGFnZScpO1xuY29uc3QgJGJhc2lzID0gU3ltYm9sKCdiYXNpcycpO1xuLyoqXG4gKiBBIFBlcmNlbnRhZ2VFdmFsdWF0b3Igc2NhbGVzIGEgZ2l2ZW4gYmFzaXMgdmFsdWUgYnkgYSBnaXZlbiBwZXJjZW50YWdlIHZhbHVlLlxuICogVGhlIGV2YWx1YXRlZCByZXN1bHQgaXMgYWx3YXlzIGNvbnNpZGVyZWQgdG8gYmUgY29uc3RhbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJjZW50YWdlRXZhbHVhdG9yIGV4dGVuZHMgRXZhbHVhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihwZXJjZW50YWdlLCBiYXNpcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzWyRwZXJjZW50YWdlXSA9IHBlcmNlbnRhZ2U7XG4gICAgICAgIHRoaXNbJGJhc2lzXSA9IGJhc2lzO1xuICAgIH1cbiAgICBnZXQgaXNDb25zdGFudCgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFskZXZhbHVhdGVdKCkge1xuICAgICAgICByZXR1cm4gbnVtYmVyTm9kZSh0aGlzWyRwZXJjZW50YWdlXS5udW1iZXIgLyAxMDAgKiB0aGlzWyRiYXNpc10ubnVtYmVyLCB0aGlzWyRiYXNpc10udW5pdCk7XG4gICAgfVxufVxuY29uc3QgJGlkZW50Tm9kZSA9IFN5bWJvbCgnaWRlbnROb2RlJyk7XG4vKipcbiAqIEV2YWx1YXRvciBmb3IgQ1NTLWxpa2UgZW52KCkgZnVuY3Rpb25zLiBDdXJyZW50bHksIG9ubHkgb25lIGVudmlyb25tZW50XG4gKiB2YXJpYWJsZSBpcyBhY2NlcHRlZCBhcyBhbiBhcmd1bWVudCBmb3Igc3VjaCBmdW5jdGlvbnM6IHdpbmRvdy1zY3JvbGwteS5cbiAqXG4gKiBUaGUgZW52KCkgRXZhbHVhdG9yIGlzIGV4cGxpY2l0bHkgZHluYW1pYyBiZWNhdXNlIGl0IGFsd2F5cyByZWZlcnMgdG9cbiAqIGV4dGVybmFsIHN0YXRlIHRoYXQgY2hhbmdlcyBhcyB0aGUgdXNlciBzY3JvbGxzLCBzbyBpdCBzaG91bGQgYWx3YXlzIGJlXG4gKiByZS1ldmFsdWF0ZWQgdG8gZW5zdXJlIHdlIGdldCB0aGUgbW9zdCByZWNlbnQgdmFsdWUuXG4gKlxuICogU29tZSBpbXBvcnRhbnQgbm90ZXMgYWJvdXQgdGhpcyBmZWF0dXJlIGluY2x1ZGU6XG4gKlxuICogIC0gVGhlcmUgaXMgbm8gc3VjaCB0aGluZyBhcyBhIFwid2luZG93LXNjcm9sbC15XCIgQ1NTIGVudmlyb25tZW50IHZhcmlhYmxlIGluXG4gKiAgICBhbnkgc3RhYmxlIGJyb3dzZXIgYXQgdGhlIHRpbWUgdGhhdCB0aGlzIGNvbW1lbnQgaXMgYmVpbmcgd3JpdHRlbi5cbiAqICAtIFRoZSBhY3R1YWwgQ1NTIGVudigpIGZ1bmN0aW9uIGFjY2VwdHMgYSBzZWNvbmQgYXJndW1lbnQgYXMgYSBmYWxsYmFjayBmb3JcbiAqICAgIHRoZSBjYXNlIHRoYXQgdGhlIHNwZWNpZmllZCBmaXJzdCBhcmd1bWVudCBpc24ndCBzZXQ7IG91ciBzeW50YXggZG9lcyBub3RcbiAqICAgIHN1cHBvcnQgdGhpcyBzZWNvbmQgYXJndW1lbnQuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZW52XG4gKi9cbmV4cG9ydCBjbGFzcyBFbnZFdmFsdWF0b3IgZXh0ZW5kcyBFdmFsdWF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGVudkZ1bmN0aW9uKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXNbX2JdID0gbnVsbDtcbiAgICAgICAgY29uc3QgaWRlbnROb2RlID0gZW52RnVuY3Rpb24uYXJndW1lbnRzLmxlbmd0aCA/IGVudkZ1bmN0aW9uLmFyZ3VtZW50c1swXS50ZXJtc1swXSA6IG51bGw7XG4gICAgICAgIGlmIChpZGVudE5vZGUgIT0gbnVsbCAmJiBpZGVudE5vZGUudHlwZSA9PT0gJ2lkZW50Jykge1xuICAgICAgICAgICAgdGhpc1skaWRlbnROb2RlXSA9IGlkZW50Tm9kZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXNDb25zdGFudCgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICA7XG4gICAgWyhfYiA9ICRpZGVudE5vZGUsICRldmFsdWF0ZSldKCkge1xuICAgICAgICBpZiAodGhpc1skaWRlbnROb2RlXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXNbJGlkZW50Tm9kZV0udmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd3aW5kb3ctc2Nyb2xsLXknOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFNjcm9sbFBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFNjcm9sbE1heCA9IE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbFkgPSB2ZXJ0aWNhbFNjcm9sbFBvc2l0aW9uIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICh2ZXJ0aWNhbFNjcm9sbE1heCAtIHdpbmRvdy5pbm5lckhlaWdodCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IHNjcm9sbFksIHVuaXQ6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gWkVSTztcbiAgICB9XG59XG5jb25zdCBJU19NVUxUSVBMSUNBVElPTl9SRSA9IC9bXFwqXFwvXS87XG5jb25zdCAkZXZhbHVhdG9yID0gU3ltYm9sKCdldmFsdWF0b3InKTtcbi8qKlxuICogRXZhbHVhdG9yIGZvciBDU1MtbGlrZSBjYWxjKCkgZnVuY3Rpb25zLiBPdXIgaW1wbGVtZW50YXRpb24gb2YgY2FsYygpXG4gKiBldmFsdWF0aW9uIGN1cnJlbnRseSBzdXBwb3J0IG5lc3RlZCBmdW5jdGlvbiBjYWxscywgYW4gdW5saW1pdGVkIG51bWJlciBvZlxuICogdGVybXMsIGFuZCBhbGwgZm91ciBhbGdlYnJhaWMgb3BlcmF0b3JzICgrLCAtLCAqIGFuZCAvKS5cbiAqXG4gKiBUaGUgRXZhbHVhdG9yIGlzIG1hcmtlZCBhcyBjb25zdGFudCB1bmxlc3MgdGhlIGNhbGMgZXhwcmVzc2lvbiBjb250YWlucyBhblxuICogaW50ZXJuYWwgZW52IGV4cHJlc3Npb24gYXQgYW55IGRlcHRoLCBpbiB3aGljaCBjYXNlIGl0IHdpbGwgYmUgbWFya2VkIGFzXG4gKiBkeW5hbWljLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy12YWx1ZXMtMy8jY2FsYy1zeW50YXhcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2NhbGNcbiAqL1xuZXhwb3J0IGNsYXNzIENhbGNFdmFsdWF0b3IgZXh0ZW5kcyBFdmFsdWF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGNhbGNGdW5jdGlvbiwgYmFzaXMgPSBaRVJPKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXNbX2NdID0gbnVsbDtcbiAgICAgICAgaWYgKGNhbGNGdW5jdGlvbi5hcmd1bWVudHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGVybXMgPSBjYWxjRnVuY3Rpb24uYXJndW1lbnRzWzBdLnRlcm1zLnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IHNlY29uZE9yZGVyVGVybXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKHRlcm1zLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgdGVybSA9IHRlcm1zLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoc2Vjb25kT3JkZXJUZXJtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNUZXJtID0gc2Vjb25kT3JkZXJUZXJtc1tzZWNvbmRPcmRlclRlcm1zLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c1Rlcm0udHlwZSA9PT0gJ29wZXJhdG9yJyAmJlxuICAgICAgICAgICAgICAgICAgICBJU19NVUxUSVBMSUNBVElPTl9SRS50ZXN0KHByZXZpb3VzVGVybS52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BlcmF0b3IgPSBzZWNvbmRPcmRlclRlcm1zLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsZWZ0VmFsdWUgPSBzZWNvbmRPcmRlclRlcm1zLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRPcmRlclRlcm1zLnB1c2gobmV3IE9wZXJhdG9yRXZhbHVhdG9yKG9wZXJhdG9yLCBFdmFsdWF0b3IuZXZhbHVhdGFibGVGb3IobGVmdFZhbHVlLCBiYXNpcyksIEV2YWx1YXRvci5ldmFsdWF0YWJsZUZvcih0ZXJtLCBiYXNpcykpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2Vjb25kT3JkZXJUZXJtcy5wdXNoKHRlcm0udHlwZSA9PT0gJ29wZXJhdG9yJyA/IHRlcm0gOlxuICAgICAgICAgICAgICAgIEV2YWx1YXRvci5ldmFsdWF0YWJsZUZvcih0ZXJtLCBiYXNpcykpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChzZWNvbmRPcmRlclRlcm1zLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IFtsZWZ0LCBvcGVyYXRvciwgcmlnaHRdID0gc2Vjb25kT3JkZXJUZXJtcy5zcGxpY2UoMCwgMyk7XG4gICAgICAgICAgICBpZiAob3BlcmF0b3IudHlwZSAhPT0gJ29wZXJhdG9yJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlY29uZE9yZGVyVGVybXMudW5zaGlmdChuZXcgT3BlcmF0b3JFdmFsdWF0b3Iob3BlcmF0b3IsIEV2YWx1YXRvci5ldmFsdWF0YWJsZUZvcihsZWZ0LCBiYXNpcyksIEV2YWx1YXRvci5ldmFsdWF0YWJsZUZvcihyaWdodCwgYmFzaXMpKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgc2hvdWxkIG9ubHkgYmUgb25lIGNvbWJpbmVkIGV2YWx1YXRvciBhdCB0aGlzIHBvaW50OlxuICAgICAgICBpZiAoc2Vjb25kT3JkZXJUZXJtcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXNbJGV2YWx1YXRvcl0gPSBzZWNvbmRPcmRlclRlcm1zWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpc0NvbnN0YW50KCkge1xuICAgICAgICByZXR1cm4gdGhpc1skZXZhbHVhdG9yXSA9PSBudWxsIHx8IEV2YWx1YXRvci5pc0NvbnN0YW50KHRoaXNbJGV2YWx1YXRvcl0pO1xuICAgIH1cbiAgICBbKF9jID0gJGV2YWx1YXRvciwgJGV2YWx1YXRlKV0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRldmFsdWF0b3JdICE9IG51bGwgPyBFdmFsdWF0b3IuZXZhbHVhdGUodGhpc1skZXZhbHVhdG9yXSkgOlxuICAgICAgICAgICAgWkVSTztcbiAgICB9XG59XG5jb25zdCAkb3BlcmF0b3IgPSBTeW1ib2woJ29wZXJhdG9yJyk7XG5jb25zdCAkbGVmdCA9IFN5bWJvbCgnbGVmdCcpO1xuY29uc3QgJHJpZ2h0ID0gU3ltYm9sKCdyaWdodCcpO1xuLyoqXG4gKiBBbiBFdmFsdWF0b3IgZm9yIHRoZSBvcGVyYXRvcnMgZm91bmQgaW5zaWRlIENTUyBjYWxjKCkgZnVuY3Rpb25zLlxuICogVGhlIGV2YWx1YXRvciBhY2NlcHRzIGFuIG9wZXJhdG9yIGFuZCBsZWZ0L3JpZ2h0IG9wZXJhbmRzLiBUaGUgb3BlcmFuZHMgY2FuXG4gKiBiZSBhbnkgdmFsaWQgZXhwcmVzc2lvbiB0ZXJtIHR5cGljYWxseSBhbGxvd2VkIGluc2lkZSBhIENTUyBjYWxjIGZ1bmN0aW9uLlxuICpcbiAqIEFzIGRldGFpbCBvZiB0aGlzIGltcGxlbWVudGF0aW9uLCB0aGUgb25seSBzdXBwb3J0ZWQgdW5pdCB0eXBlcyBhcmUgYW5nbGVzXG4gKiBleHByZXNzZWQgYXMgcmFkaWFucyBvciBkZWdyZWVzLCBhbmQgbGVuZ3RocyBleHByZXNzZWQgYXMgbWV0ZXJzLCBjZW50aW1ldGVyc1xuICogb3IgbWlsbGltZXRlcnMuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvY2FsY1xuICovXG5leHBvcnQgY2xhc3MgT3BlcmF0b3JFdmFsdWF0b3IgZXh0ZW5kcyBFdmFsdWF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG9wZXJhdG9yLCBsZWZ0LCByaWdodCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzWyRvcGVyYXRvcl0gPSBvcGVyYXRvcjtcbiAgICAgICAgdGhpc1skbGVmdF0gPSBsZWZ0O1xuICAgICAgICB0aGlzWyRyaWdodF0gPSByaWdodDtcbiAgICB9XG4gICAgZ2V0IGlzQ29uc3RhbnQoKSB7XG4gICAgICAgIHJldHVybiBFdmFsdWF0b3IuaXNDb25zdGFudCh0aGlzWyRsZWZ0XSkgJiZcbiAgICAgICAgICAgIEV2YWx1YXRvci5pc0NvbnN0YW50KHRoaXNbJHJpZ2h0XSk7XG4gICAgfVxuICAgIFskZXZhbHVhdGVdKCkge1xuICAgICAgICBjb25zdCBsZWZ0Tm9kZSA9IG5vcm1hbGl6ZVVuaXQoRXZhbHVhdG9yLmV2YWx1YXRlKHRoaXNbJGxlZnRdKSk7XG4gICAgICAgIGNvbnN0IHJpZ2h0Tm9kZSA9IG5vcm1hbGl6ZVVuaXQoRXZhbHVhdG9yLmV2YWx1YXRlKHRoaXNbJHJpZ2h0XSkpO1xuICAgICAgICBjb25zdCB7IG51bWJlcjogbGVmdFZhbHVlLCB1bml0OiBsZWZ0VW5pdCB9ID0gbGVmdE5vZGU7XG4gICAgICAgIGNvbnN0IHsgbnVtYmVyOiByaWdodFZhbHVlLCB1bml0OiByaWdodFVuaXQgfSA9IHJpZ2h0Tm9kZTtcbiAgICAgICAgLy8gRGlzYWxsb3cgb3BlcmF0aW9ucyBmb3IgbWlzbWF0Y2hlZCBub3JtYWxpemVkIHVuaXRzIGUuZy4sIG0gYW5kIHJhZDpcbiAgICAgICAgaWYgKHJpZ2h0VW5pdCAhPSBudWxsICYmIGxlZnRVbml0ICE9IG51bGwgJiYgcmlnaHRVbml0ICE9IGxlZnRVbml0KSB7XG4gICAgICAgICAgICByZXR1cm4gWkVSTztcbiAgICAgICAgfVxuICAgICAgICAvLyBOT1RFKGNkYXRhKTogcnVsZXMgZm9yIGNhbGMgdHlwZSBjaGVja2luZyBhcmUgZGVmaW5lZCBoZXJlXG4gICAgICAgIC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI2NhbGMtdHlwZS1jaGVja2luZ1xuICAgICAgICAvLyBUaGlzIGlzIGEgc2ltcGxpZmljYXRpb24gYW5kIG1heSBub3QgaG9sZCB1cCBvbmNlIHdlIGJlZ2luIHRvIHN1cHBvcnRcbiAgICAgICAgLy8gYWRkaXRpb25hbCB1bml0IHR5cGVzOlxuICAgICAgICBjb25zdCB1bml0ID0gbGVmdFVuaXQgfHwgcmlnaHRVbml0O1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIHN3aXRjaCAodGhpc1skb3BlcmF0b3JdLnZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSArIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAtIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICcvJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAvIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGxlZnRWYWx1ZSAqIHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBaRVJPO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IHZhbHVlLCB1bml0IH07XG4gICAgfVxufVxuY29uc3QgJGV2YWx1YXRhYmxlcyA9IFN5bWJvbCgnZXZhbHVhdGFibGVzJyk7XG5jb25zdCAkaW50cmluc2ljcyA9IFN5bWJvbCgnaW50cmluc2ljcycpO1xuLyoqXG4gKiBBIFZlY3RvckV2YWx1YXRvciBldmFsdWF0ZXMgYSBzZXJpZXMgb2YgbnVtZXJpYyB0ZXJtcyB0aGF0IHVzdWFsbHkgcmVwcmVzZW50XG4gKiBhIGRhdGEgc3RydWN0dXJlIHN1Y2ggYXMgYSBtdWx0aS1kaW1lbnNpb25hbCB2ZWN0b3Igb3IgYSBzcGhlcmljYWxcbiAqXG4gKiBUaGUgZm9ybSBvZiB0aGUgZXZhbHVhdG9yJ3MgcmVzdWx0IGlzIGRldGVybWluZWQgYnkgdGhlIEludHJpbnNpY3MgdGhhdCBhcmVcbiAqIGdpdmVuIHRvIGl0IHdoZW4gaXQgaXMgY29uc3RydWN0ZWQuIEZvciBleGFtcGxlLCBzcGhlcmljYWwgaW50cmluc2ljcyB3b3VsZFxuICogZXN0YWJsaXNoIHR3byBhbmdsZSB0ZXJtcyBhbmQgYSBsZW5ndGggdGVybSwgc28gdGhlIHJlc3VsdCBvZiBldmFsdWF0aW5nIHRoZVxuICogZXZhbHVhdG9yIHRoYXQgaXMgY29uZmlndXJlZCB3aXRoIHNwaGVyaWNhbCBpbnRyaW5zaWNzIGlzIGEgdGhyZWUgZWxlbWVudFxuICogYXJyYXkgd2hlcmUgdGhlIGZpcnN0IHR3byBlbGVtZW50cyByZXByZXNlbnQgYW5nbGVzIGluIHJhZGlhbnMgYW5kIHRoZSB0aGlyZFxuICogZWxlbWVudCByZXByZXNlbnRpbmcgYSBsZW5ndGggaW4gbWV0ZXJzLlxuICovXG5leHBvcnQgY2xhc3MgU3R5bGVFdmFsdWF0b3IgZXh0ZW5kcyBFdmFsdWF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGV4cHJlc3Npb25zLCBpbnRyaW5zaWNzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXNbJGludHJpbnNpY3NdID0gaW50cmluc2ljcztcbiAgICAgICAgY29uc3QgZmlyc3RFeHByZXNzaW9uID0gZXhwcmVzc2lvbnNbMF07XG4gICAgICAgIGNvbnN0IHRlcm1zID0gZmlyc3RFeHByZXNzaW9uICE9IG51bGwgPyBmaXJzdEV4cHJlc3Npb24udGVybXMgOiBbXTtcbiAgICAgICAgdGhpc1skZXZhbHVhdGFibGVzXSA9XG4gICAgICAgICAgICBpbnRyaW5zaWNzLmJhc2lzLm1hcCgoYmFzaXNOb2RlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSB0ZXJtc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKHRlcm0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiAnaWRlbnQnLCB2YWx1ZTogJ2F1dG8nIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0ZXJtLnR5cGUgPT09ICdpZGVudCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlcm07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBFdmFsdWF0b3IuZXZhbHVhdGFibGVGb3IodGVybSwgYmFzaXNOb2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgaXNDb25zdGFudCgpIHtcbiAgICAgICAgZm9yIChjb25zdCBldmFsdWF0YWJsZSBvZiB0aGlzWyRldmFsdWF0YWJsZXNdKSB7XG4gICAgICAgICAgICBpZiAoIUV2YWx1YXRvci5pc0NvbnN0YW50KGV2YWx1YXRhYmxlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgWyRldmFsdWF0ZV0oKSB7XG4gICAgICAgIGNvbnN0IGV2YWx1YXRlZCA9IHRoaXNbJGV2YWx1YXRhYmxlc10ubWFwKGV2YWx1YXRhYmxlID0+IEV2YWx1YXRvci5ldmFsdWF0ZShldmFsdWF0YWJsZSkpO1xuICAgICAgICByZXR1cm4gRXZhbHVhdG9yLmFwcGx5SW50cmluc2ljcyhldmFsdWF0ZWQsIHRoaXNbJGludHJpbnNpY3NdKVxuICAgICAgICAgICAgLm1hcChudW1iZXJOb2RlID0+IG51bWJlck5vZGUubnVtYmVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmFsdWF0b3JzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/evaluators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/parsers.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ASTWalker: () => (/* binding */ ASTWalker),\n/* harmony export */   ZERO: () => (/* binding */ ZERO),\n/* harmony export */   numberNode: () => (/* binding */ numberNode),\n/* harmony export */   parseExpressions: () => (/* binding */ parseExpressions)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst numberNode = (value, unit) => ({ type: 'number', number: value, unit });\n/**\n * Given a string representing a comma-separated set of CSS-like expressions,\n * parses and returns an array of ASTs that correspond to those expressions.\n *\n * Currently supported syntax includes:\n *\n *  - functions (top-level and nested)\n *  - calc() arithmetic operators\n *  - numbers with units\n *  - hexadecimal-encoded colors in 3, 6 or 8 digit form\n *  - idents\n *\n * All syntax is intended to match the parsing rules and semantics of the actual\n * CSS spec as closely as possible.\n *\n * @see https://www.w3.org/TR/CSS2/\n * @see https://www.w3.org/TR/css-values-3/\n */\nconst parseExpressions = (() => {\n    const cache = {};\n    const MAX_PARSE_ITERATIONS = 1000; // Arbitrarily large\n    return (inputString) => {\n        const cacheKey = inputString;\n        if (cacheKey in cache) {\n            return cache[cacheKey];\n        }\n        const expressions = [];\n        let parseIterations = 0;\n        while (inputString) {\n            if (++parseIterations > MAX_PARSE_ITERATIONS) {\n                // Avoid a potentially infinite loop due to typos:\n                inputString = '';\n                break;\n            }\n            const expressionParseResult = parseExpression(inputString);\n            const expression = expressionParseResult.nodes[0];\n            if (expression == null || expression.terms.length === 0) {\n                break;\n            }\n            expressions.push(expression);\n            inputString = expressionParseResult.remainingInput;\n        }\n        return cache[cacheKey] = expressions;\n    };\n})();\n/**\n * Parse a single expression. For the purposes of our supported syntax, an\n * expression is the set of semantically meaningful terms that appear before the\n * next comma, or between the parens of a function invocation.\n */\nconst parseExpression = (() => {\n    const IS_IDENT_RE = /^(\\-\\-|[a-z\\u0240-\\uffff])/i;\n    const IS_OPERATOR_RE = /^([\\*\\+\\/]|[\\-]\\s)/i;\n    const IS_EXPRESSION_END_RE = /^[\\),]/;\n    const FUNCTION_ARGUMENTS_FIRST_TOKEN = '(';\n    const HEX_FIRST_TOKEN = '#';\n    return (inputString) => {\n        const terms = [];\n        while (inputString.length) {\n            inputString = inputString.trim();\n            if (IS_EXPRESSION_END_RE.test(inputString)) {\n                break;\n            }\n            else if (inputString[0] === FUNCTION_ARGUMENTS_FIRST_TOKEN) {\n                const { nodes, remainingInput } = parseFunctionArguments(inputString);\n                inputString = remainingInput;\n                terms.push({\n                    type: 'function',\n                    name: { type: 'ident', value: 'calc' },\n                    arguments: nodes\n                });\n            }\n            else if (IS_IDENT_RE.test(inputString)) {\n                const identParseResult = parseIdent(inputString);\n                const identNode = identParseResult.nodes[0];\n                inputString = identParseResult.remainingInput;\n                if (inputString[0] === FUNCTION_ARGUMENTS_FIRST_TOKEN) {\n                    const { nodes, remainingInput } = parseFunctionArguments(inputString);\n                    terms.push({ type: 'function', name: identNode, arguments: nodes });\n                    inputString = remainingInput;\n                }\n                else {\n                    terms.push(identNode);\n                }\n            }\n            else if (IS_OPERATOR_RE.test(inputString)) {\n                // Operators are always a single character, so just pluck them out:\n                terms.push({ type: 'operator', value: inputString[0] });\n                inputString = inputString.slice(1);\n            }\n            else {\n                const { nodes, remainingInput } = inputString[0] === HEX_FIRST_TOKEN ?\n                    parseHex(inputString) :\n                    parseNumber(inputString);\n                // The remaining string may not have had any meaningful content. Exit\n                // early if this is the case:\n                if (nodes.length === 0) {\n                    break;\n                }\n                terms.push(nodes[0]);\n                inputString = remainingInput;\n            }\n        }\n        return { nodes: [{ type: 'expression', terms }], remainingInput: inputString };\n    };\n})();\n/**\n * An ident is something like a function name or the keyword \"auto\".\n */\nconst parseIdent = (() => {\n    const NOT_IDENT_RE = /[^a-z0-9_\\-\\u0240-\\uffff]/i;\n    return (inputString) => {\n        const match = inputString.match(NOT_IDENT_RE);\n        const ident = match == null ? inputString : inputString.substr(0, match.index);\n        const remainingInput = match == null ? '' : inputString.substr(match.index);\n        return { nodes: [{ type: 'ident', value: ident }], remainingInput };\n    };\n})();\n/**\n * Parses a number. A number value can be expressed with an integer or\n * non-integer syntax, and usually includes a unit (but does not strictly\n * require one for our purposes).\n */\nconst parseNumber = (() => {\n    // @see https://www.w3.org/TR/css-syntax/#number-token-diagram\n    const VALUE_RE = /[\\+\\-]?(\\d+[\\.]\\d+|\\d+|[\\.]\\d+)([eE][\\+\\-]?\\d+)?/;\n    const UNIT_RE = /^[a-z%]+/i;\n    const ALLOWED_UNITS = /^(m|mm|cm|rad|deg|[%])$/;\n    return (inputString) => {\n        const valueMatch = inputString.match(VALUE_RE);\n        const value = valueMatch == null ? '0' : valueMatch[0];\n        inputString = value == null ? inputString : inputString.slice(value.length);\n        const unitMatch = inputString.match(UNIT_RE);\n        let unit = unitMatch != null && unitMatch[0] !== '' ? unitMatch[0] : null;\n        const remainingInput = unitMatch == null ? inputString : inputString.slice(unit.length);\n        if (unit != null && !ALLOWED_UNITS.test(unit)) {\n            unit = null;\n        }\n        return {\n            nodes: [{\n                    type: 'number',\n                    number: parseFloat(value) || 0,\n                    unit: unit\n                }],\n            remainingInput\n        };\n    };\n})();\n/**\n * Parses a hexadecimal-encoded color in 3, 6 or 8 digit form.\n */\nconst parseHex = (() => {\n    // TODO(cdata): right now we don't actually enforce the number of digits\n    const HEX_RE = /^[a-f0-9]*/i;\n    return (inputString) => {\n        inputString = inputString.slice(1).trim();\n        const hexMatch = inputString.match(HEX_RE);\n        const nodes = hexMatch == null ? [] : [{ type: 'hex', value: hexMatch[0] }];\n        return {\n            nodes,\n            remainingInput: hexMatch == null ? inputString :\n                inputString.slice(hexMatch[0].length)\n        };\n    };\n})();\n/**\n * Parses arguments passed to a function invocation (e.g., the expressions\n * within a matched set of parens).\n */\nconst parseFunctionArguments = (inputString) => {\n    const expressionNodes = [];\n    // Consume the opening paren\n    inputString = inputString.slice(1).trim();\n    while (inputString.length) {\n        const expressionParseResult = parseExpression(inputString);\n        expressionNodes.push(expressionParseResult.nodes[0]);\n        inputString = expressionParseResult.remainingInput.trim();\n        if (inputString[0] === ',') {\n            inputString = inputString.slice(1).trim();\n        }\n        else if (inputString[0] === ')') {\n            // Consume the closing paren and stop parsing\n            inputString = inputString.slice(1);\n            break;\n        }\n    }\n    return { nodes: expressionNodes, remainingInput: inputString };\n};\nconst $visitedTypes = Symbol('visitedTypes');\n/**\n * An ASTWalker walks an array of ASTs such as the type produced by\n * parseExpressions and invokes a callback for a configured set of nodes that\n * the user wishes to \"visit\" during the walk.\n */\nclass ASTWalker {\n    constructor(visitedTypes) {\n        this[$visitedTypes] = visitedTypes;\n    }\n    /**\n     * Walk the given set of ASTs, and invoke the provided callback for nodes that\n     * match the filtered set that the ASTWalker was constructed with.\n     */\n    walk(ast, callback) {\n        const remaining = ast.slice();\n        while (remaining.length) {\n            const next = remaining.shift();\n            if (this[$visitedTypes].indexOf(next.type) > -1) {\n                callback(next);\n            }\n            switch (next.type) {\n                case 'expression':\n                    remaining.unshift(...next.terms);\n                    break;\n                case 'function':\n                    remaining.unshift(next.name, ...next.arguments);\n                    break;\n            }\n        }\n    }\n}\nconst ZERO = Object.freeze({ type: 'number', number: 0, unit: null });\n//# sourceMappingURL=parsers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9wYXJzZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUNBQXVDLHFDQUFxQztBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4QkFBOEI7QUFDMUQ7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHdCQUF3QjtBQUNwRCxpQ0FBaUMscURBQXFEO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseUNBQXlDO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixVQUFVLDJCQUEyQjtBQUN0RDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVSw2QkFBNkI7QUFDeEQ7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxpQ0FBaUM7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIsdUNBQXVDO0FBQzNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvc3R5bGVzL3BhcnNlcnMuanM/OTkxYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5leHBvcnQgY29uc3QgbnVtYmVyTm9kZSA9ICh2YWx1ZSwgdW5pdCkgPT4gKHsgdHlwZTogJ251bWJlcicsIG51bWJlcjogdmFsdWUsIHVuaXQgfSk7XG4vKipcbiAqIEdpdmVuIGEgc3RyaW5nIHJlcHJlc2VudGluZyBhIGNvbW1hLXNlcGFyYXRlZCBzZXQgb2YgQ1NTLWxpa2UgZXhwcmVzc2lvbnMsXG4gKiBwYXJzZXMgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgQVNUcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhvc2UgZXhwcmVzc2lvbnMuXG4gKlxuICogQ3VycmVudGx5IHN1cHBvcnRlZCBzeW50YXggaW5jbHVkZXM6XG4gKlxuICogIC0gZnVuY3Rpb25zICh0b3AtbGV2ZWwgYW5kIG5lc3RlZClcbiAqICAtIGNhbGMoKSBhcml0aG1ldGljIG9wZXJhdG9yc1xuICogIC0gbnVtYmVycyB3aXRoIHVuaXRzXG4gKiAgLSBoZXhhZGVjaW1hbC1lbmNvZGVkIGNvbG9ycyBpbiAzLCA2IG9yIDggZGlnaXQgZm9ybVxuICogIC0gaWRlbnRzXG4gKlxuICogQWxsIHN5bnRheCBpcyBpbnRlbmRlZCB0byBtYXRjaCB0aGUgcGFyc2luZyBydWxlcyBhbmQgc2VtYW50aWNzIG9mIHRoZSBhY3R1YWxcbiAqIENTUyBzcGVjIGFzIGNsb3NlbHkgYXMgcG9zc2libGUuXG4gKlxuICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvQ1NTMi9cbiAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy12YWx1ZXMtMy9cbiAqL1xuZXhwb3J0IGNvbnN0IHBhcnNlRXhwcmVzc2lvbnMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGNhY2hlID0ge307XG4gICAgY29uc3QgTUFYX1BBUlNFX0lURVJBVElPTlMgPSAxMDAwOyAvLyBBcmJpdHJhcmlseSBsYXJnZVxuICAgIHJldHVybiAoaW5wdXRTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBpbnB1dFN0cmluZztcbiAgICAgICAgaWYgKGNhY2hlS2V5IGluIGNhY2hlKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbY2FjaGVLZXldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb25zID0gW107XG4gICAgICAgIGxldCBwYXJzZUl0ZXJhdGlvbnMgPSAwO1xuICAgICAgICB3aGlsZSAoaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgICAgIGlmICgrK3BhcnNlSXRlcmF0aW9ucyA+IE1BWF9QQVJTRV9JVEVSQVRJT05TKSB7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgYSBwb3RlbnRpYWxseSBpbmZpbml0ZSBsb29wIGR1ZSB0byB0eXBvczpcbiAgICAgICAgICAgICAgICBpbnB1dFN0cmluZyA9ICcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhwcmVzc2lvblBhcnNlUmVzdWx0ID0gcGFyc2VFeHByZXNzaW9uKGlucHV0U3RyaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBleHByZXNzaW9uUGFyc2VSZXN1bHQubm9kZXNbMF07XG4gICAgICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PSBudWxsIHx8IGV4cHJlc3Npb24udGVybXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSBleHByZXNzaW9uUGFyc2VSZXN1bHQucmVtYWluaW5nSW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlW2NhY2hlS2V5XSA9IGV4cHJlc3Npb25zO1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBQYXJzZSBhIHNpbmdsZSBleHByZXNzaW9uLiBGb3IgdGhlIHB1cnBvc2VzIG9mIG91ciBzdXBwb3J0ZWQgc3ludGF4LCBhblxuICogZXhwcmVzc2lvbiBpcyB0aGUgc2V0IG9mIHNlbWFudGljYWxseSBtZWFuaW5nZnVsIHRlcm1zIHRoYXQgYXBwZWFyIGJlZm9yZSB0aGVcbiAqIG5leHQgY29tbWEsIG9yIGJldHdlZW4gdGhlIHBhcmVucyBvZiBhIGZ1bmN0aW9uIGludm9jYXRpb24uXG4gKi9cbmNvbnN0IHBhcnNlRXhwcmVzc2lvbiA9ICgoKSA9PiB7XG4gICAgY29uc3QgSVNfSURFTlRfUkUgPSAvXihcXC1cXC18W2EtelxcdTAyNDAtXFx1ZmZmZl0pL2k7XG4gICAgY29uc3QgSVNfT1BFUkFUT1JfUkUgPSAvXihbXFwqXFwrXFwvXXxbXFwtXVxccykvaTtcbiAgICBjb25zdCBJU19FWFBSRVNTSU9OX0VORF9SRSA9IC9eW1xcKSxdLztcbiAgICBjb25zdCBGVU5DVElPTl9BUkdVTUVOVFNfRklSU1RfVE9LRU4gPSAnKCc7XG4gICAgY29uc3QgSEVYX0ZJUlNUX1RPS0VOID0gJyMnO1xuICAgIHJldHVybiAoaW5wdXRTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgdGVybXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKGlucHV0U3RyaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy50cmltKCk7XG4gICAgICAgICAgICBpZiAoSVNfRVhQUkVTU0lPTl9FTkRfUkUudGVzdChpbnB1dFN0cmluZykpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0U3RyaW5nWzBdID09PSBGVU5DVElPTl9BUkdVTUVOVFNfRklSU1RfVE9LRU4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5vZGVzLCByZW1haW5pbmdJbnB1dCB9ID0gcGFyc2VGdW5jdGlvbkFyZ3VtZW50cyhpbnB1dFN0cmluZyk7XG4gICAgICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSByZW1haW5pbmdJbnB1dDtcbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogeyB0eXBlOiAnaWRlbnQnLCB2YWx1ZTogJ2NhbGMnIH0sXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogbm9kZXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKElTX0lERU5UX1JFLnRlc3QoaW5wdXRTdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRlbnRQYXJzZVJlc3VsdCA9IHBhcnNlSWRlbnQoaW5wdXRTdHJpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkZW50Tm9kZSA9IGlkZW50UGFyc2VSZXN1bHQubm9kZXNbMF07XG4gICAgICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSBpZGVudFBhcnNlUmVzdWx0LnJlbWFpbmluZ0lucHV0O1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dFN0cmluZ1swXSA9PT0gRlVOQ1RJT05fQVJHVU1FTlRTX0ZJUlNUX1RPS0VOKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbm9kZXMsIHJlbWFpbmluZ0lucHV0IH0gPSBwYXJzZUZ1bmN0aW9uQXJndW1lbnRzKGlucHV0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgdGVybXMucHVzaCh7IHR5cGU6ICdmdW5jdGlvbicsIG5hbWU6IGlkZW50Tm9kZSwgYXJndW1lbnRzOiBub2RlcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSByZW1haW5pbmdJbnB1dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRlcm1zLnB1c2goaWRlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChJU19PUEVSQVRPUl9SRS50ZXN0KGlucHV0U3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIC8vIE9wZXJhdG9ycyBhcmUgYWx3YXlzIGEgc2luZ2xlIGNoYXJhY3Rlciwgc28ganVzdCBwbHVjayB0aGVtIG91dDpcbiAgICAgICAgICAgICAgICB0ZXJtcy5wdXNoKHsgdHlwZTogJ29wZXJhdG9yJywgdmFsdWU6IGlucHV0U3RyaW5nWzBdIH0pO1xuICAgICAgICAgICAgICAgIGlucHV0U3RyaW5nID0gaW5wdXRTdHJpbmcuc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5vZGVzLCByZW1haW5pbmdJbnB1dCB9ID0gaW5wdXRTdHJpbmdbMF0gPT09IEhFWF9GSVJTVF9UT0tFTiA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlSGV4KGlucHV0U3RyaW5nKSA6XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlTnVtYmVyKGlucHV0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAvLyBUaGUgcmVtYWluaW5nIHN0cmluZyBtYXkgbm90IGhhdmUgaGFkIGFueSBtZWFuaW5nZnVsIGNvbnRlbnQuIEV4aXRcbiAgICAgICAgICAgICAgICAvLyBlYXJseSBpZiB0aGlzIGlzIHRoZSBjYXNlOlxuICAgICAgICAgICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRlcm1zLnB1c2gobm9kZXNbMF0pO1xuICAgICAgICAgICAgICAgIGlucHV0U3RyaW5nID0gcmVtYWluaW5nSW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbm9kZXM6IFt7IHR5cGU6ICdleHByZXNzaW9uJywgdGVybXMgfV0sIHJlbWFpbmluZ0lucHV0OiBpbnB1dFN0cmluZyB9O1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBBbiBpZGVudCBpcyBzb21ldGhpbmcgbGlrZSBhIGZ1bmN0aW9uIG5hbWUgb3IgdGhlIGtleXdvcmQgXCJhdXRvXCIuXG4gKi9cbmNvbnN0IHBhcnNlSWRlbnQgPSAoKCkgPT4ge1xuICAgIGNvbnN0IE5PVF9JREVOVF9SRSA9IC9bXmEtejAtOV9cXC1cXHUwMjQwLVxcdWZmZmZdL2k7XG4gICAgcmV0dXJuIChpbnB1dFN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBtYXRjaCA9IGlucHV0U3RyaW5nLm1hdGNoKE5PVF9JREVOVF9SRSk7XG4gICAgICAgIGNvbnN0IGlkZW50ID0gbWF0Y2ggPT0gbnVsbCA/IGlucHV0U3RyaW5nIDogaW5wdXRTdHJpbmcuc3Vic3RyKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nSW5wdXQgPSBtYXRjaCA9PSBudWxsID8gJycgOiBpbnB1dFN0cmluZy5zdWJzdHIobWF0Y2guaW5kZXgpO1xuICAgICAgICByZXR1cm4geyBub2RlczogW3sgdHlwZTogJ2lkZW50JywgdmFsdWU6IGlkZW50IH1dLCByZW1haW5pbmdJbnB1dCB9O1xuICAgIH07XG59KSgpO1xuLyoqXG4gKiBQYXJzZXMgYSBudW1iZXIuIEEgbnVtYmVyIHZhbHVlIGNhbiBiZSBleHByZXNzZWQgd2l0aCBhbiBpbnRlZ2VyIG9yXG4gKiBub24taW50ZWdlciBzeW50YXgsIGFuZCB1c3VhbGx5IGluY2x1ZGVzIGEgdW5pdCAoYnV0IGRvZXMgbm90IHN0cmljdGx5XG4gKiByZXF1aXJlIG9uZSBmb3Igb3VyIHB1cnBvc2VzKS5cbiAqL1xuY29uc3QgcGFyc2VOdW1iZXIgPSAoKCkgPT4ge1xuICAgIC8vIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL2Nzcy1zeW50YXgvI251bWJlci10b2tlbi1kaWFncmFtXG4gICAgY29uc3QgVkFMVUVfUkUgPSAvW1xcK1xcLV0/KFxcZCtbXFwuXVxcZCt8XFxkK3xbXFwuXVxcZCspKFtlRV1bXFwrXFwtXT9cXGQrKT8vO1xuICAgIGNvbnN0IFVOSVRfUkUgPSAvXlthLXolXSsvaTtcbiAgICBjb25zdCBBTExPV0VEX1VOSVRTID0gL14obXxtbXxjbXxyYWR8ZGVnfFslXSkkLztcbiAgICByZXR1cm4gKGlucHV0U3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlTWF0Y2ggPSBpbnB1dFN0cmluZy5tYXRjaChWQUxVRV9SRSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVNYXRjaCA9PSBudWxsID8gJzAnIDogdmFsdWVNYXRjaFswXTtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSB2YWx1ZSA9PSBudWxsID8gaW5wdXRTdHJpbmcgOiBpbnB1dFN0cmluZy5zbGljZSh2YWx1ZS5sZW5ndGgpO1xuICAgICAgICBjb25zdCB1bml0TWF0Y2ggPSBpbnB1dFN0cmluZy5tYXRjaChVTklUX1JFKTtcbiAgICAgICAgbGV0IHVuaXQgPSB1bml0TWF0Y2ggIT0gbnVsbCAmJiB1bml0TWF0Y2hbMF0gIT09ICcnID8gdW5pdE1hdGNoWzBdIDogbnVsbDtcbiAgICAgICAgY29uc3QgcmVtYWluaW5nSW5wdXQgPSB1bml0TWF0Y2ggPT0gbnVsbCA/IGlucHV0U3RyaW5nIDogaW5wdXRTdHJpbmcuc2xpY2UodW5pdC5sZW5ndGgpO1xuICAgICAgICBpZiAodW5pdCAhPSBudWxsICYmICFBTExPV0VEX1VOSVRTLnRlc3QodW5pdCkpIHtcbiAgICAgICAgICAgIHVuaXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub2RlczogW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgICAgIG51bWJlcjogcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMCxcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogdW5pdFxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgcmVtYWluaW5nSW5wdXRcbiAgICAgICAgfTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogUGFyc2VzIGEgaGV4YWRlY2ltYWwtZW5jb2RlZCBjb2xvciBpbiAzLCA2IG9yIDggZGlnaXQgZm9ybS5cbiAqL1xuY29uc3QgcGFyc2VIZXggPSAoKCkgPT4ge1xuICAgIC8vIFRPRE8oY2RhdGEpOiByaWdodCBub3cgd2UgZG9uJ3QgYWN0dWFsbHkgZW5mb3JjZSB0aGUgbnVtYmVyIG9mIGRpZ2l0c1xuICAgIGNvbnN0IEhFWF9SRSA9IC9eW2EtZjAtOV0qL2k7XG4gICAgcmV0dXJuIChpbnB1dFN0cmluZykgPT4ge1xuICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnNsaWNlKDEpLnRyaW0oKTtcbiAgICAgICAgY29uc3QgaGV4TWF0Y2ggPSBpbnB1dFN0cmluZy5tYXRjaChIRVhfUkUpO1xuICAgICAgICBjb25zdCBub2RlcyA9IGhleE1hdGNoID09IG51bGwgPyBbXSA6IFt7IHR5cGU6ICdoZXgnLCB2YWx1ZTogaGV4TWF0Y2hbMF0gfV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub2RlcyxcbiAgICAgICAgICAgIHJlbWFpbmluZ0lucHV0OiBoZXhNYXRjaCA9PSBudWxsID8gaW5wdXRTdHJpbmcgOlxuICAgICAgICAgICAgICAgIGlucHV0U3RyaW5nLnNsaWNlKGhleE1hdGNoWzBdLmxlbmd0aClcbiAgICAgICAgfTtcbiAgICB9O1xufSkoKTtcbi8qKlxuICogUGFyc2VzIGFyZ3VtZW50cyBwYXNzZWQgdG8gYSBmdW5jdGlvbiBpbnZvY2F0aW9uIChlLmcuLCB0aGUgZXhwcmVzc2lvbnNcbiAqIHdpdGhpbiBhIG1hdGNoZWQgc2V0IG9mIHBhcmVucykuXG4gKi9cbmNvbnN0IHBhcnNlRnVuY3Rpb25Bcmd1bWVudHMgPSAoaW5wdXRTdHJpbmcpID0+IHtcbiAgICBjb25zdCBleHByZXNzaW9uTm9kZXMgPSBbXTtcbiAgICAvLyBDb25zdW1lIHRoZSBvcGVuaW5nIHBhcmVuXG4gICAgaW5wdXRTdHJpbmcgPSBpbnB1dFN0cmluZy5zbGljZSgxKS50cmltKCk7XG4gICAgd2hpbGUgKGlucHV0U3RyaW5nLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBleHByZXNzaW9uUGFyc2VSZXN1bHQgPSBwYXJzZUV4cHJlc3Npb24oaW5wdXRTdHJpbmcpO1xuICAgICAgICBleHByZXNzaW9uTm9kZXMucHVzaChleHByZXNzaW9uUGFyc2VSZXN1bHQubm9kZXNbMF0pO1xuICAgICAgICBpbnB1dFN0cmluZyA9IGV4cHJlc3Npb25QYXJzZVJlc3VsdC5yZW1haW5pbmdJbnB1dC50cmltKCk7XG4gICAgICAgIGlmIChpbnB1dFN0cmluZ1swXSA9PT0gJywnKSB7XG4gICAgICAgICAgICBpbnB1dFN0cmluZyA9IGlucHV0U3RyaW5nLnNsaWNlKDEpLnRyaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnB1dFN0cmluZ1swXSA9PT0gJyknKSB7XG4gICAgICAgICAgICAvLyBDb25zdW1lIHRoZSBjbG9zaW5nIHBhcmVuIGFuZCBzdG9wIHBhcnNpbmdcbiAgICAgICAgICAgIGlucHV0U3RyaW5nID0gaW5wdXRTdHJpbmcuc2xpY2UoMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBub2RlczogZXhwcmVzc2lvbk5vZGVzLCByZW1haW5pbmdJbnB1dDogaW5wdXRTdHJpbmcgfTtcbn07XG5jb25zdCAkdmlzaXRlZFR5cGVzID0gU3ltYm9sKCd2aXNpdGVkVHlwZXMnKTtcbi8qKlxuICogQW4gQVNUV2Fsa2VyIHdhbGtzIGFuIGFycmF5IG9mIEFTVHMgc3VjaCBhcyB0aGUgdHlwZSBwcm9kdWNlZCBieVxuICogcGFyc2VFeHByZXNzaW9ucyBhbmQgaW52b2tlcyBhIGNhbGxiYWNrIGZvciBhIGNvbmZpZ3VyZWQgc2V0IG9mIG5vZGVzIHRoYXRcbiAqIHRoZSB1c2VyIHdpc2hlcyB0byBcInZpc2l0XCIgZHVyaW5nIHRoZSB3YWxrLlxuICovXG5leHBvcnQgY2xhc3MgQVNUV2Fsa2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aXNpdGVkVHlwZXMpIHtcbiAgICAgICAgdGhpc1skdmlzaXRlZFR5cGVzXSA9IHZpc2l0ZWRUeXBlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2FsayB0aGUgZ2l2ZW4gc2V0IG9mIEFTVHMsIGFuZCBpbnZva2UgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGZvciBub2RlcyB0aGF0XG4gICAgICogbWF0Y2ggdGhlIGZpbHRlcmVkIHNldCB0aGF0IHRoZSBBU1RXYWxrZXIgd2FzIGNvbnN0cnVjdGVkIHdpdGguXG4gICAgICovXG4gICAgd2Fsayhhc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGFzdC5zbGljZSgpO1xuICAgICAgICB3aGlsZSAocmVtYWluaW5nLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHJlbWFpbmluZy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJHZpc2l0ZWRUeXBlc10uaW5kZXhPZihuZXh0LnR5cGUpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAobmV4dC50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZXhwcmVzc2lvbic6XG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZy51bnNoaWZ0KC4uLm5leHQudGVybXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIHJlbWFpbmluZy51bnNoaWZ0KG5leHQubmFtZSwgLi4ubmV4dC5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBaRVJPID0gT2JqZWN0LmZyZWV6ZSh7IHR5cGU6ICdudW1iZXInLCBudW1iZXI6IDAsIHVuaXQ6IG51bGwgfSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/styles/style-effector.js":
/*!************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/styles/style-effector.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StyleEffector: () => (/* binding */ StyleEffector)\n/* harmony export */ });\n/* harmony import */ var _parsers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parsers */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a, _b, _c, _d;\n\nconst $instances = Symbol('instances');\nconst $activateListener = Symbol('activateListener');\nconst $deactivateListener = Symbol('deactivateListener');\nconst $notifyInstances = Symbol('notifyInstances');\nconst $notify = Symbol('notify');\nconst $scrollCallback = Symbol('callback');\n/**\n * This internal helper is intended to work as a reference-counting manager of\n * scroll event listeners. Only one scroll listener is ever registered for all\n * instances of the class, and when the last ScrollObserver \"disconnects\", that\n * event listener is removed. This spares us from thrashing\n * the {add,remove}EventListener API (the binding cost of these methods has been\n * known to show up in performance analyses) as well as potential memory leaks.\n */\nclass ScrollObserver {\n    constructor(callback) {\n        this[$scrollCallback] = callback;\n    }\n    static [$notifyInstances]() {\n        for (const instance of ScrollObserver[$instances]) {\n            instance[$notify]();\n        }\n    }\n    static [(_a = $instances, $activateListener)]() {\n        window.addEventListener('scroll', this[$notifyInstances], { passive: true });\n    }\n    static [$deactivateListener]() {\n        window.removeEventListener('scroll', this[$notifyInstances]);\n    }\n    /**\n     * Listen for scroll events. The configured callback (passed to the\n     * constructor) will be invoked for subsequent global scroll events.\n     */\n    observe() {\n        if (ScrollObserver[$instances].size === 0) {\n            ScrollObserver[$activateListener]();\n        }\n        ScrollObserver[$instances].add(this);\n    }\n    /**\n     * Stop listening for scroll events.\n     */\n    disconnect() {\n        ScrollObserver[$instances].delete(this);\n        if (ScrollObserver[$instances].size === 0) {\n            ScrollObserver[$deactivateListener]();\n        }\n    }\n    [$notify]() {\n        this[$scrollCallback]();\n    }\n    ;\n}\nScrollObserver[_a] = new Set();\nconst $computeStyleCallback = Symbol('computeStyleCallback');\nconst $astWalker = Symbol('astWalker');\nconst $dependencies = Symbol('dependencies');\nconst $onScroll = Symbol('onScroll');\n/**\n * The StyleEffector is configured with a callback that will be invoked at the\n * optimal time that some array of CSS expression ASTs ought to be evaluated.\n *\n * For example, our CSS-like expression syntax supports usage of the env()\n * function to incorporate the current top-level scroll position into a CSS\n * expression: env(window-scroll-y).\n *\n * This \"environment variable\" will change dynamically as the user scrolls the\n * page. If an AST contains such a usage of env(), we would have to evaluate the\n * AST on every frame in order to be sure that the computed style stays up to\n * date.\n *\n * The StyleEffector spares us from evaluating the expressions on every frame by\n * correlating specific parts of an AST with observers of the external effects\n * that they refer to (if any). So, if the AST contains env(window-scroll-y),\n * the StyleEffector manages the lifetime of a global scroll event listener and\n * notifies the user at the optimal time to evaluate the computed style.\n */\nclass StyleEffector {\n    constructor(callback) {\n        this[_b] = {};\n        this[_c] = new _parsers__WEBPACK_IMPORTED_MODULE_0__.ASTWalker(['function']);\n        this[_d] = () => {\n            this[$computeStyleCallback]({ relatedState: 'window-scroll' });\n        };\n        this[$computeStyleCallback] = callback;\n    }\n    /**\n     * Sets the expressions that govern when the StyleEffector callback will be\n     * invoked.\n     */\n    observeEffectsFor(ast) {\n        const newDependencies = {};\n        const oldDependencies = this[$dependencies];\n        this[$astWalker].walk(ast, functionNode => {\n            const { name } = functionNode;\n            const firstArgument = functionNode.arguments[0];\n            const firstTerm = firstArgument.terms[0];\n            if (name.value !== 'env' || firstTerm == null ||\n                firstTerm.type !== 'ident') {\n                return;\n            }\n            switch (firstTerm.value) {\n                case 'window-scroll-y':\n                    if (newDependencies['window-scroll'] == null) {\n                        const observer = 'window-scroll' in oldDependencies ?\n                            oldDependencies['window-scroll'] :\n                            new ScrollObserver(this[$onScroll]);\n                        observer.observe();\n                        delete oldDependencies['window-scroll'];\n                        newDependencies['window-scroll'] = observer;\n                    }\n                    break;\n            }\n        });\n        for (const environmentState in oldDependencies) {\n            const observer = oldDependencies[environmentState];\n            observer.disconnect();\n        }\n        this[$dependencies] = newDependencies;\n    }\n    /**\n     * Disposes of the StyleEffector by disconnecting all observers of external\n     * effects.\n     */\n    dispose() {\n        for (const environmentState in this[$dependencies]) {\n            const observer = this[$dependencies][environmentState];\n            observer.disconnect();\n        }\n    }\n}\n_b = $dependencies, _c = $astWalker, _d = $onScroll;\n//# sourceMappingURL=style-effector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3N0eWxlcy9zdHlsZS1lZmZlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxXQUFXO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxlQUFlO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsdUJBQXVCLCtDQUFTO0FBQ2hDO0FBQ0EsMENBQTBDLCtCQUErQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvc3R5bGVzL3N0eWxlLWVmZmVjdG9yLmpzP2Y1ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9hLCBfYiwgX2MsIF9kO1xuaW1wb3J0IHsgQVNUV2Fsa2VyIH0gZnJvbSAnLi9wYXJzZXJzJztcbmNvbnN0ICRpbnN0YW5jZXMgPSBTeW1ib2woJ2luc3RhbmNlcycpO1xuY29uc3QgJGFjdGl2YXRlTGlzdGVuZXIgPSBTeW1ib2woJ2FjdGl2YXRlTGlzdGVuZXInKTtcbmNvbnN0ICRkZWFjdGl2YXRlTGlzdGVuZXIgPSBTeW1ib2woJ2RlYWN0aXZhdGVMaXN0ZW5lcicpO1xuY29uc3QgJG5vdGlmeUluc3RhbmNlcyA9IFN5bWJvbCgnbm90aWZ5SW5zdGFuY2VzJyk7XG5jb25zdCAkbm90aWZ5ID0gU3ltYm9sKCdub3RpZnknKTtcbmNvbnN0ICRzY3JvbGxDYWxsYmFjayA9IFN5bWJvbCgnY2FsbGJhY2snKTtcbi8qKlxuICogVGhpcyBpbnRlcm5hbCBoZWxwZXIgaXMgaW50ZW5kZWQgdG8gd29yayBhcyBhIHJlZmVyZW5jZS1jb3VudGluZyBtYW5hZ2VyIG9mXG4gKiBzY3JvbGwgZXZlbnQgbGlzdGVuZXJzLiBPbmx5IG9uZSBzY3JvbGwgbGlzdGVuZXIgaXMgZXZlciByZWdpc3RlcmVkIGZvciBhbGxcbiAqIGluc3RhbmNlcyBvZiB0aGUgY2xhc3MsIGFuZCB3aGVuIHRoZSBsYXN0IFNjcm9sbE9ic2VydmVyIFwiZGlzY29ubmVjdHNcIiwgdGhhdFxuICogZXZlbnQgbGlzdGVuZXIgaXMgcmVtb3ZlZC4gVGhpcyBzcGFyZXMgdXMgZnJvbSB0aHJhc2hpbmdcbiAqIHRoZSB7YWRkLHJlbW92ZX1FdmVudExpc3RlbmVyIEFQSSAodGhlIGJpbmRpbmcgY29zdCBvZiB0aGVzZSBtZXRob2RzIGhhcyBiZWVuXG4gKiBrbm93biB0byBzaG93IHVwIGluIHBlcmZvcm1hbmNlIGFuYWx5c2VzKSBhcyB3ZWxsIGFzIHBvdGVudGlhbCBtZW1vcnkgbGVha3MuXG4gKi9cbmNsYXNzIFNjcm9sbE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzWyRzY3JvbGxDYWxsYmFja10gPSBjYWxsYmFjaztcbiAgICB9XG4gICAgc3RhdGljIFskbm90aWZ5SW5zdGFuY2VzXSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBTY3JvbGxPYnNlcnZlclskaW5zdGFuY2VzXSkge1xuICAgICAgICAgICAgaW5zdGFuY2VbJG5vdGlmeV0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgWyhfYSA9ICRpbnN0YW5jZXMsICRhY3RpdmF0ZUxpc3RlbmVyKV0oKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzWyRub3RpZnlJbnN0YW5jZXNdLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBbJGRlYWN0aXZhdGVMaXN0ZW5lcl0oKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzWyRub3RpZnlJbnN0YW5jZXNdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdGVuIGZvciBzY3JvbGwgZXZlbnRzLiBUaGUgY29uZmlndXJlZCBjYWxsYmFjayAocGFzc2VkIHRvIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yKSB3aWxsIGJlIGludm9rZWQgZm9yIHN1YnNlcXVlbnQgZ2xvYmFsIHNjcm9sbCBldmVudHMuXG4gICAgICovXG4gICAgb2JzZXJ2ZSgpIHtcbiAgICAgICAgaWYgKFNjcm9sbE9ic2VydmVyWyRpbnN0YW5jZXNdLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIFNjcm9sbE9ic2VydmVyWyRhY3RpdmF0ZUxpc3RlbmVyXSgpO1xuICAgICAgICB9XG4gICAgICAgIFNjcm9sbE9ic2VydmVyWyRpbnN0YW5jZXNdLmFkZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCBsaXN0ZW5pbmcgZm9yIHNjcm9sbCBldmVudHMuXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgU2Nyb2xsT2JzZXJ2ZXJbJGluc3RhbmNlc10uZGVsZXRlKHRoaXMpO1xuICAgICAgICBpZiAoU2Nyb2xsT2JzZXJ2ZXJbJGluc3RhbmNlc10uc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgU2Nyb2xsT2JzZXJ2ZXJbJGRlYWN0aXZhdGVMaXN0ZW5lcl0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbJG5vdGlmeV0oKSB7XG4gICAgICAgIHRoaXNbJHNjcm9sbENhbGxiYWNrXSgpO1xuICAgIH1cbiAgICA7XG59XG5TY3JvbGxPYnNlcnZlcltfYV0gPSBuZXcgU2V0KCk7XG5jb25zdCAkY29tcHV0ZVN0eWxlQ2FsbGJhY2sgPSBTeW1ib2woJ2NvbXB1dGVTdHlsZUNhbGxiYWNrJyk7XG5jb25zdCAkYXN0V2Fsa2VyID0gU3ltYm9sKCdhc3RXYWxrZXInKTtcbmNvbnN0ICRkZXBlbmRlbmNpZXMgPSBTeW1ib2woJ2RlcGVuZGVuY2llcycpO1xuY29uc3QgJG9uU2Nyb2xsID0gU3ltYm9sKCdvblNjcm9sbCcpO1xuLyoqXG4gKiBUaGUgU3R5bGVFZmZlY3RvciBpcyBjb25maWd1cmVkIHdpdGggYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgaW52b2tlZCBhdCB0aGVcbiAqIG9wdGltYWwgdGltZSB0aGF0IHNvbWUgYXJyYXkgb2YgQ1NTIGV4cHJlc3Npb24gQVNUcyBvdWdodCB0byBiZSBldmFsdWF0ZWQuXG4gKlxuICogRm9yIGV4YW1wbGUsIG91ciBDU1MtbGlrZSBleHByZXNzaW9uIHN5bnRheCBzdXBwb3J0cyB1c2FnZSBvZiB0aGUgZW52KClcbiAqIGZ1bmN0aW9uIHRvIGluY29ycG9yYXRlIHRoZSBjdXJyZW50IHRvcC1sZXZlbCBzY3JvbGwgcG9zaXRpb24gaW50byBhIENTU1xuICogZXhwcmVzc2lvbjogZW52KHdpbmRvdy1zY3JvbGwteSkuXG4gKlxuICogVGhpcyBcImVudmlyb25tZW50IHZhcmlhYmxlXCIgd2lsbCBjaGFuZ2UgZHluYW1pY2FsbHkgYXMgdGhlIHVzZXIgc2Nyb2xscyB0aGVcbiAqIHBhZ2UuIElmIGFuIEFTVCBjb250YWlucyBzdWNoIGEgdXNhZ2Ugb2YgZW52KCksIHdlIHdvdWxkIGhhdmUgdG8gZXZhbHVhdGUgdGhlXG4gKiBBU1Qgb24gZXZlcnkgZnJhbWUgaW4gb3JkZXIgdG8gYmUgc3VyZSB0aGF0IHRoZSBjb21wdXRlZCBzdHlsZSBzdGF5cyB1cCB0b1xuICogZGF0ZS5cbiAqXG4gKiBUaGUgU3R5bGVFZmZlY3RvciBzcGFyZXMgdXMgZnJvbSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9ucyBvbiBldmVyeSBmcmFtZSBieVxuICogY29ycmVsYXRpbmcgc3BlY2lmaWMgcGFydHMgb2YgYW4gQVNUIHdpdGggb2JzZXJ2ZXJzIG9mIHRoZSBleHRlcm5hbCBlZmZlY3RzXG4gKiB0aGF0IHRoZXkgcmVmZXIgdG8gKGlmIGFueSkuIFNvLCBpZiB0aGUgQVNUIGNvbnRhaW5zIGVudih3aW5kb3ctc2Nyb2xsLXkpLFxuICogdGhlIFN0eWxlRWZmZWN0b3IgbWFuYWdlcyB0aGUgbGlmZXRpbWUgb2YgYSBnbG9iYWwgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIGFuZFxuICogbm90aWZpZXMgdGhlIHVzZXIgYXQgdGhlIG9wdGltYWwgdGltZSB0byBldmFsdWF0ZSB0aGUgY29tcHV0ZWQgc3R5bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHlsZUVmZmVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzW19iXSA9IHt9O1xuICAgICAgICB0aGlzW19jXSA9IG5ldyBBU1RXYWxrZXIoWydmdW5jdGlvbiddKTtcbiAgICAgICAgdGhpc1tfZF0gPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzWyRjb21wdXRlU3R5bGVDYWxsYmFja10oeyByZWxhdGVkU3RhdGU6ICd3aW5kb3ctc2Nyb2xsJyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpc1skY29tcHV0ZVN0eWxlQ2FsbGJhY2tdID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGV4cHJlc3Npb25zIHRoYXQgZ292ZXJuIHdoZW4gdGhlIFN0eWxlRWZmZWN0b3IgY2FsbGJhY2sgd2lsbCBiZVxuICAgICAqIGludm9rZWQuXG4gICAgICovXG4gICAgb2JzZXJ2ZUVmZmVjdHNGb3IoYXN0KSB7XG4gICAgICAgIGNvbnN0IG5ld0RlcGVuZGVuY2llcyA9IHt9O1xuICAgICAgICBjb25zdCBvbGREZXBlbmRlbmNpZXMgPSB0aGlzWyRkZXBlbmRlbmNpZXNdO1xuICAgICAgICB0aGlzWyRhc3RXYWxrZXJdLndhbGsoYXN0LCBmdW5jdGlvbk5vZGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBuYW1lIH0gPSBmdW5jdGlvbk5vZGU7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEFyZ3VtZW50ID0gZnVuY3Rpb25Ob2RlLmFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGVybSA9IGZpcnN0QXJndW1lbnQudGVybXNbMF07XG4gICAgICAgICAgICBpZiAobmFtZS52YWx1ZSAhPT0gJ2VudicgfHwgZmlyc3RUZXJtID09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBmaXJzdFRlcm0udHlwZSAhPT0gJ2lkZW50Jykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoZmlyc3RUZXJtLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2luZG93LXNjcm9sbC15JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0RlcGVuZGVuY2llc1snd2luZG93LXNjcm9sbCddID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gJ3dpbmRvdy1zY3JvbGwnIGluIG9sZERlcGVuZGVuY2llcyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkRGVwZW5kZW5jaWVzWyd3aW5kb3ctc2Nyb2xsJ10gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBTY3JvbGxPYnNlcnZlcih0aGlzWyRvblNjcm9sbF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZERlcGVuZGVuY2llc1snd2luZG93LXNjcm9sbCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGVwZW5kZW5jaWVzWyd3aW5kb3ctc2Nyb2xsJ10gPSBvYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAoY29uc3QgZW52aXJvbm1lbnRTdGF0ZSBpbiBvbGREZXBlbmRlbmNpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gb2xkRGVwZW5kZW5jaWVzW2Vudmlyb25tZW50U3RhdGVdO1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJGRlcGVuZGVuY2llc10gPSBuZXdEZXBlbmRlbmNpZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIG9mIHRoZSBTdHlsZUVmZmVjdG9yIGJ5IGRpc2Nvbm5lY3RpbmcgYWxsIG9ic2VydmVycyBvZiBleHRlcm5hbFxuICAgICAqIGVmZmVjdHMuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnZpcm9ubWVudFN0YXRlIGluIHRoaXNbJGRlcGVuZGVuY2llc10pIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gdGhpc1skZGVwZW5kZW5jaWVzXVtlbnZpcm9ubWVudFN0YXRlXTtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9iID0gJGRlcGVuZGVuY2llcywgX2MgPSAkYXN0V2Fsa2VyLCBfZCA9ICRvblNjcm9sbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0eWxlLWVmZmVjdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/styles/style-effector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/template.js":
/*!***********************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/template.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   makeTemplate: () => (/* binding */ makeTemplate)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"(ssr)/./node_modules/lit/index.js\");\n/* harmony import */ var _assets_close_material_svg_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets/close-material-svg.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/assets/close-material-svg.js\");\n/* harmony import */ var _assets_controls_svg_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets/controls-svg.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/assets/controls-svg.js\");\n/* harmony import */ var _assets_view_in_ar_material_svg_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./assets/view-in-ar-material-svg.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/assets/view-in-ar-material-svg.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\nconst templateResult = (0,lit__WEBPACK_IMPORTED_MODULE_0__.html) `\n<style>\n:host {\n  display: block;\n  position: relative;\n  contain: strict;\n  width: 300px;\n  height: 150px;\n}\n\n/* NOTE: This rule set is our integration surface area with the\n * :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196 */\n:host([data-js-focus-visible]:focus:not(.focus-visible)),\n:host([data-js-focus-visible]) :focus:not(.focus-visible) {\n  outline: none;\n}\n\n.container {\n  position: relative;\n  overflow: hidden;\n}\n\n.userInput {\n  width: 100%;\n  height: 100%;\n  display: none;\n  position: relative;\n}\n\ncanvas {\n  position: absolute;\n  display: none;\n  pointer-events: none;\n  /* NOTE(cdata): Chrome 76 and below apparently have a bug\n   * that causes our canvas not to display pixels unless it is\n   * on its own render layer\n   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893\n   */\n  transform: translateZ(0);\n}\n\n.show {\n  display: block;\n}\n\n/* Adapted from HTML5 Boilerplate\n *\n * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */\n.screen-reader-only {\n  border: 0;\n  left: 0;\n  top: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n  pointer-events: none;\n}\n\n.slot {\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.slot > * {\n  pointer-events: initial;\n}\n\n.annotation-wrapper ::slotted(*) {\n  opacity: var(--max-hotspot-opacity, 1);\n  transition: opacity 0.3s;\n}\n\n.pointer-tumbling .annotation-wrapper ::slotted(*) {\n  pointer-events: none;\n}\n\n.annotation-wrapper ::slotted(*) {\n  pointer-events: initial;\n}\n\n.annotation-wrapper.hide ::slotted(*) {\n  opacity: var(--min-hotspot-opacity, 0.25);\n}\n\n.slot.poster {\n  display: none;\n  background-color: inherit;\n}\n\n.slot.poster.show {\n  display: inherit;\n}\n\n.slot.poster > * {\n  pointer-events: initial;\n}\n\n.slot.poster:not(.show) > * {\n  pointer-events: none;\n}\n\n#default-poster {\n  width: 100%;\n  height: 100%;\n  /* The default poster is a <button> so we need to set display\n   * to prevent it from being affected by text-align: */\n  display: block;\n  position: absolute;\n  border: none;\n  padding: 0;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: #fff0;\n}\n\n#default-progress-bar {\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--progress-bar-height, 5px);\n  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));\n  transition: transform 0.09s;\n  transform-origin: top left;\n  transform: scaleX(0);\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar.hide {\n  transition: opacity 0.3s 1s;\n  opacity: 0;\n}\n\n.centered {\n  align-items: center;\n  justify-content: center;\n}\n\n.cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.slot.interaction-prompt {\n  display: var(--interaction-prompt-display, flex);\n  overflow: hidden;\n  opacity: 0;\n  will-change: opacity;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt.visible {\n  opacity: 1;\n}\n\n.animated-container {\n  will-change: transform, opacity;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt > * {\n  pointer-events: none;\n}\n\n.slot.ar-button {\n  -moz-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n\n  display: var(--ar-button-display, block);\n}\n\n.slot.ar-button:not(.enabled) {\n  display: none;\n}\n\n.fab {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #fff;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);\n  border-radius: 100px;\n}\n\n.fab > * {\n  opacity: 0.87;\n}\n\n#default-ar-button {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  transform: scale(var(--ar-button-scale, 1));\n  transform-origin: bottom right;\n}\n\n.slot.pan-target {\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  left: 50%;\n  top: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  background-color: transparent;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n#default-pan-target {\n  width: 6px;\n  height: 6px;\n  border-radius: 6px;\n  border: 1px solid white;\n  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);\n}\n\n.slot.default {\n  pointer-events: none;\n}\n\n.slot.progress-bar {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button:not(.enabled) {\n  display: none;\n}\n\n#default-exit-webxr-ar-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: env(safe-area-inset-top, 16px);\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n\n#default-exit-webxr-ar-button > svg {\n  fill: #fff;\n}\n</style>\n<div class=\"container\">\n  <div class=\"userInput\" tabindex=\"0\" role=\"img\"\n      aria-label=\"3D model\">\n      <div class=\"slot canvas\">\n        <slot name=\"canvas\">\n          <canvas></canvas>\n        </slot>\n      </div>\n\n  </div>\n\n  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM\n        will have their <slot> elements removed by ShadyCSS -->\n  <div class=\"slot poster\">\n    <slot name=\"poster\">\n      <button type=\"button\" id=\"default-poster\" aria-hidden=\"true\" aria-label=\"Loading 3D model\"></button>\n    </slot>\n  </div>\n\n  <div class=\"slot ar-button\">\n    <slot name=\"ar-button\">\n      <a id=\"default-ar-button\" part=\"default-ar-button\" class=\"fab\"\n          tabindex=\"2\"\n          aria-label=\"View in your space\">\n        ${_assets_view_in_ar_material_svg_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]}\n      </a>\n    </slot>\n  </div>\n\n  <div class=\"slot pan-target\">\n    <slot name=\"pan-target\">\n      <div id=\"default-pan-target\">\n      </div>\n    </slot>\n  </div>\n\n  <div class=\"slot interaction-prompt cover centered\">\n    <div id=\"prompt\" class=\"animated-container\">\n      <slot name=\"interaction-prompt\" aria-hidden=\"true\">\n        ${_assets_controls_svg_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]}\n      </slot>\n    </div>\n  </div>\n\n  <div id=\"finger0\" class=\"animated-container cover\">\n    <slot name=\"finger0\" aria-hidden=\"true\">\n    </slot>\n  </div>\n  <div id=\"finger1\" class=\"animated-container cover\">\n    <slot name=\"finger1\" aria-hidden=\"true\">\n    </slot>\n  </div>\n\n  <div class=\"slot default\">\n    <slot></slot>\n\n    <div class=\"slot progress-bar\">\n      <slot name=\"progress-bar\">\n        <div id=\"default-progress-bar\" aria-hidden=\"true\">\n          <div class=\"bar\" part=\"default-progress-bar\"></div>\n        </div>\n      </slot>\n    </div>\n\n    <div class=\"slot exit-webxr-ar-button\">\n      <slot name=\"exit-webxr-ar-button\">\n        <a id=\"default-exit-webxr-ar-button\" part=\"default-exit-webxr-ar-button\"\n            tabindex=\"3\"\n            aria-label=\"Exit AR\"\n            aria-hidden=\"true\">\n          ${_assets_close_material_svg_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]}\n        </a>\n      </slot>\n    </div>\n  </div>\n</div>\n<div class=\"screen-reader-only\" role=\"region\" aria-label=\"Live announcements\">\n  <span id=\"status\" role=\"status\"></span>\n</div>`;\nconst makeTemplate = (shadowRoot) => {\n    (0,lit__WEBPACK_IMPORTED_MODULE_0__.render)(templateResult, shadowRoot);\n};\n//# sourceMappingURL=template.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RlbXBsYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNtQztBQUNvQjtBQUNEO0FBQ0k7QUFDMUQsdUJBQXVCLHlDQUFJO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwwRUFBTztBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsK0RBQWM7QUFDeEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFFQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLElBQUksMkNBQU07QUFDVjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGVtcGxhdGUuanM/NmY2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBodG1sLCByZW5kZXIgfSBmcm9tICdsaXQnO1xuaW1wb3J0IENsb3NlSWNvbiBmcm9tICcuL2Fzc2V0cy9jbG9zZS1tYXRlcmlhbC1zdmcuanMnO1xuaW1wb3J0IENvbnRyb2xzUHJvbXB0IGZyb20gJy4vYXNzZXRzL2NvbnRyb2xzLXN2Zy5qcyc7XG5pbXBvcnQgQVJHbHlwaCBmcm9tICcuL2Fzc2V0cy92aWV3LWluLWFyLW1hdGVyaWFsLXN2Zy5qcyc7XG5jb25zdCB0ZW1wbGF0ZVJlc3VsdCA9IGh0bWwgYFxuPHN0eWxlPlxuOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBjb250YWluOiBzdHJpY3Q7XG4gIHdpZHRoOiAzMDBweDtcbiAgaGVpZ2h0OiAxNTBweDtcbn1cblxuLyogTk9URTogVGhpcyBydWxlIHNldCBpcyBvdXIgaW50ZWdyYXRpb24gc3VyZmFjZSBhcmVhIHdpdGggdGhlXG4gKiA6Zm9jdXMtdmlzaWJsZSBwb2x5ZmlsbC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL2ZvY3VzLXZpc2libGUvcHVsbC8xOTYgKi9cbjpob3N0KFtkYXRhLWpzLWZvY3VzLXZpc2libGVdOmZvY3VzOm5vdCguZm9jdXMtdmlzaWJsZSkpLFxuOmhvc3QoW2RhdGEtanMtZm9jdXMtdmlzaWJsZV0pIDpmb2N1czpub3QoLmZvY3VzLXZpc2libGUpIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cblxuLmNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnVzZXJJbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuY2FudmFzIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBub25lO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgLyogTk9URShjZGF0YSk6IENocm9tZSA3NiBhbmQgYmVsb3cgYXBwYXJlbnRseSBoYXZlIGEgYnVnXG4gICAqIHRoYXQgY2F1c2VzIG91ciBjYW52YXMgbm90IHRvIGRpc3BsYXkgcGl4ZWxzIHVubGVzcyBpdCBpc1xuICAgKiBvbiBpdHMgb3duIHJlbmRlciBsYXllclxuICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvbW9kZWwtdmlld2VyL3B1bGwvNzU1I2lzc3VlY29tbWVudC01MzY1OTc4OTNcbiAgICovXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcbn1cblxuLnNob3cge1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxuLyogQWRhcHRlZCBmcm9tIEhUTUw1IEJvaWxlcnBsYXRlXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vaDVicC9odG1sNS1ib2lsZXJwbGF0ZS9ibG9iL2NlYjQ2MjBjNzhmYzgyZTEzNTM0ZmM0NDIwMmEzZjE2ODc1NDg3M2YvZGlzdC9jc3MvbWFpbi5jc3MjTDEyMi1MMTMzICovXG4uc2NyZWVuLXJlYWRlci1vbmx5IHtcbiAgYm9yZGVyOiAwO1xuICBsZWZ0OiAwO1xuICB0b3A6IDA7XG4gIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XG4gIGhlaWdodDogMXB4O1xuICBtYXJnaW46IC0xcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBhZGRpbmc6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgd2lkdGg6IDFweDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5zbG90IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4uc2xvdCA+ICoge1xuICBwb2ludGVyLWV2ZW50czogaW5pdGlhbDtcbn1cblxuLmFubm90YXRpb24td3JhcHBlciA6OnNsb3R0ZWQoKikge1xuICBvcGFjaXR5OiB2YXIoLS1tYXgtaG90c3BvdC1vcGFjaXR5LCAxKTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xufVxuXG4ucG9pbnRlci10dW1ibGluZyAuYW5ub3RhdGlvbi13cmFwcGVyIDo6c2xvdHRlZCgqKSB7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xufVxuXG4uYW5ub3RhdGlvbi13cmFwcGVyIDo6c2xvdHRlZCgqKSB7XG4gIHBvaW50ZXItZXZlbnRzOiBpbml0aWFsO1xufVxuXG4uYW5ub3RhdGlvbi13cmFwcGVyLmhpZGUgOjpzbG90dGVkKCopIHtcbiAgb3BhY2l0eTogdmFyKC0tbWluLWhvdHNwb3Qtb3BhY2l0eSwgMC4yNSk7XG59XG5cbi5zbG90LnBvc3RlciB7XG4gIGRpc3BsYXk6IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XG59XG5cbi5zbG90LnBvc3Rlci5zaG93IHtcbiAgZGlzcGxheTogaW5oZXJpdDtcbn1cblxuLnNsb3QucG9zdGVyID4gKiB7XG4gIHBvaW50ZXItZXZlbnRzOiBpbml0aWFsO1xufVxuXG4uc2xvdC5wb3N0ZXI6bm90KC5zaG93KSA+ICoge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuI2RlZmF1bHQtcG9zdGVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgLyogVGhlIGRlZmF1bHQgcG9zdGVyIGlzIGEgPGJ1dHRvbj4gc28gd2UgbmVlZCB0byBzZXQgZGlzcGxheVxuICAgKiB0byBwcmV2ZW50IGl0IGZyb20gYmVpbmcgYWZmZWN0ZWQgYnkgdGV4dC1hbGlnbjogKi9cbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiAwO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjA7XG59XG5cbiNkZWZhdWx0LXByb2dyZXNzLWJhciB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4jZGVmYXVsdC1wcm9ncmVzcy1iYXIgPiAuYmFyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IHZhcigtLXByb2dyZXNzLWJhci1oZWlnaHQsIDVweCk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByb2dyZXNzLWJhci1jb2xvciwgcmdiYSgwLCAwLCAwLCAwLjQpKTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMDlzO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcbiAgdHJhbnNmb3JtOiBzY2FsZVgoMCk7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbiNkZWZhdWx0LXByb2dyZXNzLWJhciA+IC5iYXIuaGlkZSB7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcyAxcztcbiAgb3BhY2l0eTogMDtcbn1cblxuLmNlbnRlcmVkIHtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5jb3ZlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLnNsb3QuaW50ZXJhY3Rpb24tcHJvbXB0IHtcbiAgZGlzcGxheTogdmFyKC0taW50ZXJhY3Rpb24tcHJvbXB0LWRpc3BsYXksIGZsZXgpO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBvcGFjaXR5OiAwO1xuICB3aWxsLWNoYW5nZTogb3BhY2l0eTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xufVxuXG4uc2xvdC5pbnRlcmFjdGlvbi1wcm9tcHQudmlzaWJsZSB7XG4gIG9wYWNpdHk6IDE7XG59XG5cbi5hbmltYXRlZC1jb250YWluZXIge1xuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5O1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7XG59XG5cbi5zbG90LmludGVyYWN0aW9uLXByb21wdCA+ICoge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLnNsb3QuYXItYnV0dG9uIHtcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbiAgZGlzcGxheTogdmFyKC0tYXItYnV0dG9uLWRpc3BsYXksIGJsb2NrKTtcbn1cblxuLnNsb3QuYXItYnV0dG9uOm5vdCguZW5hYmxlZCkge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4uZmFiIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm94LXNoYWRvdzogMHB4IDBweCA0cHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgYm9yZGVyLXJhZGl1czogMTAwcHg7XG59XG5cbi5mYWIgPiAqIHtcbiAgb3BhY2l0eTogMC44Nztcbn1cblxuI2RlZmF1bHQtYXItYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDE2cHg7XG4gIHJpZ2h0OiAxNnB4O1xuICB0cmFuc2Zvcm06IHNjYWxlKHZhcigtLWFyLWJ1dHRvbi1zY2FsZSwgMSkpO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gcmlnaHQ7XG59XG5cbi5zbG90LnBhbi10YXJnZXQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMDtcbiAgaGVpZ2h0OiAwO1xuICBsZWZ0OiA1MCU7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xufVxuXG4jZGVmYXVsdC1wYW4tdGFyZ2V0IHtcbiAgd2lkdGg6IDZweDtcbiAgaGVpZ2h0OiA2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYm9yZGVyOiAxcHggc29saWQgd2hpdGU7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggMnB4IDFweCByZ2JhKDAsIDAsIDAsIDAuOCk7XG59XG5cbi5zbG90LmRlZmF1bHQge1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLnNsb3QucHJvZ3Jlc3MtYmFyIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5zbG90LmV4aXQtd2VieHItYXItYnV0dG9uIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG5cbi5zbG90LmV4aXQtd2VieHItYXItYnV0dG9uOm5vdCguZW5hYmxlZCkge1xuICBkaXNwbGF5OiBub25lO1xufVxuXG4jZGVmYXVsdC1leGl0LXdlYnhyLWFyLWJ1dHRvbiB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDE2cHgpO1xuICByaWdodDogMTZweDtcbiAgd2lkdGg6IDQwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuI2RlZmF1bHQtZXhpdC13ZWJ4ci1hci1idXR0b24gPiBzdmcge1xuICBmaWxsOiAjZmZmO1xufVxuPC9zdHlsZT5cbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgPGRpdiBjbGFzcz1cInVzZXJJbnB1dFwiIHRhYmluZGV4PVwiMFwiIHJvbGU9XCJpbWdcIlxuICAgICAgYXJpYS1sYWJlbD1cIjNEIG1vZGVsXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwic2xvdCBjYW52YXNcIj5cbiAgICAgICAgPHNsb3QgbmFtZT1cImNhbnZhc1wiPlxuICAgICAgICAgIDxjYW52YXM+PC9jYW52YXM+XG4gICAgICAgIDwvc2xvdD5cbiAgICAgIDwvZGl2PlxuXG4gIDwvZGl2PlxuXG4gIDwhLS0gTk9URShjZGF0YSk6IFdlIG5lZWQgdG8gd3JhcCBzbG90cyBiZWNhdXNlIGJyb3dzZXJzIHdpdGhvdXQgU2hhZG93RE9NXG4gICAgICAgIHdpbGwgaGF2ZSB0aGVpciA8c2xvdD4gZWxlbWVudHMgcmVtb3ZlZCBieSBTaGFkeUNTUyAtLT5cbiAgPGRpdiBjbGFzcz1cInNsb3QgcG9zdGVyXCI+XG4gICAgPHNsb3QgbmFtZT1cInBvc3RlclwiPlxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCJkZWZhdWx0LXBvc3RlclwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGFyaWEtbGFiZWw9XCJMb2FkaW5nIDNEIG1vZGVsXCI+PC9idXR0b24+XG4gICAgPC9zbG90PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwic2xvdCBhci1idXR0b25cIj5cbiAgICA8c2xvdCBuYW1lPVwiYXItYnV0dG9uXCI+XG4gICAgICA8YSBpZD1cImRlZmF1bHQtYXItYnV0dG9uXCIgcGFydD1cImRlZmF1bHQtYXItYnV0dG9uXCIgY2xhc3M9XCJmYWJcIlxuICAgICAgICAgIHRhYmluZGV4PVwiMlwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIlZpZXcgaW4geW91ciBzcGFjZVwiPlxuICAgICAgICAke0FSR2x5cGh9XG4gICAgICA8L2E+XG4gICAgPC9zbG90PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwic2xvdCBwYW4tdGFyZ2V0XCI+XG4gICAgPHNsb3QgbmFtZT1cInBhbi10YXJnZXRcIj5cbiAgICAgIDxkaXYgaWQ9XCJkZWZhdWx0LXBhbi10YXJnZXRcIj5cbiAgICAgIDwvZGl2PlxuICAgIDwvc2xvdD5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInNsb3QgaW50ZXJhY3Rpb24tcHJvbXB0IGNvdmVyIGNlbnRlcmVkXCI+XG4gICAgPGRpdiBpZD1cInByb21wdFwiIGNsYXNzPVwiYW5pbWF0ZWQtY29udGFpbmVyXCI+XG4gICAgICA8c2xvdCBuYW1lPVwiaW50ZXJhY3Rpb24tcHJvbXB0XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICR7Q29udHJvbHNQcm9tcHR9XG4gICAgICA8L3Nsb3Q+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgaWQ9XCJmaW5nZXIwXCIgY2xhc3M9XCJhbmltYXRlZC1jb250YWluZXIgY292ZXJcIj5cbiAgICA8c2xvdCBuYW1lPVwiZmluZ2VyMFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgIDwvc2xvdD5cbiAgPC9kaXY+XG4gIDxkaXYgaWQ9XCJmaW5nZXIxXCIgY2xhc3M9XCJhbmltYXRlZC1jb250YWluZXIgY292ZXJcIj5cbiAgICA8c2xvdCBuYW1lPVwiZmluZ2VyMVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPlxuICAgIDwvc2xvdD5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInNsb3QgZGVmYXVsdFwiPlxuICAgIDxzbG90Pjwvc2xvdD5cblxuICAgIDxkaXYgY2xhc3M9XCJzbG90IHByb2dyZXNzLWJhclwiPlxuICAgICAgPHNsb3QgbmFtZT1cInByb2dyZXNzLWJhclwiPlxuICAgICAgICA8ZGl2IGlkPVwiZGVmYXVsdC1wcm9ncmVzcy1iYXJcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFyXCIgcGFydD1cImRlZmF1bHQtcHJvZ3Jlc3MtYmFyXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zbG90PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInNsb3QgZXhpdC13ZWJ4ci1hci1idXR0b25cIj5cbiAgICAgIDxzbG90IG5hbWU9XCJleGl0LXdlYnhyLWFyLWJ1dHRvblwiPlxuICAgICAgICA8YSBpZD1cImRlZmF1bHQtZXhpdC13ZWJ4ci1hci1idXR0b25cIiBwYXJ0PVwiZGVmYXVsdC1leGl0LXdlYnhyLWFyLWJ1dHRvblwiXG4gICAgICAgICAgICB0YWJpbmRleD1cIjNcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkV4aXQgQVJcIlxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgJHtDbG9zZUljb259XG4gICAgICAgIDwvYT5cbiAgICAgIDwvc2xvdD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJzY3JlZW4tcmVhZGVyLW9ubHlcIiByb2xlPVwicmVnaW9uXCIgYXJpYS1sYWJlbD1cIkxpdmUgYW5ub3VuY2VtZW50c1wiPlxuICA8c3BhbiBpZD1cInN0YXR1c1wiIHJvbGU9XCJzdGF0dXNcIj48L3NwYW4+XG48L2Rpdj5gO1xuZXhwb3J0IGNvbnN0IG1ha2VUZW1wbGF0ZSA9IChzaGFkb3dSb290KSA9PiB7XG4gICAgcmVuZGVyKHRlbXBsYXRlUmVzdWx0LCBzaGFkb3dSb290KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/template.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ARRenderer: () => (/* binding */ ARRenderer),\n/* harmony export */   ARStatus: () => (/* binding */ ARStatus),\n/* harmony export */   ARTracking: () => (/* binding */ ARTracking)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_webxr_XREstimatedLight_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/webxr/XREstimatedLight.js */ \"(ssr)/./node_modules/three/examples/jsm/webxr/XREstimatedLight.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* harmony import */ var _PlacementBox_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PlacementBox.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n\n\n\n// number of initial null pose XRFrames allowed before we post not-tracking\nconst INIT_FRAMES = 30;\n// AR shadow is not user-configurable. This is to pave the way for AR lighting\n// estimation, which will be used once available in WebXR.\nconst AR_SHADOW_INTENSITY = 0.8;\nconst ROTATION_RATE = 1.5;\n// Angle down (towards bottom of screen) from camera center ray to use for hit\n// testing against the floor. This makes placement faster and more intuitive\n// assuming the phone is in portrait mode. This seems to be a reasonable\n// assumption for the start of the session and UI will lack landscape mode to\n// encourage upright use.\nconst HIT_ANGLE_DEG = 20;\nconst SCALE_SNAP_HIGH = 1.3;\nconst SCALE_SNAP_LOW = 1 / SCALE_SNAP_HIGH;\n// For automatic dynamic viewport scaling, don't let the scale drop below this\n// limit.\nconst MIN_VIEWPORT_SCALE = 0.25;\n// Furthest away you can move an object (meters).\nconst MAX_DISTANCE = 10;\nconst ARStatus = {\n    NOT_PRESENTING: 'not-presenting',\n    SESSION_STARTED: 'session-started',\n    OBJECT_PLACED: 'object-placed',\n    FAILED: 'failed'\n};\nconst ARTracking = {\n    TRACKING: 'tracking',\n    NOT_TRACKING: 'not-tracking'\n};\nconst vector3 = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\nconst matrix4 = new three__WEBPACK_IMPORTED_MODULE_5__.Matrix4();\nconst hitPosition = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\nconst camera = new three__WEBPACK_IMPORTED_MODULE_5__.PerspectiveCamera(45, 1, 0.1, 100);\nclass ARRenderer extends three__WEBPACK_IMPORTED_MODULE_5__.EventDispatcher {\n    constructor(renderer) {\n        super();\n        this.renderer = renderer;\n        this.currentSession = null;\n        this.placeOnWall = false;\n        this.placementBox = null;\n        this.lastTick = null;\n        this.turntableRotation = null;\n        this.oldShadowIntensity = null;\n        this.frame = null;\n        this.initialHitSource = null;\n        this.transientHitTestSource = null;\n        this.inputSource = null;\n        this._presentedScene = null;\n        this.resolveCleanup = null;\n        this.exitWebXRButtonContainer = null;\n        this.overlay = null;\n        this.xrLight = null;\n        this.tracking = true;\n        this.frames = 0;\n        this.initialized = false;\n        this.oldTarget = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        this.placementComplete = false;\n        this.isTranslating = false;\n        this.isRotating = false;\n        this.isTwoFingering = false;\n        this.lastDragPosition = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        this.firstRatio = 0;\n        this.lastAngle = 0;\n        this.goalPosition = new three__WEBPACK_IMPORTED_MODULE_5__.Vector3();\n        this.goalYaw = 0;\n        this.goalScale = 1;\n        this.xDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.yDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.zDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.yawDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.scaleDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_3__.Damper();\n        this.onExitWebXRButtonContainerClick = () => this.stopPresenting();\n        this.onUpdateScene = () => {\n            if (this.placementBox != null && this.isPresenting) {\n                this.placementBox.dispose();\n                this.placementBox = new _PlacementBox_js__WEBPACK_IMPORTED_MODULE_4__.PlacementBox(this.presentedScene, this.placeOnWall ? 'back' : 'bottom');\n            }\n        };\n        this.onSelectStart = (event) => {\n            const hitSource = this.transientHitTestSource;\n            if (hitSource == null) {\n                return;\n            }\n            const fingers = this.frame.getHitTestResultsForTransientInput(hitSource);\n            const scene = this.presentedScene;\n            const box = this.placementBox;\n            if (fingers.length === 1) {\n                this.inputSource = event.inputSource;\n                const { axes } = this.inputSource.gamepad;\n                const hitPosition = box.getHit(this.presentedScene, axes[0], axes[1]);\n                box.show = true;\n                if (hitPosition != null) {\n                    this.isTranslating = true;\n                    this.lastDragPosition.copy(hitPosition);\n                }\n                else if (this.placeOnWall === false) {\n                    this.isRotating = true;\n                    this.lastAngle = axes[0] * ROTATION_RATE;\n                }\n            }\n            else if (fingers.length === 2) {\n                box.show = true;\n                this.isTwoFingering = true;\n                const { separation } = this.fingerPolar(fingers);\n                this.firstRatio = separation / scene.scale.x;\n            }\n        };\n        this.onSelectEnd = () => {\n            this.isTranslating = false;\n            this.isRotating = false;\n            this.isTwoFingering = false;\n            this.inputSource = null;\n            this.goalPosition.y +=\n                this.placementBox.offsetHeight * this.presentedScene.scale.x;\n            this.placementBox.show = false;\n        };\n        this.threeRenderer = renderer.threeRenderer;\n        this.threeRenderer.xr.enabled = true;\n    }\n    async resolveARSession() {\n        (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.assertIsArCandidate)();\n        const session = await navigator.xr.requestSession('immersive-ar', {\n            requiredFeatures: ['hit-test'],\n            optionalFeatures: ['dom-overlay', 'light-estimation'],\n            domOverlay: this.overlay ? { root: this.overlay } : undefined\n        });\n        this.threeRenderer.xr.setReferenceSpaceType('local');\n        await this.threeRenderer.xr.setSession(session);\n        this.threeRenderer.xr.cameraAutoUpdate = false;\n        return session;\n    }\n    /**\n     * The currently presented scene, if any\n     */\n    get presentedScene() {\n        return this._presentedScene;\n    }\n    /**\n     * Resolves to true if the renderer has detected all the necessary qualities\n     * to support presentation in AR.\n     */\n    async supportsPresentation() {\n        try {\n            (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.assertIsArCandidate)();\n            return await navigator.xr.isSessionSupported('immersive-ar');\n        }\n        catch (error) {\n            console.warn('Request to present in WebXR denied:');\n            console.warn(error);\n            console.warn('Falling back to next ar-mode');\n            return false;\n        }\n    }\n    /**\n     * Present a scene in AR\n     */\n    async present(scene, environmentEstimation = false) {\n        if (this.isPresenting) {\n            console.warn('Cannot present while a model is already presenting');\n        }\n        let waitForAnimationFrame = new Promise((resolve, _reject) => {\n            requestAnimationFrame(() => resolve());\n        });\n        scene.setHotspotsVisibility(false);\n        scene.queueRender();\n        // Render a frame to turn off the hotspots\n        await waitForAnimationFrame;\n        // This sets isPresenting to true\n        this._presentedScene = scene;\n        this.overlay = scene.element.shadowRoot.querySelector('div.default');\n        if (environmentEstimation === true) {\n            this.xrLight = new three_examples_jsm_webxr_XREstimatedLight_js__WEBPACK_IMPORTED_MODULE_6__.XREstimatedLight(this.threeRenderer);\n            this.xrLight.addEventListener('estimationstart', () => {\n                if (!this.isPresenting || this.xrLight == null) {\n                    return;\n                }\n                const scene = this.presentedScene;\n                scene.add(this.xrLight);\n                scene.environment = this.xrLight.environment;\n            });\n        }\n        const currentSession = await this.resolveARSession();\n        currentSession.addEventListener('end', () => {\n            this.postSessionCleanup();\n        }, { once: true });\n        const exitButton = scene.element.shadowRoot.querySelector('.slot.exit-webxr-ar-button');\n        exitButton.classList.add('enabled');\n        exitButton.addEventListener('click', this.onExitWebXRButtonContainerClick);\n        this.exitWebXRButtonContainer = exitButton;\n        const viewerRefSpace = await currentSession.requestReferenceSpace('viewer');\n        this.tracking = true;\n        this.frames = 0;\n        this.initialized = false;\n        this.turntableRotation = scene.yaw;\n        this.goalYaw = scene.yaw;\n        this.goalScale = 1;\n        scene.background = null;\n        this.oldShadowIntensity = scene.shadowIntensity;\n        scene.setShadowIntensity(0.01); // invisible, but not changing the shader\n        this.oldTarget.copy(scene.getTarget());\n        scene.element.addEventListener('load', this.onUpdateScene);\n        const radians = HIT_ANGLE_DEG * Math.PI / 180;\n        const ray = this.placeOnWall === true ?\n            undefined :\n            new XRRay(new DOMPoint(0, 0, 0), { x: 0, y: -Math.sin(radians), z: -Math.cos(radians) });\n        currentSession\n            .requestHitTestSource({ space: viewerRefSpace, offsetRay: ray }).then(hitTestSource => {\n            this.initialHitSource = hitTestSource;\n        });\n        this.currentSession = currentSession;\n        this.placementBox =\n            new _PlacementBox_js__WEBPACK_IMPORTED_MODULE_4__.PlacementBox(scene, this.placeOnWall ? 'back' : 'bottom');\n        this.placementComplete = false;\n        this.lastTick = performance.now();\n        this.dispatchEvent({ type: 'status', status: ARStatus.SESSION_STARTED });\n    }\n    /**\n     * If currently presenting a scene in AR, stops presentation and exits AR.\n     */\n    async stopPresenting() {\n        if (!this.isPresenting) {\n            return;\n        }\n        const cleanupPromise = new Promise((resolve) => {\n            this.resolveCleanup = resolve;\n        });\n        try {\n            await this.currentSession.end();\n            await cleanupPromise;\n        }\n        catch (error) {\n            console.warn('Error while trying to end WebXR AR session');\n            console.warn(error);\n            this.postSessionCleanup();\n        }\n    }\n    /**\n     * True if a scene is currently in the process of being presented in AR\n     */\n    get isPresenting() {\n        return this.presentedScene != null;\n    }\n    get target() {\n        return this.oldTarget;\n    }\n    updateTarget() {\n        const scene = this.presentedScene;\n        if (scene != null) {\n            const target = scene.getTarget();\n            this.oldTarget.copy(target);\n            if (this.placeOnWall) {\n                // Move the scene's target to the center of the back of the model's\n                // bounding box.\n                target.z = scene.boundingBox.min.z;\n            }\n            else {\n                // Move the scene's target to the model's floor height.\n                target.y = scene.boundingBox.min.y;\n            }\n            scene.setTarget(target.x, target.y, target.z);\n        }\n    }\n    postSessionCleanup() {\n        const session = this.currentSession;\n        if (session != null) {\n            session.removeEventListener('selectstart', this.onSelectStart);\n            session.removeEventListener('selectend', this.onSelectEnd);\n            this.currentSession = null;\n        }\n        const scene = this.presentedScene;\n        this._presentedScene = null;\n        if (scene != null) {\n            const { element } = scene;\n            if (this.xrLight != null) {\n                scene.remove(this.xrLight);\n                this.xrLight.dispose();\n                this.xrLight = null;\n            }\n            scene.position.set(0, 0, 0);\n            scene.scale.set(1, 1, 1);\n            scene.setShadowOffset(0);\n            const yaw = this.turntableRotation;\n            if (yaw != null) {\n                scene.yaw = yaw;\n            }\n            const intensity = this.oldShadowIntensity;\n            if (intensity != null) {\n                scene.setShadowIntensity(intensity);\n            }\n            scene.setEnvironmentAndSkybox(element[_features_environment_js__WEBPACK_IMPORTED_MODULE_0__.$currentEnvironmentMap], element[_features_environment_js__WEBPACK_IMPORTED_MODULE_0__.$currentBackground]);\n            const point = this.oldTarget;\n            scene.setTarget(point.x, point.y, point.z);\n            scene.xrCamera = null;\n            scene.element.removeEventListener('load', this.onUpdateScene);\n            scene.orientHotspots(0);\n            element.requestUpdate('cameraTarget');\n            element.requestUpdate('maxCameraOrbit');\n            element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$onResize](element.getBoundingClientRect());\n        }\n        // Force the Renderer to update its size\n        this.renderer.height = 0;\n        const exitButton = this.exitWebXRButtonContainer;\n        if (exitButton != null) {\n            exitButton.classList.remove('enabled');\n            exitButton.removeEventListener('click', this.onExitWebXRButtonContainerClick);\n            this.exitWebXRButtonContainer = null;\n        }\n        const hitSource = this.transientHitTestSource;\n        if (hitSource != null) {\n            hitSource.cancel();\n            this.transientHitTestSource = null;\n        }\n        const hitSourceInitial = this.initialHitSource;\n        if (hitSourceInitial != null) {\n            hitSourceInitial.cancel();\n            this.initialHitSource = null;\n        }\n        if (this.placementBox != null) {\n            this.placementBox.dispose();\n            this.placementBox = null;\n        }\n        this.lastTick = null;\n        this.turntableRotation = null;\n        this.oldShadowIntensity = null;\n        this.frame = null;\n        this.inputSource = null;\n        this.overlay = null;\n        if (this.resolveCleanup != null) {\n            this.resolveCleanup();\n        }\n        this.dispatchEvent({ type: 'status', status: ARStatus.NOT_PRESENTING });\n    }\n    updateView(view) {\n        const scene = this.presentedScene;\n        const xr = this.threeRenderer.xr;\n        xr.updateCamera(camera);\n        scene.xrCamera = xr.getCamera();\n        const { elements } = scene.getCamera().matrixWorld;\n        scene.orientHotspots(Math.atan2(elements[1], elements[5]));\n        if (!this.initialized) {\n            this.placeInitially();\n            this.initialized = true;\n        }\n        // Use automatic dynamic viewport scaling if supported.\n        if (view.requestViewportScale && view.recommendedViewportScale) {\n            const scale = view.recommendedViewportScale;\n            view.requestViewportScale(Math.max(scale, MIN_VIEWPORT_SCALE));\n        }\n        const layer = this.currentSession.renderState.baseLayer;\n        const viewport = layer.getViewport(view);\n        this.threeRenderer.setViewport(viewport.x, viewport.y, viewport.width, viewport.height);\n    }\n    placeInitially() {\n        const scene = this.presentedScene;\n        const { position, element } = scene;\n        const xrCamera = scene.getCamera();\n        const { width, height } = this.overlay.getBoundingClientRect();\n        scene.setSize(width, height);\n        xrCamera.projectionMatrixInverse.copy(xrCamera.projectionMatrix).invert();\n        const { theta, radius } = element\n            .getCameraOrbit();\n        // Orient model to match the 3D camera view\n        const cameraDirection = xrCamera.getWorldDirection(vector3);\n        scene.yaw = Math.atan2(-cameraDirection.x, -cameraDirection.z) - theta;\n        this.goalYaw = scene.yaw;\n        position.copy(xrCamera.position)\n            .add(cameraDirection.multiplyScalar(radius));\n        this.updateTarget();\n        const target = scene.getTarget();\n        position.add(target).sub(this.oldTarget);\n        this.goalPosition.copy(position);\n        scene.setHotspotsVisibility(true);\n        const { session } = this.frame;\n        session.addEventListener('selectstart', this.onSelectStart);\n        session.addEventListener('selectend', this.onSelectEnd);\n        session\n            .requestHitTestSourceForTransientInput({ profile: 'generic-touchscreen' }).then(hitTestSource => {\n            this.transientHitTestSource = hitTestSource;\n        });\n    }\n    getTouchLocation() {\n        const { axes } = this.inputSource.gamepad;\n        let location = this.placementBox.getExpandedHit(this.presentedScene, axes[0], axes[1]);\n        if (location != null) {\n            vector3.copy(location).sub(this.presentedScene.getCamera().position);\n            if (vector3.length() > MAX_DISTANCE)\n                return null;\n        }\n        return location;\n    }\n    getHitPoint(hitResult) {\n        const refSpace = this.threeRenderer.xr.getReferenceSpace();\n        const pose = hitResult.getPose(refSpace);\n        if (pose == null) {\n            return null;\n        }\n        const hitMatrix = matrix4.fromArray(pose.transform.matrix);\n        if (this.placeOnWall === true) {\n            // Orient the model to the wall's normal vector.\n            this.goalYaw = Math.atan2(hitMatrix.elements[4], hitMatrix.elements[6]);\n        }\n        // Check that the y-coordinate of the normal is large enough that the normal\n        // is pointing up for floor placement; opposite for wall placement.\n        return hitMatrix.elements[5] > 0.75 !== this.placeOnWall ?\n            hitPosition.setFromMatrixPosition(hitMatrix) :\n            null;\n    }\n    moveToFloor(frame) {\n        const hitSource = this.initialHitSource;\n        if (hitSource == null) {\n            return;\n        }\n        const hitTestResults = frame.getHitTestResults(hitSource);\n        if (hitTestResults.length == 0) {\n            return;\n        }\n        const hit = hitTestResults[0];\n        const hitPoint = this.getHitPoint(hit);\n        if (hitPoint == null) {\n            return;\n        }\n        this.placementBox.show = true;\n        // If the user is translating, let the finger hit-ray take precedence and\n        // ignore this hit result.\n        if (!this.isTranslating) {\n            if (this.placeOnWall) {\n                this.goalPosition.copy(hitPoint);\n            }\n            else {\n                this.goalPosition.y = hitPoint.y;\n            }\n        }\n        hitSource.cancel();\n        this.initialHitSource = null;\n        this.dispatchEvent({ type: 'status', status: ARStatus.OBJECT_PLACED });\n    }\n    fingerPolar(fingers) {\n        const fingerOne = fingers[0].inputSource.gamepad.axes;\n        const fingerTwo = fingers[1].inputSource.gamepad.axes;\n        const deltaX = fingerTwo[0] - fingerOne[0];\n        const deltaY = fingerTwo[1] - fingerOne[1];\n        const angle = Math.atan2(deltaY, deltaX);\n        let deltaYaw = this.lastAngle - angle;\n        if (deltaYaw > Math.PI) {\n            deltaYaw -= 2 * Math.PI;\n        }\n        else if (deltaYaw < -Math.PI) {\n            deltaYaw += 2 * Math.PI;\n        }\n        this.lastAngle = angle;\n        return {\n            separation: Math.sqrt(deltaX * deltaX + deltaY * deltaY),\n            deltaYaw: deltaYaw\n        };\n    }\n    processInput(frame) {\n        const hitSource = this.transientHitTestSource;\n        if (hitSource == null) {\n            return;\n        }\n        if (!this.isTranslating && !this.isTwoFingering && !this.isRotating) {\n            return;\n        }\n        const fingers = frame.getHitTestResultsForTransientInput(hitSource);\n        const scene = this.presentedScene;\n        const scale = scene.scale.x;\n        // Rotating, translating and scaling are mutually exclusive operations; only\n        // one can happen at a time, but we can switch during a gesture.\n        if (this.isTwoFingering) {\n            if (fingers.length < 2) {\n                // If we lose the second finger, stop scaling (in fact, stop processing\n                // input altogether until a new gesture starts).\n                this.isTwoFingering = false;\n            }\n            else {\n                const { separation, deltaYaw } = this.fingerPolar(fingers);\n                if (this.placeOnWall === false) {\n                    this.goalYaw += deltaYaw;\n                }\n                if (scene.canScale) {\n                    const scale = separation / this.firstRatio;\n                    this.goalScale =\n                        (scale < SCALE_SNAP_HIGH && scale > SCALE_SNAP_LOW) ? 1 : scale;\n                }\n            }\n            return;\n        }\n        else if (fingers.length === 2) {\n            // If we were rotating or translating and we get a second finger, switch\n            // to scaling instead.\n            this.isTranslating = false;\n            this.isRotating = false;\n            this.isTwoFingering = true;\n            const { separation } = this.fingerPolar(fingers);\n            this.firstRatio = separation / scale;\n            return;\n        }\n        if (this.isRotating) {\n            const angle = this.inputSource.gamepad.axes[0] * ROTATION_RATE;\n            this.goalYaw += angle - this.lastAngle;\n            this.lastAngle = angle;\n        }\n        else if (this.isTranslating) {\n            fingers.forEach(finger => {\n                if (finger.inputSource !== this.inputSource) {\n                    return;\n                }\n                let hit = null;\n                if (finger.results.length > 0) {\n                    hit = this.getHitPoint(finger.results[0]);\n                }\n                if (hit == null) {\n                    hit = this.getTouchLocation();\n                }\n                if (hit == null) {\n                    return;\n                }\n                this.goalPosition.sub(this.lastDragPosition);\n                if (this.placeOnWall === false) {\n                    const offset = hit.y - this.lastDragPosition.y;\n                    // When a lower floor is found, keep the model at the same height, but\n                    // drop the placement box to the floor. The model falls on select end.\n                    if (offset < 0) {\n                        this.placementBox.offsetHeight = offset / scale;\n                        this.presentedScene.setShadowOffset(offset);\n                        // Interpolate hit ray up to drag plane\n                        const cameraPosition = vector3.copy(scene.getCamera().position);\n                        const alpha = -offset / (cameraPosition.y - hit.y);\n                        cameraPosition.multiplyScalar(alpha);\n                        hit.multiplyScalar(1 - alpha).add(cameraPosition);\n                    }\n                }\n                this.goalPosition.add(hit);\n                this.lastDragPosition.copy(hit);\n            });\n        }\n    }\n    moveScene(delta) {\n        const scene = this.presentedScene;\n        const { position, yaw } = scene;\n        const boundingRadius = scene.boundingSphere.radius;\n        const goal = this.goalPosition;\n        const oldScale = scene.scale.x;\n        const box = this.placementBox;\n        if (!goal.equals(position) || this.goalScale !== oldScale) {\n            let { x, y, z } = position;\n            x = this.xDamper.update(x, goal.x, delta, boundingRadius);\n            y = this.yDamper.update(y, goal.y, delta, boundingRadius);\n            z = this.zDamper.update(z, goal.z, delta, boundingRadius);\n            position.set(x, y, z);\n            const newScale = this.scaleDamper.update(oldScale, this.goalScale, delta, 1);\n            scene.scale.set(newScale, newScale, newScale);\n            if (!this.isTranslating) {\n                const offset = goal.y - y;\n                if (this.placementComplete && this.placeOnWall === false) {\n                    box.offsetHeight = offset / newScale;\n                    scene.setShadowOffset(offset);\n                }\n                else if (offset === 0) {\n                    this.placementComplete = true;\n                    box.show = false;\n                    scene.setShadowIntensity(AR_SHADOW_INTENSITY);\n                }\n            }\n        }\n        box.updateOpacity(delta);\n        scene.updateTarget(delta);\n        // yaw must be updated last, since this also updates the shadow position.\n        scene.yaw = this.yawDamper.update(yaw, this.goalYaw, delta, Math.PI);\n    }\n    /**\n     * Only public to make it testable.\n     */\n    onWebXRFrame(time, frame) {\n        this.frame = frame;\n        ++this.frames;\n        const refSpace = this.threeRenderer.xr.getReferenceSpace();\n        const pose = frame.getViewerPose(refSpace);\n        if (pose == null && this.tracking === true && this.frames > INIT_FRAMES) {\n            this.tracking = false;\n            this.dispatchEvent({ type: 'tracking', status: ARTracking.NOT_TRACKING });\n        }\n        const scene = this.presentedScene;\n        if (pose == null || scene == null || !scene.element.loaded) {\n            this.threeRenderer.clear();\n            return;\n        }\n        if (this.tracking === false) {\n            this.tracking = true;\n            this.dispatchEvent({ type: 'tracking', status: ARTracking.TRACKING });\n        }\n        // WebXR may return multiple views, i.e. for headset AR. This\n        // isn't really supported at this point, but make a best-effort\n        // attempt to render other views also, using the first view\n        // as the main viewpoint.\n        let isFirstView = true;\n        for (const view of pose.views) {\n            this.updateView(view);\n            if (isFirstView) {\n                this.moveToFloor(frame);\n                this.processInput(frame);\n                const delta = time - this.lastTick;\n                this.moveScene(delta);\n                this.renderer.preRender(scene, time, delta);\n                this.lastTick = time;\n                scene.renderShadow(this.threeRenderer);\n            }\n            this.threeRenderer.render(scene, scene.getCamera());\n            isFirstView = false;\n        }\n    }\n}\n//# sourceMappingURL=ARRenderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvQVJSZW5kZXJlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUM2RTtBQUNHO0FBQ1E7QUFDcEM7QUFDRTtBQUNqQjtBQUNZO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMENBQU87QUFDM0Isb0JBQW9CLDBDQUFPO0FBQzNCLHdCQUF3QiwwQ0FBTztBQUMvQixtQkFBbUIsb0RBQWlCO0FBQzdCLHlCQUF5QixrREFBZTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMENBQU87QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMENBQU87QUFDM0M7QUFDQTtBQUNBLGdDQUFnQywwQ0FBTztBQUN2QztBQUNBO0FBQ0EsMkJBQTJCLDhDQUFNO0FBQ2pDLDJCQUEyQiw4Q0FBTTtBQUNqQywyQkFBMkIsOENBQU07QUFDakMsNkJBQTZCLDhDQUFNO0FBQ25DLCtCQUErQiw4Q0FBTTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QywwREFBWTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGFBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGtFQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMscUJBQXFCO0FBQzlELFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrRUFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMEZBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJLFlBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxvREFBb0Q7QUFDbkc7QUFDQSxvQ0FBb0MsdUNBQXVDO0FBQzNFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsMERBQVk7QUFDNUI7QUFDQTtBQUNBLDZCQUE2QixrREFBa0Q7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCw0RUFBc0IsV0FBVyx3RUFBa0I7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNERBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpREFBaUQ7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsZ0NBQWdDO0FBQ3JGO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFnRDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsVUFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtREFBbUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywrQ0FBK0M7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvQVJSZW5kZXJlci5qcz82ZGE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciwgTWF0cml4NCwgUGVyc3BlY3RpdmVDYW1lcmEsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBYUkVzdGltYXRlZExpZ2h0IH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL3dlYnhyL1hSRXN0aW1hdGVkTGlnaHQuanMnO1xuaW1wb3J0IHsgJGN1cnJlbnRCYWNrZ3JvdW5kLCAkY3VycmVudEVudmlyb25tZW50TWFwIH0gZnJvbSAnLi4vZmVhdHVyZXMvZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgJG9uUmVzaXplIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgYXNzZXJ0SXNBckNhbmRpZGF0ZSB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBEYW1wZXIgfSBmcm9tICcuL0RhbXBlci5qcyc7XG5pbXBvcnQgeyBQbGFjZW1lbnRCb3ggfSBmcm9tICcuL1BsYWNlbWVudEJveC5qcyc7XG4vLyBudW1iZXIgb2YgaW5pdGlhbCBudWxsIHBvc2UgWFJGcmFtZXMgYWxsb3dlZCBiZWZvcmUgd2UgcG9zdCBub3QtdHJhY2tpbmdcbmNvbnN0IElOSVRfRlJBTUVTID0gMzA7XG4vLyBBUiBzaGFkb3cgaXMgbm90IHVzZXItY29uZmlndXJhYmxlLiBUaGlzIGlzIHRvIHBhdmUgdGhlIHdheSBmb3IgQVIgbGlnaHRpbmdcbi8vIGVzdGltYXRpb24sIHdoaWNoIHdpbGwgYmUgdXNlZCBvbmNlIGF2YWlsYWJsZSBpbiBXZWJYUi5cbmNvbnN0IEFSX1NIQURPV19JTlRFTlNJVFkgPSAwLjg7XG5jb25zdCBST1RBVElPTl9SQVRFID0gMS41O1xuLy8gQW5nbGUgZG93biAodG93YXJkcyBib3R0b20gb2Ygc2NyZWVuKSBmcm9tIGNhbWVyYSBjZW50ZXIgcmF5IHRvIHVzZSBmb3IgaGl0XG4vLyB0ZXN0aW5nIGFnYWluc3QgdGhlIGZsb29yLiBUaGlzIG1ha2VzIHBsYWNlbWVudCBmYXN0ZXIgYW5kIG1vcmUgaW50dWl0aXZlXG4vLyBhc3N1bWluZyB0aGUgcGhvbmUgaXMgaW4gcG9ydHJhaXQgbW9kZS4gVGhpcyBzZWVtcyB0byBiZSBhIHJlYXNvbmFibGVcbi8vIGFzc3VtcHRpb24gZm9yIHRoZSBzdGFydCBvZiB0aGUgc2Vzc2lvbiBhbmQgVUkgd2lsbCBsYWNrIGxhbmRzY2FwZSBtb2RlIHRvXG4vLyBlbmNvdXJhZ2UgdXByaWdodCB1c2UuXG5jb25zdCBISVRfQU5HTEVfREVHID0gMjA7XG5jb25zdCBTQ0FMRV9TTkFQX0hJR0ggPSAxLjM7XG5jb25zdCBTQ0FMRV9TTkFQX0xPVyA9IDEgLyBTQ0FMRV9TTkFQX0hJR0g7XG4vLyBGb3IgYXV0b21hdGljIGR5bmFtaWMgdmlld3BvcnQgc2NhbGluZywgZG9uJ3QgbGV0IHRoZSBzY2FsZSBkcm9wIGJlbG93IHRoaXNcbi8vIGxpbWl0LlxuY29uc3QgTUlOX1ZJRVdQT1JUX1NDQUxFID0gMC4yNTtcbi8vIEZ1cnRoZXN0IGF3YXkgeW91IGNhbiBtb3ZlIGFuIG9iamVjdCAobWV0ZXJzKS5cbmNvbnN0IE1BWF9ESVNUQU5DRSA9IDEwO1xuZXhwb3J0IGNvbnN0IEFSU3RhdHVzID0ge1xuICAgIE5PVF9QUkVTRU5USU5HOiAnbm90LXByZXNlbnRpbmcnLFxuICAgIFNFU1NJT05fU1RBUlRFRDogJ3Nlc3Npb24tc3RhcnRlZCcsXG4gICAgT0JKRUNUX1BMQUNFRDogJ29iamVjdC1wbGFjZWQnLFxuICAgIEZBSUxFRDogJ2ZhaWxlZCdcbn07XG5leHBvcnQgY29uc3QgQVJUcmFja2luZyA9IHtcbiAgICBUUkFDS0lORzogJ3RyYWNraW5nJyxcbiAgICBOT1RfVFJBQ0tJTkc6ICdub3QtdHJhY2tpbmcnXG59O1xuY29uc3QgdmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XG5jb25zdCBtYXRyaXg0ID0gbmV3IE1hdHJpeDQoKTtcbmNvbnN0IGhpdFBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IGNhbWVyYSA9IG5ldyBQZXJzcGVjdGl2ZUNhbWVyYSg0NSwgMSwgMC4xLCAxMDApO1xuZXhwb3J0IGNsYXNzIEFSUmVuZGVyZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMucGxhY2VPbldhbGwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3ggPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RUaWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy50dXJudGFibGVSb3RhdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMub2xkU2hhZG93SW50ZW5zaXR5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5pdGlhbEhpdFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNpZW50SGl0VGVzdFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5wdXRTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcmVzZW50ZWRTY2VuZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNsZWFudXAgPSBudWxsO1xuICAgICAgICB0aGlzLmV4aXRXZWJYUkJ1dHRvbkNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMub3ZlcmxheSA9IG51bGw7XG4gICAgICAgIHRoaXMueHJMaWdodCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhY2tpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmZyYW1lcyA9IDA7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbGRUYXJnZXQgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnBsYWNlbWVudENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzUm90YXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1R3b0ZpbmdlcmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3REcmFnUG9zaXRpb24gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLmZpcnN0UmF0aW8gPSAwO1xuICAgICAgICB0aGlzLmxhc3RBbmdsZSA9IDA7XG4gICAgICAgIHRoaXMuZ29hbFBvc2l0aW9uID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5nb2FsWWF3ID0gMDtcbiAgICAgICAgdGhpcy5nb2FsU2NhbGUgPSAxO1xuICAgICAgICB0aGlzLnhEYW1wZXIgPSBuZXcgRGFtcGVyKCk7XG4gICAgICAgIHRoaXMueURhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy56RGFtcGVyID0gbmV3IERhbXBlcigpO1xuICAgICAgICB0aGlzLnlhd0RhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5zY2FsZURhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5vbkV4aXRXZWJYUkJ1dHRvbkNvbnRhaW5lckNsaWNrID0gKCkgPT4gdGhpcy5zdG9wUHJlc2VudGluZygpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlU2NlbmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGFjZW1lbnRCb3ggIT0gbnVsbCAmJiB0aGlzLmlzUHJlc2VudGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50Qm94LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlbWVudEJveCA9IG5ldyBQbGFjZW1lbnRCb3godGhpcy5wcmVzZW50ZWRTY2VuZSwgdGhpcy5wbGFjZU9uV2FsbCA/ICdiYWNrJyA6ICdib3R0b20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblNlbGVjdFN0YXJ0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBoaXRTb3VyY2UgPSB0aGlzLnRyYW5zaWVudEhpdFRlc3RTb3VyY2U7XG4gICAgICAgICAgICBpZiAoaGl0U291cmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaW5nZXJzID0gdGhpcy5mcmFtZS5nZXRIaXRUZXN0UmVzdWx0c0ZvclRyYW5zaWVudElucHV0KGhpdFNvdXJjZSk7XG4gICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgICAgICBjb25zdCBib3ggPSB0aGlzLnBsYWNlbWVudEJveDtcbiAgICAgICAgICAgIGlmIChmaW5nZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTb3VyY2UgPSBldmVudC5pbnB1dFNvdXJjZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGF4ZXMgfSA9IHRoaXMuaW5wdXRTb3VyY2UuZ2FtZXBhZDtcbiAgICAgICAgICAgICAgICBjb25zdCBoaXRQb3NpdGlvbiA9IGJveC5nZXRIaXQodGhpcy5wcmVzZW50ZWRTY2VuZSwgYXhlc1swXSwgYXhlc1sxXSk7XG4gICAgICAgICAgICAgICAgYm94LnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChoaXRQb3NpdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFuc2xhdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYWdQb3NpdGlvbi5jb3B5KGhpdFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wbGFjZU9uV2FsbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JvdGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0QW5nbGUgPSBheGVzWzBdICogUk9UQVRJT05fUkFURTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmaW5nZXJzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIGJveC5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHdvRmluZ2VyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlcGFyYXRpb24gfSA9IHRoaXMuZmluZ2VyUG9sYXIoZmluZ2Vycyk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFJhdGlvID0gc2VwYXJhdGlvbiAvIHNjZW5lLnNjYWxlLng7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25TZWxlY3RFbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzVHJhbnNsYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNSb3RhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc1R3b0ZpbmdlcmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdvYWxQb3NpdGlvbi55ICs9XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3gub2Zmc2V0SGVpZ2h0ICogdGhpcy5wcmVzZW50ZWRTY2VuZS5zY2FsZS54O1xuICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3guc2hvdyA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIgPSByZW5kZXJlci50aHJlZVJlbmRlcmVyO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIueHIuZW5hYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIGFzeW5jIHJlc29sdmVBUlNlc3Npb24oKSB7XG4gICAgICAgIGFzc2VydElzQXJDYW5kaWRhdGUoKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IG5hdmlnYXRvci54ci5yZXF1ZXN0U2Vzc2lvbignaW1tZXJzaXZlLWFyJywge1xuICAgICAgICAgICAgcmVxdWlyZWRGZWF0dXJlczogWydoaXQtdGVzdCddLFxuICAgICAgICAgICAgb3B0aW9uYWxGZWF0dXJlczogWydkb20tb3ZlcmxheScsICdsaWdodC1lc3RpbWF0aW9uJ10sXG4gICAgICAgICAgICBkb21PdmVybGF5OiB0aGlzLm92ZXJsYXkgPyB7IHJvb3Q6IHRoaXMub3ZlcmxheSB9IDogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIueHIuc2V0UmVmZXJlbmNlU3BhY2VUeXBlKCdsb2NhbCcpO1xuICAgICAgICBhd2FpdCB0aGlzLnRocmVlUmVuZGVyZXIueHIuc2V0U2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnhyLmNhbWVyYUF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50bHkgcHJlc2VudGVkIHNjZW5lLCBpZiBhbnlcbiAgICAgKi9cbiAgICBnZXQgcHJlc2VudGVkU2NlbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVzZW50ZWRTY2VuZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgdG8gdHJ1ZSBpZiB0aGUgcmVuZGVyZXIgaGFzIGRldGVjdGVkIGFsbCB0aGUgbmVjZXNzYXJ5IHF1YWxpdGllc1xuICAgICAqIHRvIHN1cHBvcnQgcHJlc2VudGF0aW9uIGluIEFSLlxuICAgICAqL1xuICAgIGFzeW5jIHN1cHBvcnRzUHJlc2VudGF0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXNzZXJ0SXNBckNhbmRpZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG5hdmlnYXRvci54ci5pc1Nlc3Npb25TdXBwb3J0ZWQoJ2ltbWVyc2l2ZS1hcicpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdSZXF1ZXN0IHRvIHByZXNlbnQgaW4gV2ViWFIgZGVuaWVkOicpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFsbGluZyBiYWNrIHRvIG5leHQgYXItbW9kZScpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgYSBzY2VuZSBpbiBBUlxuICAgICAqL1xuICAgIGFzeW5jIHByZXNlbnQoc2NlbmUsIGVudmlyb25tZW50RXN0aW1hdGlvbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJlc2VudGluZykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDYW5ub3QgcHJlc2VudCB3aGlsZSBhIG1vZGVsIGlzIGFscmVhZHkgcHJlc2VudGluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3YWl0Rm9yQW5pbWF0aW9uRnJhbWUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzY2VuZS5zZXRIb3RzcG90c1Zpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICBzY2VuZS5xdWV1ZVJlbmRlcigpO1xuICAgICAgICAvLyBSZW5kZXIgYSBmcmFtZSB0byB0dXJuIG9mZiB0aGUgaG90c3BvdHNcbiAgICAgICAgYXdhaXQgd2FpdEZvckFuaW1hdGlvbkZyYW1lO1xuICAgICAgICAvLyBUaGlzIHNldHMgaXNQcmVzZW50aW5nIHRvIHRydWVcbiAgICAgICAgdGhpcy5fcHJlc2VudGVkU2NlbmUgPSBzY2VuZTtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gc2NlbmUuZWxlbWVudC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5kZWZhdWx0Jyk7XG4gICAgICAgIGlmIChlbnZpcm9ubWVudEVzdGltYXRpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMueHJMaWdodCA9IG5ldyBYUkVzdGltYXRlZExpZ2h0KHRoaXMudGhyZWVSZW5kZXJlcik7XG4gICAgICAgICAgICB0aGlzLnhyTGlnaHQuYWRkRXZlbnRMaXN0ZW5lcignZXN0aW1hdGlvbnN0YXJ0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1ByZXNlbnRpbmcgfHwgdGhpcy54ckxpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgICAgICAgICAgc2NlbmUuYWRkKHRoaXMueHJMaWdodCk7XG4gICAgICAgICAgICAgICAgc2NlbmUuZW52aXJvbm1lbnQgPSB0aGlzLnhyTGlnaHQuZW52aXJvbm1lbnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50U2Vzc2lvbiA9IGF3YWl0IHRoaXMucmVzb2x2ZUFSU2Vzc2lvbigpO1xuICAgICAgICBjdXJyZW50U2Vzc2lvbi5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvc3RTZXNzaW9uQ2xlYW51cCgpO1xuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IGV4aXRCdXR0b24gPSBzY2VuZS5lbGVtZW50LnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLnNsb3QuZXhpdC13ZWJ4ci1hci1idXR0b24nKTtcbiAgICAgICAgZXhpdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbmFibGVkJyk7XG4gICAgICAgIGV4aXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uRXhpdFdlYlhSQnV0dG9uQ29udGFpbmVyQ2xpY2spO1xuICAgICAgICB0aGlzLmV4aXRXZWJYUkJ1dHRvbkNvbnRhaW5lciA9IGV4aXRCdXR0b247XG4gICAgICAgIGNvbnN0IHZpZXdlclJlZlNwYWNlID0gYXdhaXQgY3VycmVudFNlc3Npb24ucmVxdWVzdFJlZmVyZW5jZVNwYWNlKCd2aWV3ZXInKTtcbiAgICAgICAgdGhpcy50cmFja2luZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZnJhbWVzID0gMDtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnR1cm50YWJsZVJvdGF0aW9uID0gc2NlbmUueWF3O1xuICAgICAgICB0aGlzLmdvYWxZYXcgPSBzY2VuZS55YXc7XG4gICAgICAgIHRoaXMuZ29hbFNjYWxlID0gMTtcbiAgICAgICAgc2NlbmUuYmFja2dyb3VuZCA9IG51bGw7XG4gICAgICAgIHRoaXMub2xkU2hhZG93SW50ZW5zaXR5ID0gc2NlbmUuc2hhZG93SW50ZW5zaXR5O1xuICAgICAgICBzY2VuZS5zZXRTaGFkb3dJbnRlbnNpdHkoMC4wMSk7IC8vIGludmlzaWJsZSwgYnV0IG5vdCBjaGFuZ2luZyB0aGUgc2hhZGVyXG4gICAgICAgIHRoaXMub2xkVGFyZ2V0LmNvcHkoc2NlbmUuZ2V0VGFyZ2V0KCkpO1xuICAgICAgICBzY2VuZS5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLm9uVXBkYXRlU2NlbmUpO1xuICAgICAgICBjb25zdCByYWRpYW5zID0gSElUX0FOR0xFX0RFRyAqIE1hdGguUEkgLyAxODA7XG4gICAgICAgIGNvbnN0IHJheSA9IHRoaXMucGxhY2VPbldhbGwgPT09IHRydWUgP1xuICAgICAgICAgICAgdW5kZWZpbmVkIDpcbiAgICAgICAgICAgIG5ldyBYUlJheShuZXcgRE9NUG9pbnQoMCwgMCwgMCksIHsgeDogMCwgeTogLU1hdGguc2luKHJhZGlhbnMpLCB6OiAtTWF0aC5jb3MocmFkaWFucykgfSk7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uXG4gICAgICAgICAgICAucmVxdWVzdEhpdFRlc3RTb3VyY2UoeyBzcGFjZTogdmlld2VyUmVmU3BhY2UsIG9mZnNldFJheTogcmF5IH0pLnRoZW4oaGl0VGVzdFNvdXJjZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxIaXRTb3VyY2UgPSBoaXRUZXN0U291cmNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jdXJyZW50U2Vzc2lvbiA9IGN1cnJlbnRTZXNzaW9uO1xuICAgICAgICB0aGlzLnBsYWNlbWVudEJveCA9XG4gICAgICAgICAgICBuZXcgUGxhY2VtZW50Qm94KHNjZW5lLCB0aGlzLnBsYWNlT25XYWxsID8gJ2JhY2snIDogJ2JvdHRvbScpO1xuICAgICAgICB0aGlzLnBsYWNlbWVudENvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdFRpY2sgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ3N0YXR1cycsIHN0YXR1czogQVJTdGF0dXMuU0VTU0lPTl9TVEFSVEVEIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiBjdXJyZW50bHkgcHJlc2VudGluZyBhIHNjZW5lIGluIEFSLCBzdG9wcyBwcmVzZW50YXRpb24gYW5kIGV4aXRzIEFSLlxuICAgICAqL1xuICAgIGFzeW5jIHN0b3BQcmVzZW50aW5nKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNQcmVzZW50aW5nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2xlYW51cFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ2xlYW51cCA9IHJlc29sdmU7XG4gICAgICAgIH0pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5jdXJyZW50U2Vzc2lvbi5lbmQoKTtcbiAgICAgICAgICAgIGF3YWl0IGNsZWFudXBQcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvciB3aGlsZSB0cnlpbmcgdG8gZW5kIFdlYlhSIEFSIHNlc3Npb24nKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnBvc3RTZXNzaW9uQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgYSBzY2VuZSBpcyBjdXJyZW50bHkgaW4gdGhlIHByb2Nlc3Mgb2YgYmVpbmcgcHJlc2VudGVkIGluIEFSXG4gICAgICovXG4gICAgZ2V0IGlzUHJlc2VudGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlc2VudGVkU2NlbmUgIT0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2xkVGFyZ2V0O1xuICAgIH1cbiAgICB1cGRhdGVUYXJnZXQoKSB7XG4gICAgICAgIGNvbnN0IHNjZW5lID0gdGhpcy5wcmVzZW50ZWRTY2VuZTtcbiAgICAgICAgaWYgKHNjZW5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHNjZW5lLmdldFRhcmdldCgpO1xuICAgICAgICAgICAgdGhpcy5vbGRUYXJnZXQuY29weSh0YXJnZXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGxhY2VPbldhbGwpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoZSBzY2VuZSdzIHRhcmdldCB0byB0aGUgY2VudGVyIG9mIHRoZSBiYWNrIG9mIHRoZSBtb2RlbCdzXG4gICAgICAgICAgICAgICAgLy8gYm91bmRpbmcgYm94LlxuICAgICAgICAgICAgICAgIHRhcmdldC56ID0gc2NlbmUuYm91bmRpbmdCb3gubWluLno7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoZSBzY2VuZSdzIHRhcmdldCB0byB0aGUgbW9kZWwncyBmbG9vciBoZWlnaHQuXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnkgPSBzY2VuZS5ib3VuZGluZ0JveC5taW4ueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjZW5lLnNldFRhcmdldCh0YXJnZXQueCwgdGFyZ2V0LnksIHRhcmdldC56KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwb3N0U2Vzc2lvbkNsZWFudXAoKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSB0aGlzLmN1cnJlbnRTZXNzaW9uO1xuICAgICAgICBpZiAoc2Vzc2lvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXNzaW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgdGhpcy5vblNlbGVjdFN0YXJ0KTtcbiAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0ZW5kJywgdGhpcy5vblNlbGVjdEVuZCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTZXNzaW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgIHRoaXMuX3ByZXNlbnRlZFNjZW5lID0gbnVsbDtcbiAgICAgICAgaWYgKHNjZW5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gc2NlbmU7XG4gICAgICAgICAgICBpZiAodGhpcy54ckxpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5yZW1vdmUodGhpcy54ckxpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLnhyTGlnaHQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMueHJMaWdodCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY2VuZS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgICAgICBzY2VuZS5zY2FsZS5zZXQoMSwgMSwgMSk7XG4gICAgICAgICAgICBzY2VuZS5zZXRTaGFkb3dPZmZzZXQoMCk7XG4gICAgICAgICAgICBjb25zdCB5YXcgPSB0aGlzLnR1cm50YWJsZVJvdGF0aW9uO1xuICAgICAgICAgICAgaWYgKHlhdyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2NlbmUueWF3ID0geWF3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gdGhpcy5vbGRTaGFkb3dJbnRlbnNpdHk7XG4gICAgICAgICAgICBpZiAoaW50ZW5zaXR5ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzY2VuZS5zZXRTaGFkb3dJbnRlbnNpdHkoaW50ZW5zaXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjZW5lLnNldEVudmlyb25tZW50QW5kU2t5Ym94KGVsZW1lbnRbJGN1cnJlbnRFbnZpcm9ubWVudE1hcF0sIGVsZW1lbnRbJGN1cnJlbnRCYWNrZ3JvdW5kXSk7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMub2xkVGFyZ2V0O1xuICAgICAgICAgICAgc2NlbmUuc2V0VGFyZ2V0KHBvaW50LngsIHBvaW50LnksIHBvaW50LnopO1xuICAgICAgICAgICAgc2NlbmUueHJDYW1lcmEgPSBudWxsO1xuICAgICAgICAgICAgc2NlbmUuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5vblVwZGF0ZVNjZW5lKTtcbiAgICAgICAgICAgIHNjZW5lLm9yaWVudEhvdHNwb3RzKDApO1xuICAgICAgICAgICAgZWxlbWVudC5yZXF1ZXN0VXBkYXRlKCdjYW1lcmFUYXJnZXQnKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVxdWVzdFVwZGF0ZSgnbWF4Q2FtZXJhT3JiaXQnKTtcbiAgICAgICAgICAgIGVsZW1lbnRbJG9uUmVzaXplXShlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3JjZSB0aGUgUmVuZGVyZXIgdG8gdXBkYXRlIGl0cyBzaXplXG4gICAgICAgIHRoaXMucmVuZGVyZXIuaGVpZ2h0ID0gMDtcbiAgICAgICAgY29uc3QgZXhpdEJ1dHRvbiA9IHRoaXMuZXhpdFdlYlhSQnV0dG9uQ29udGFpbmVyO1xuICAgICAgICBpZiAoZXhpdEJ1dHRvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBleGl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2VuYWJsZWQnKTtcbiAgICAgICAgICAgIGV4aXRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uRXhpdFdlYlhSQnV0dG9uQ29udGFpbmVyQ2xpY2spO1xuICAgICAgICAgICAgdGhpcy5leGl0V2ViWFJCdXR0b25Db250YWluZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhpdFNvdXJjZSA9IHRoaXMudHJhbnNpZW50SGl0VGVzdFNvdXJjZTtcbiAgICAgICAgaWYgKGhpdFNvdXJjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBoaXRTb3VyY2UuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zaWVudEhpdFRlc3RTb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhpdFNvdXJjZUluaXRpYWwgPSB0aGlzLmluaXRpYWxIaXRTb3VyY2U7XG4gICAgICAgIGlmIChoaXRTb3VyY2VJbml0aWFsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhpdFNvdXJjZUluaXRpYWwuY2FuY2VsKCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxIaXRTb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBsYWNlbWVudEJveCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnBsYWNlbWVudEJveC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnBsYWNlbWVudEJveCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGljayA9IG51bGw7XG4gICAgICAgIHRoaXMudHVybnRhYmxlUm90YXRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLm9sZFNoYWRvd0ludGVuc2l0eSA9IG51bGw7XG4gICAgICAgIHRoaXMuZnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmlucHV0U291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vdmVybGF5ID0gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x2ZUNsZWFudXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdzdGF0dXMnLCBzdGF0dXM6IEFSU3RhdHVzLk5PVF9QUkVTRU5USU5HIH0pO1xuICAgIH1cbiAgICB1cGRhdGVWaWV3KHZpZXcpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnByZXNlbnRlZFNjZW5lO1xuICAgICAgICBjb25zdCB4ciA9IHRoaXMudGhyZWVSZW5kZXJlci54cjtcbiAgICAgICAgeHIudXBkYXRlQ2FtZXJhKGNhbWVyYSk7XG4gICAgICAgIHNjZW5lLnhyQ2FtZXJhID0geHIuZ2V0Q2FtZXJhKCk7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudHMgfSA9IHNjZW5lLmdldENhbWVyYSgpLm1hdHJpeFdvcmxkO1xuICAgICAgICBzY2VuZS5vcmllbnRIb3RzcG90cyhNYXRoLmF0YW4yKGVsZW1lbnRzWzFdLCBlbGVtZW50c1s1XSkpO1xuICAgICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucGxhY2VJbml0aWFsbHkoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSBhdXRvbWF0aWMgZHluYW1pYyB2aWV3cG9ydCBzY2FsaW5nIGlmIHN1cHBvcnRlZC5cbiAgICAgICAgaWYgKHZpZXcucmVxdWVzdFZpZXdwb3J0U2NhbGUgJiYgdmlldy5yZWNvbW1lbmRlZFZpZXdwb3J0U2NhbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gdmlldy5yZWNvbW1lbmRlZFZpZXdwb3J0U2NhbGU7XG4gICAgICAgICAgICB2aWV3LnJlcXVlc3RWaWV3cG9ydFNjYWxlKE1hdGgubWF4KHNjYWxlLCBNSU5fVklFV1BPUlRfU0NBTEUpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXllciA9IHRoaXMuY3VycmVudFNlc3Npb24ucmVuZGVyU3RhdGUuYmFzZUxheWVyO1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IGxheWVyLmdldFZpZXdwb3J0KHZpZXcpO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0Vmlld3BvcnQodmlld3BvcnQueCwgdmlld3BvcnQueSwgdmlld3BvcnQud2lkdGgsIHZpZXdwb3J0LmhlaWdodCk7XG4gICAgfVxuICAgIHBsYWNlSW5pdGlhbGx5KCkge1xuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgIGNvbnN0IHsgcG9zaXRpb24sIGVsZW1lbnQgfSA9IHNjZW5lO1xuICAgICAgICBjb25zdCB4ckNhbWVyYSA9IHNjZW5lLmdldENhbWVyYSgpO1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMub3ZlcmxheS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgc2NlbmUuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgeHJDYW1lcmEucHJvamVjdGlvbk1hdHJpeEludmVyc2UuY29weSh4ckNhbWVyYS5wcm9qZWN0aW9uTWF0cml4KS5pbnZlcnQoKTtcbiAgICAgICAgY29uc3QgeyB0aGV0YSwgcmFkaXVzIH0gPSBlbGVtZW50XG4gICAgICAgICAgICAuZ2V0Q2FtZXJhT3JiaXQoKTtcbiAgICAgICAgLy8gT3JpZW50IG1vZGVsIHRvIG1hdGNoIHRoZSAzRCBjYW1lcmEgdmlld1xuICAgICAgICBjb25zdCBjYW1lcmFEaXJlY3Rpb24gPSB4ckNhbWVyYS5nZXRXb3JsZERpcmVjdGlvbih2ZWN0b3IzKTtcbiAgICAgICAgc2NlbmUueWF3ID0gTWF0aC5hdGFuMigtY2FtZXJhRGlyZWN0aW9uLngsIC1jYW1lcmFEaXJlY3Rpb24ueikgLSB0aGV0YTtcbiAgICAgICAgdGhpcy5nb2FsWWF3ID0gc2NlbmUueWF3O1xuICAgICAgICBwb3NpdGlvbi5jb3B5KHhyQ2FtZXJhLnBvc2l0aW9uKVxuICAgICAgICAgICAgLmFkZChjYW1lcmFEaXJlY3Rpb24ubXVsdGlwbHlTY2FsYXIocmFkaXVzKSk7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KCk7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHNjZW5lLmdldFRhcmdldCgpO1xuICAgICAgICBwb3NpdGlvbi5hZGQodGFyZ2V0KS5zdWIodGhpcy5vbGRUYXJnZXQpO1xuICAgICAgICB0aGlzLmdvYWxQb3NpdGlvbi5jb3B5KHBvc2l0aW9uKTtcbiAgICAgICAgc2NlbmUuc2V0SG90c3BvdHNWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICBjb25zdCB7IHNlc3Npb24gfSA9IHRoaXMuZnJhbWU7XG4gICAgICAgIHNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCB0aGlzLm9uU2VsZWN0U3RhcnQpO1xuICAgICAgICBzZXNzaW9uLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdGVuZCcsIHRoaXMub25TZWxlY3RFbmQpO1xuICAgICAgICBzZXNzaW9uXG4gICAgICAgICAgICAucmVxdWVzdEhpdFRlc3RTb3VyY2VGb3JUcmFuc2llbnRJbnB1dCh7IHByb2ZpbGU6ICdnZW5lcmljLXRvdWNoc2NyZWVuJyB9KS50aGVuKGhpdFRlc3RTb3VyY2UgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFuc2llbnRIaXRUZXN0U291cmNlID0gaGl0VGVzdFNvdXJjZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFRvdWNoTG9jYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHsgYXhlcyB9ID0gdGhpcy5pbnB1dFNvdXJjZS5nYW1lcGFkO1xuICAgICAgICBsZXQgbG9jYXRpb24gPSB0aGlzLnBsYWNlbWVudEJveC5nZXRFeHBhbmRlZEhpdCh0aGlzLnByZXNlbnRlZFNjZW5lLCBheGVzWzBdLCBheGVzWzFdKTtcbiAgICAgICAgaWYgKGxvY2F0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZlY3RvcjMuY29weShsb2NhdGlvbikuc3ViKHRoaXMucHJlc2VudGVkU2NlbmUuZ2V0Q2FtZXJhKCkucG9zaXRpb24pO1xuICAgICAgICAgICAgaWYgKHZlY3RvcjMubGVuZ3RoKCkgPiBNQVhfRElTVEFOQ0UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uO1xuICAgIH1cbiAgICBnZXRIaXRQb2ludChoaXRSZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcmVmU3BhY2UgPSB0aGlzLnRocmVlUmVuZGVyZXIueHIuZ2V0UmVmZXJlbmNlU3BhY2UoKTtcbiAgICAgICAgY29uc3QgcG9zZSA9IGhpdFJlc3VsdC5nZXRQb3NlKHJlZlNwYWNlKTtcbiAgICAgICAgaWYgKHBvc2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGl0TWF0cml4ID0gbWF0cml4NC5mcm9tQXJyYXkocG9zZS50cmFuc2Zvcm0ubWF0cml4KTtcbiAgICAgICAgaWYgKHRoaXMucGxhY2VPbldhbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIE9yaWVudCB0aGUgbW9kZWwgdG8gdGhlIHdhbGwncyBub3JtYWwgdmVjdG9yLlxuICAgICAgICAgICAgdGhpcy5nb2FsWWF3ID0gTWF0aC5hdGFuMihoaXRNYXRyaXguZWxlbWVudHNbNF0sIGhpdE1hdHJpeC5lbGVtZW50c1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgeS1jb29yZGluYXRlIG9mIHRoZSBub3JtYWwgaXMgbGFyZ2UgZW5vdWdoIHRoYXQgdGhlIG5vcm1hbFxuICAgICAgICAvLyBpcyBwb2ludGluZyB1cCBmb3IgZmxvb3IgcGxhY2VtZW50OyBvcHBvc2l0ZSBmb3Igd2FsbCBwbGFjZW1lbnQuXG4gICAgICAgIHJldHVybiBoaXRNYXRyaXguZWxlbWVudHNbNV0gPiAwLjc1ICE9PSB0aGlzLnBsYWNlT25XYWxsID9cbiAgICAgICAgICAgIGhpdFBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihoaXRNYXRyaXgpIDpcbiAgICAgICAgICAgIG51bGw7XG4gICAgfVxuICAgIG1vdmVUb0Zsb29yKGZyYW1lKSB7XG4gICAgICAgIGNvbnN0IGhpdFNvdXJjZSA9IHRoaXMuaW5pdGlhbEhpdFNvdXJjZTtcbiAgICAgICAgaWYgKGhpdFNvdXJjZSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGl0VGVzdFJlc3VsdHMgPSBmcmFtZS5nZXRIaXRUZXN0UmVzdWx0cyhoaXRTb3VyY2UpO1xuICAgICAgICBpZiAoaGl0VGVzdFJlc3VsdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoaXQgPSBoaXRUZXN0UmVzdWx0c1swXTtcbiAgICAgICAgY29uc3QgaGl0UG9pbnQgPSB0aGlzLmdldEhpdFBvaW50KGhpdCk7XG4gICAgICAgIGlmIChoaXRQb2ludCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wbGFjZW1lbnRCb3guc2hvdyA9IHRydWU7XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIHRyYW5zbGF0aW5nLCBsZXQgdGhlIGZpbmdlciBoaXQtcmF5IHRha2UgcHJlY2VkZW5jZSBhbmRcbiAgICAgICAgLy8gaWdub3JlIHRoaXMgaGl0IHJlc3VsdC5cbiAgICAgICAgaWYgKCF0aGlzLmlzVHJhbnNsYXRpbmcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYWNlT25XYWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nb2FsUG9zaXRpb24uY29weShoaXRQb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdvYWxQb3NpdGlvbi55ID0gaGl0UG9pbnQueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoaXRTb3VyY2UuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbEhpdFNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdzdGF0dXMnLCBzdGF0dXM6IEFSU3RhdHVzLk9CSkVDVF9QTEFDRUQgfSk7XG4gICAgfVxuICAgIGZpbmdlclBvbGFyKGZpbmdlcnMpIHtcbiAgICAgICAgY29uc3QgZmluZ2VyT25lID0gZmluZ2Vyc1swXS5pbnB1dFNvdXJjZS5nYW1lcGFkLmF4ZXM7XG4gICAgICAgIGNvbnN0IGZpbmdlclR3byA9IGZpbmdlcnNbMV0uaW5wdXRTb3VyY2UuZ2FtZXBhZC5heGVzO1xuICAgICAgICBjb25zdCBkZWx0YVggPSBmaW5nZXJUd29bMF0gLSBmaW5nZXJPbmVbMF07XG4gICAgICAgIGNvbnN0IGRlbHRhWSA9IGZpbmdlclR3b1sxXSAtIGZpbmdlck9uZVsxXTtcbiAgICAgICAgY29uc3QgYW5nbGUgPSBNYXRoLmF0YW4yKGRlbHRhWSwgZGVsdGFYKTtcbiAgICAgICAgbGV0IGRlbHRhWWF3ID0gdGhpcy5sYXN0QW5nbGUgLSBhbmdsZTtcbiAgICAgICAgaWYgKGRlbHRhWWF3ID4gTWF0aC5QSSkge1xuICAgICAgICAgICAgZGVsdGFZYXcgLT0gMiAqIE1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFZYXcgPCAtTWF0aC5QSSkge1xuICAgICAgICAgICAgZGVsdGFZYXcgKz0gMiAqIE1hdGguUEk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0QW5nbGUgPSBhbmdsZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlcGFyYXRpb246IE1hdGguc3FydChkZWx0YVggKiBkZWx0YVggKyBkZWx0YVkgKiBkZWx0YVkpLFxuICAgICAgICAgICAgZGVsdGFZYXc6IGRlbHRhWWF3XG4gICAgICAgIH07XG4gICAgfVxuICAgIHByb2Nlc3NJbnB1dChmcmFtZSkge1xuICAgICAgICBjb25zdCBoaXRTb3VyY2UgPSB0aGlzLnRyYW5zaWVudEhpdFRlc3RTb3VyY2U7XG4gICAgICAgIGlmIChoaXRTb3VyY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc1RyYW5zbGF0aW5nICYmICF0aGlzLmlzVHdvRmluZ2VyaW5nICYmICF0aGlzLmlzUm90YXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaW5nZXJzID0gZnJhbWUuZ2V0SGl0VGVzdFJlc3VsdHNGb3JUcmFuc2llbnRJbnB1dChoaXRTb3VyY2UpO1xuICAgICAgICBjb25zdCBzY2VuZSA9IHRoaXMucHJlc2VudGVkU2NlbmU7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gc2NlbmUuc2NhbGUueDtcbiAgICAgICAgLy8gUm90YXRpbmcsIHRyYW5zbGF0aW5nIGFuZCBzY2FsaW5nIGFyZSBtdXR1YWxseSBleGNsdXNpdmUgb3BlcmF0aW9uczsgb25seVxuICAgICAgICAvLyBvbmUgY2FuIGhhcHBlbiBhdCBhIHRpbWUsIGJ1dCB3ZSBjYW4gc3dpdGNoIGR1cmluZyBhIGdlc3R1cmUuXG4gICAgICAgIGlmICh0aGlzLmlzVHdvRmluZ2VyaW5nKSB7XG4gICAgICAgICAgICBpZiAoZmluZ2Vycy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgbG9zZSB0aGUgc2Vjb25kIGZpbmdlciwgc3RvcCBzY2FsaW5nIChpbiBmYWN0LCBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAvLyBpbnB1dCBhbHRvZ2V0aGVyIHVudGlsIGEgbmV3IGdlc3R1cmUgc3RhcnRzKS5cbiAgICAgICAgICAgICAgICB0aGlzLmlzVHdvRmluZ2VyaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlcGFyYXRpb24sIGRlbHRhWWF3IH0gPSB0aGlzLmZpbmdlclBvbGFyKGZpbmdlcnMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYWNlT25XYWxsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdvYWxZYXcgKz0gZGVsdGFZYXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzY2VuZS5jYW5TY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzY2FsZSA9IHNlcGFyYXRpb24gLyB0aGlzLmZpcnN0UmF0aW87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29hbFNjYWxlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChzY2FsZSA8IFNDQUxFX1NOQVBfSElHSCAmJiBzY2FsZSA+IFNDQUxFX1NOQVBfTE9XKSA/IDEgOiBzY2FsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmluZ2Vycy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIHdlcmUgcm90YXRpbmcgb3IgdHJhbnNsYXRpbmcgYW5kIHdlIGdldCBhIHNlY29uZCBmaW5nZXIsIHN3aXRjaFxuICAgICAgICAgICAgLy8gdG8gc2NhbGluZyBpbnN0ZWFkLlxuICAgICAgICAgICAgdGhpcy5pc1RyYW5zbGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUm90YXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNUd29GaW5nZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgeyBzZXBhcmF0aW9uIH0gPSB0aGlzLmZpbmdlclBvbGFyKGZpbmdlcnMpO1xuICAgICAgICAgICAgdGhpcy5maXJzdFJhdGlvID0gc2VwYXJhdGlvbiAvIHNjYWxlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzUm90YXRpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gdGhpcy5pbnB1dFNvdXJjZS5nYW1lcGFkLmF4ZXNbMF0gKiBST1RBVElPTl9SQVRFO1xuICAgICAgICAgICAgdGhpcy5nb2FsWWF3ICs9IGFuZ2xlIC0gdGhpcy5sYXN0QW5nbGU7XG4gICAgICAgICAgICB0aGlzLmxhc3RBbmdsZSA9IGFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNUcmFuc2xhdGluZykge1xuICAgICAgICAgICAgZmluZ2Vycy5mb3JFYWNoKGZpbmdlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbmdlci5pbnB1dFNvdXJjZSAhPT0gdGhpcy5pbnB1dFNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBoaXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChmaW5nZXIucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpdCA9IHRoaXMuZ2V0SGl0UG9pbnQoZmluZ2VyLnJlc3VsdHNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGl0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0ID0gdGhpcy5nZXRUb3VjaExvY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ29hbFBvc2l0aW9uLnN1Yih0aGlzLmxhc3REcmFnUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsYWNlT25XYWxsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBoaXQueSAtIHRoaXMubGFzdERyYWdQb3NpdGlvbi55O1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGEgbG93ZXIgZmxvb3IgaXMgZm91bmQsIGtlZXAgdGhlIG1vZGVsIGF0IHRoZSBzYW1lIGhlaWdodCwgYnV0XG4gICAgICAgICAgICAgICAgICAgIC8vIGRyb3AgdGhlIHBsYWNlbWVudCBib3ggdG8gdGhlIGZsb29yLiBUaGUgbW9kZWwgZmFsbHMgb24gc2VsZWN0IGVuZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxhY2VtZW50Qm94Lm9mZnNldEhlaWdodCA9IG9mZnNldCAvIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzZW50ZWRTY2VuZS5zZXRTaGFkb3dPZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEludGVycG9sYXRlIGhpdCByYXkgdXAgdG8gZHJhZyBwbGFuZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FtZXJhUG9zaXRpb24gPSB2ZWN0b3IzLmNvcHkoc2NlbmUuZ2V0Q2FtZXJhKCkucG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxwaGEgPSAtb2Zmc2V0IC8gKGNhbWVyYVBvc2l0aW9uLnkgLSBoaXQueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW1lcmFQb3NpdGlvbi5tdWx0aXBseVNjYWxhcihhbHBoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQubXVsdGlwbHlTY2FsYXIoMSAtIGFscGhhKS5hZGQoY2FtZXJhUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ29hbFBvc2l0aW9uLmFkZChoaXQpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdERyYWdQb3NpdGlvbi5jb3B5KGhpdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlU2NlbmUoZGVsdGEpIHtcbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnByZXNlbnRlZFNjZW5lO1xuICAgICAgICBjb25zdCB7IHBvc2l0aW9uLCB5YXcgfSA9IHNjZW5lO1xuICAgICAgICBjb25zdCBib3VuZGluZ1JhZGl1cyA9IHNjZW5lLmJvdW5kaW5nU3BoZXJlLnJhZGl1cztcbiAgICAgICAgY29uc3QgZ29hbCA9IHRoaXMuZ29hbFBvc2l0aW9uO1xuICAgICAgICBjb25zdCBvbGRTY2FsZSA9IHNjZW5lLnNjYWxlLng7XG4gICAgICAgIGNvbnN0IGJveCA9IHRoaXMucGxhY2VtZW50Qm94O1xuICAgICAgICBpZiAoIWdvYWwuZXF1YWxzKHBvc2l0aW9uKSB8fCB0aGlzLmdvYWxTY2FsZSAhPT0gb2xkU2NhbGUpIHtcbiAgICAgICAgICAgIGxldCB7IHgsIHksIHogfSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgeCA9IHRoaXMueERhbXBlci51cGRhdGUoeCwgZ29hbC54LCBkZWx0YSwgYm91bmRpbmdSYWRpdXMpO1xuICAgICAgICAgICAgeSA9IHRoaXMueURhbXBlci51cGRhdGUoeSwgZ29hbC55LCBkZWx0YSwgYm91bmRpbmdSYWRpdXMpO1xuICAgICAgICAgICAgeiA9IHRoaXMuekRhbXBlci51cGRhdGUoeiwgZ29hbC56LCBkZWx0YSwgYm91bmRpbmdSYWRpdXMpO1xuICAgICAgICAgICAgcG9zaXRpb24uc2V0KHgsIHksIHopO1xuICAgICAgICAgICAgY29uc3QgbmV3U2NhbGUgPSB0aGlzLnNjYWxlRGFtcGVyLnVwZGF0ZShvbGRTY2FsZSwgdGhpcy5nb2FsU2NhbGUsIGRlbHRhLCAxKTtcbiAgICAgICAgICAgIHNjZW5lLnNjYWxlLnNldChuZXdTY2FsZSwgbmV3U2NhbGUsIG5ld1NjYWxlKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1RyYW5zbGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZ29hbC55IC0geTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wbGFjZW1lbnRDb21wbGV0ZSAmJiB0aGlzLnBsYWNlT25XYWxsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBib3gub2Zmc2V0SGVpZ2h0ID0gb2Zmc2V0IC8gbmV3U2NhbGU7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLnNldFNoYWRvd09mZnNldChvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJveC5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLnNldFNoYWRvd0ludGVuc2l0eShBUl9TSEFET1dfSU5URU5TSVRZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYm94LnVwZGF0ZU9wYWNpdHkoZGVsdGEpO1xuICAgICAgICBzY2VuZS51cGRhdGVUYXJnZXQoZGVsdGEpO1xuICAgICAgICAvLyB5YXcgbXVzdCBiZSB1cGRhdGVkIGxhc3QsIHNpbmNlIHRoaXMgYWxzbyB1cGRhdGVzIHRoZSBzaGFkb3cgcG9zaXRpb24uXG4gICAgICAgIHNjZW5lLnlhdyA9IHRoaXMueWF3RGFtcGVyLnVwZGF0ZSh5YXcsIHRoaXMuZ29hbFlhdywgZGVsdGEsIE1hdGguUEkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPbmx5IHB1YmxpYyB0byBtYWtlIGl0IHRlc3RhYmxlLlxuICAgICAqL1xuICAgIG9uV2ViWFJGcmFtZSh0aW1lLCBmcmFtZSkge1xuICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgICsrdGhpcy5mcmFtZXM7XG4gICAgICAgIGNvbnN0IHJlZlNwYWNlID0gdGhpcy50aHJlZVJlbmRlcmVyLnhyLmdldFJlZmVyZW5jZVNwYWNlKCk7XG4gICAgICAgIGNvbnN0IHBvc2UgPSBmcmFtZS5nZXRWaWV3ZXJQb3NlKHJlZlNwYWNlKTtcbiAgICAgICAgaWYgKHBvc2UgPT0gbnVsbCAmJiB0aGlzLnRyYWNraW5nID09PSB0cnVlICYmIHRoaXMuZnJhbWVzID4gSU5JVF9GUkFNRVMpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICd0cmFja2luZycsIHN0YXR1czogQVJUcmFja2luZy5OT1RfVFJBQ0tJTkcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NlbmUgPSB0aGlzLnByZXNlbnRlZFNjZW5lO1xuICAgICAgICBpZiAocG9zZSA9PSBudWxsIHx8IHNjZW5lID09IG51bGwgfHwgIXNjZW5lLmVsZW1lbnQubG9hZGVkKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuY2xlYXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFja2luZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2tpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ3RyYWNraW5nJywgc3RhdHVzOiBBUlRyYWNraW5nLlRSQUNLSU5HIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlYlhSIG1heSByZXR1cm4gbXVsdGlwbGUgdmlld3MsIGkuZS4gZm9yIGhlYWRzZXQgQVIuIFRoaXNcbiAgICAgICAgLy8gaXNuJ3QgcmVhbGx5IHN1cHBvcnRlZCBhdCB0aGlzIHBvaW50LCBidXQgbWFrZSBhIGJlc3QtZWZmb3J0XG4gICAgICAgIC8vIGF0dGVtcHQgdG8gcmVuZGVyIG90aGVyIHZpZXdzIGFsc28sIHVzaW5nIHRoZSBmaXJzdCB2aWV3XG4gICAgICAgIC8vIGFzIHRoZSBtYWluIHZpZXdwb2ludC5cbiAgICAgICAgbGV0IGlzRmlyc3RWaWV3ID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB2aWV3IG9mIHBvc2Uudmlld3MpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlldyh2aWV3KTtcbiAgICAgICAgICAgIGlmIChpc0ZpcnN0Vmlldykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvRmxvb3IoZnJhbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0lucHV0KGZyYW1lKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IHRpbWUgLSB0aGlzLmxhc3RUaWNrO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVNjZW5lKGRlbHRhKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByZVJlbmRlcihzY2VuZSwgdGltZSwgZGVsdGEpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFRpY2sgPSB0aW1lO1xuICAgICAgICAgICAgICAgIHNjZW5lLnJlbmRlclNoYWRvdyh0aGlzLnRocmVlUmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnJlbmRlcihzY2VuZSwgc2NlbmUuZ2V0Q2FtZXJhKCkpO1xuICAgICAgICAgICAgaXNGaXJzdFZpZXcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFSUmVuZGVyZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $evictionPolicy: () => (/* binding */ $evictionPolicy),\n/* harmony export */   $loader: () => (/* binding */ $loader),\n/* harmony export */   CachingGLTFLoader: () => (/* binding */ CachingGLTFLoader),\n/* harmony export */   loadWithLoader: () => (/* binding */ loadWithLoader)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/loaders/DRACOLoader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/DRACOLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/GLTFLoader.js\");\n/* harmony import */ var three_examples_jsm_loaders_KTX2Loader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/loaders/KTX2Loader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/KTX2Loader.js\");\n/* harmony import */ var _utilities_cache_eviction_policy_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities/cache-eviction-policy.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js\");\n/* harmony import */ var _gltf_instance_VariantMaterialLoaderPlugin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gltf-instance/VariantMaterialLoaderPlugin */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a, _b;\n\n\n\n\n\n\n/**\n * A helper to Promise-ify a Three.js GLTFLoader\n */\nconst loadWithLoader = (url, loader, progressCallback = () => { }) => {\n    const onProgress = (event) => {\n        const fraction = event.loaded / event.total;\n        progressCallback(Math.max(0, Math.min(1, isFinite(fraction) ? fraction : 1)));\n    };\n    return new Promise((resolve, reject) => {\n        loader.load(url, resolve, onProgress, reject);\n    });\n};\n/** Helper to load a script tag. */\nconst fetchScript = (src) => {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        document.body.appendChild(script);\n        script.onload = resolve;\n        script.onerror = reject;\n        script.async = true;\n        script.src = src;\n    });\n};\nconst cache = new Map();\nconst preloaded = new Map();\nlet dracoDecoderLocation;\nconst dracoLoader = new three_examples_jsm_loaders_DRACOLoader_js__WEBPACK_IMPORTED_MODULE_2__.DRACOLoader();\nlet ktx2TranscoderLocation;\nconst ktx2Loader = new three_examples_jsm_loaders_KTX2Loader_js__WEBPACK_IMPORTED_MODULE_3__.KTX2Loader();\nlet meshoptDecoderLocation;\nlet meshoptDecoder;\nconst $loader = Symbol('loader');\nconst $evictionPolicy = Symbol('evictionPolicy');\nconst $GLTFInstance = Symbol('GLTFInstance');\nclass CachingGLTFLoader extends three__WEBPACK_IMPORTED_MODULE_4__.EventDispatcher {\n    constructor(GLTFInstance) {\n        super();\n        this[_b] = new three_examples_jsm_loaders_GLTFLoader_js__WEBPACK_IMPORTED_MODULE_5__.GLTFLoader().register(parser => new _gltf_instance_VariantMaterialLoaderPlugin__WEBPACK_IMPORTED_MODULE_1__[\"default\"](parser));\n        this[$GLTFInstance] = GLTFInstance;\n        this[$loader].setDRACOLoader(dracoLoader);\n        this[$loader].setKTX2Loader(ktx2Loader);\n    }\n    static setDRACODecoderLocation(url) {\n        dracoDecoderLocation = url;\n        dracoLoader.setDecoderPath(url);\n    }\n    static getDRACODecoderLocation() {\n        return dracoDecoderLocation;\n    }\n    static setKTX2TranscoderLocation(url) {\n        ktx2TranscoderLocation = url;\n        ktx2Loader.setTranscoderPath(url);\n    }\n    static getKTX2TranscoderLocation() {\n        return ktx2TranscoderLocation;\n    }\n    static setMeshoptDecoderLocation(url) {\n        if (meshoptDecoderLocation !== url) {\n            meshoptDecoderLocation = url;\n            meshoptDecoder = fetchScript(url)\n                .then(() => MeshoptDecoder.ready)\n                .then(() => MeshoptDecoder);\n        }\n    }\n    static getMeshoptDecoderLocation() {\n        return meshoptDecoderLocation;\n    }\n    static initializeKTX2Loader(renderer) {\n        ktx2Loader.detectSupport(renderer);\n    }\n    static get cache() {\n        return cache;\n    }\n    /** @nocollapse */\n    static clearCache() {\n        cache.forEach((_value, url) => {\n            this.delete(url);\n        });\n        this[$evictionPolicy].reset();\n    }\n    static has(url) {\n        return cache.has(url);\n    }\n    /** @nocollapse */\n    static async delete(url) {\n        if (!this.has(url)) {\n            return;\n        }\n        const gltfLoads = cache.get(url);\n        preloaded.delete(url);\n        cache.delete(url);\n        const gltf = await gltfLoads;\n        // Dispose of the cached glTF's materials and geometries:\n        gltf.dispose();\n    }\n    /**\n     * Returns true if the model that corresponds to the specified url is\n     * available in our local cache.\n     */\n    static hasFinishedLoading(url) {\n        return !!preloaded.get(url);\n    }\n    get [(_a = $evictionPolicy, _b = $loader, $evictionPolicy)]() {\n        return this.constructor[$evictionPolicy];\n    }\n    /**\n     * Preloads a glTF, populating the cache. Returns a promise that resolves\n     * when the cache is populated.\n     */\n    async preload(url, element, progressCallback = () => { }) {\n        this[$loader].setWithCredentials(CachingGLTFLoader.withCredentials);\n        this.dispatchEvent({ type: 'preload', element: element, src: url });\n        if (!cache.has(url)) {\n            if (meshoptDecoder != null) {\n                this[$loader].setMeshoptDecoder(await meshoptDecoder);\n            }\n            const rawGLTFLoads = loadWithLoader(url, this[$loader], (progress) => {\n                progressCallback(progress * 0.8);\n            });\n            const GLTFInstance = this[$GLTFInstance];\n            const gltfInstanceLoads = rawGLTFLoads\n                .then((rawGLTF) => {\n                return GLTFInstance.prepare(rawGLTF);\n            })\n                .then((preparedGLTF) => {\n                progressCallback(0.9);\n                return new GLTFInstance(preparedGLTF);\n            })\n                .catch((reason => {\n                console.error(reason);\n                return new GLTFInstance();\n            }));\n            cache.set(url, gltfInstanceLoads);\n        }\n        await cache.get(url);\n        preloaded.set(url, true);\n        if (progressCallback) {\n            progressCallback(1.0);\n        }\n    }\n    /**\n     * Loads a glTF from the specified url and resolves a unique clone of the\n     * glTF. If the glTF has already been loaded, makes a clone of the cached\n     * copy.\n     */\n    async load(url, element, progressCallback = () => { }) {\n        await this.preload(url, element, progressCallback);\n        const gltf = await cache.get(url);\n        const clone = await gltf.clone();\n        this[$evictionPolicy].retain(url);\n        // Patch dispose so that we can properly account for instance use\n        // in the caching layer:\n        clone.dispose = () => {\n            this[$evictionPolicy].release(url);\n        };\n        return clone;\n    }\n}\nCachingGLTFLoader[_a] = new _utilities_cache_eviction_policy_js__WEBPACK_IMPORTED_MODULE_0__.CacheEvictionPolicy(CachingGLTFLoader);\n//# sourceMappingURL=CachingGLTFLoader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvQ2FjaGluZ0dMVEZMb2FkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN3QztBQUNnQztBQUNGO0FBQ0E7QUFDTTtBQUNhO0FBQ3pGO0FBQ0E7QUFDQTtBQUNPLGlFQUFpRTtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0ZBQVc7QUFDbkM7QUFDQSx1QkFBdUIsZ0ZBQVU7QUFDakM7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNPLGdDQUFnQyxrREFBZTtBQUN0RDtBQUNBO0FBQ0EsdUJBQXVCLGdGQUFVLDBCQUEwQixrRkFBOEI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0EsNkJBQTZCLDZDQUE2QztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0ZBQW1CO0FBQy9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9DYWNoaW5nR0xURkxvYWRlci5qcz84NzBlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfYSwgX2I7XG5pbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBEUkFDT0xvYWRlciB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9sb2FkZXJzL0RSQUNPTG9hZGVyLmpzJztcbmltcG9ydCB7IEdMVEZMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9HTFRGTG9hZGVyLmpzJztcbmltcG9ydCB7IEtUWDJMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9LVFgyTG9hZGVyLmpzJztcbmltcG9ydCB7IENhY2hlRXZpY3Rpb25Qb2xpY3kgfSBmcm9tICcuLi91dGlsaXRpZXMvY2FjaGUtZXZpY3Rpb24tcG9saWN5LmpzJztcbmltcG9ydCBHTFRGTWF0ZXJpYWxzVmFyaWFudHNFeHRlbnNpb24gZnJvbSAnLi9nbHRmLWluc3RhbmNlL1ZhcmlhbnRNYXRlcmlhbExvYWRlclBsdWdpbic7XG4vKipcbiAqIEEgaGVscGVyIHRvIFByb21pc2UtaWZ5IGEgVGhyZWUuanMgR0xURkxvYWRlclxuICovXG5leHBvcnQgY29uc3QgbG9hZFdpdGhMb2FkZXIgPSAodXJsLCBsb2FkZXIsIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7IH0pID0+IHtcbiAgICBjb25zdCBvblByb2dyZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGZyYWN0aW9uID0gZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWw7XG4gICAgICAgIHByb2dyZXNzQ2FsbGJhY2soTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgaXNGaW5pdGUoZnJhY3Rpb24pID8gZnJhY3Rpb24gOiAxKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbG9hZGVyLmxvYWQodXJsLCByZXNvbHZlLCBvblByb2dyZXNzLCByZWplY3QpO1xuICAgIH0pO1xufTtcbi8qKiBIZWxwZXIgdG8gbG9hZCBhIHNjcmlwdCB0YWcuICovXG5jb25zdCBmZXRjaFNjcmlwdCA9IChzcmMpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICBzY3JpcHQub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBzcmM7XG4gICAgfSk7XG59O1xuY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG5jb25zdCBwcmVsb2FkZWQgPSBuZXcgTWFwKCk7XG5sZXQgZHJhY29EZWNvZGVyTG9jYXRpb247XG5jb25zdCBkcmFjb0xvYWRlciA9IG5ldyBEUkFDT0xvYWRlcigpO1xubGV0IGt0eDJUcmFuc2NvZGVyTG9jYXRpb247XG5jb25zdCBrdHgyTG9hZGVyID0gbmV3IEtUWDJMb2FkZXIoKTtcbmxldCBtZXNob3B0RGVjb2RlckxvY2F0aW9uO1xubGV0IG1lc2hvcHREZWNvZGVyO1xuZXhwb3J0IGNvbnN0ICRsb2FkZXIgPSBTeW1ib2woJ2xvYWRlcicpO1xuZXhwb3J0IGNvbnN0ICRldmljdGlvblBvbGljeSA9IFN5bWJvbCgnZXZpY3Rpb25Qb2xpY3knKTtcbmNvbnN0ICRHTFRGSW5zdGFuY2UgPSBTeW1ib2woJ0dMVEZJbnN0YW5jZScpO1xuZXhwb3J0IGNsYXNzIENhY2hpbmdHTFRGTG9hZGVyIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcihHTFRGSW5zdGFuY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpc1tfYl0gPSBuZXcgR0xURkxvYWRlcigpLnJlZ2lzdGVyKHBhcnNlciA9PiBuZXcgR0xURk1hdGVyaWFsc1ZhcmlhbnRzRXh0ZW5zaW9uKHBhcnNlcikpO1xuICAgICAgICB0aGlzWyRHTFRGSW5zdGFuY2VdID0gR0xURkluc3RhbmNlO1xuICAgICAgICB0aGlzWyRsb2FkZXJdLnNldERSQUNPTG9hZGVyKGRyYWNvTG9hZGVyKTtcbiAgICAgICAgdGhpc1skbG9hZGVyXS5zZXRLVFgyTG9hZGVyKGt0eDJMb2FkZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgc2V0RFJBQ09EZWNvZGVyTG9jYXRpb24odXJsKSB7XG4gICAgICAgIGRyYWNvRGVjb2RlckxvY2F0aW9uID0gdXJsO1xuICAgICAgICBkcmFjb0xvYWRlci5zZXREZWNvZGVyUGF0aCh1cmwpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RFJBQ09EZWNvZGVyTG9jYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBkcmFjb0RlY29kZXJMb2NhdGlvbjtcbiAgICB9XG4gICAgc3RhdGljIHNldEtUWDJUcmFuc2NvZGVyTG9jYXRpb24odXJsKSB7XG4gICAgICAgIGt0eDJUcmFuc2NvZGVyTG9jYXRpb24gPSB1cmw7XG4gICAgICAgIGt0eDJMb2FkZXIuc2V0VHJhbnNjb2RlclBhdGgodXJsKTtcbiAgICB9XG4gICAgc3RhdGljIGdldEtUWDJUcmFuc2NvZGVyTG9jYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBrdHgyVHJhbnNjb2RlckxvY2F0aW9uO1xuICAgIH1cbiAgICBzdGF0aWMgc2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbih1cmwpIHtcbiAgICAgICAgaWYgKG1lc2hvcHREZWNvZGVyTG9jYXRpb24gIT09IHVybCkge1xuICAgICAgICAgICAgbWVzaG9wdERlY29kZXJMb2NhdGlvbiA9IHVybDtcbiAgICAgICAgICAgIG1lc2hvcHREZWNvZGVyID0gZmV0Y2hTY3JpcHQodXJsKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IE1lc2hvcHREZWNvZGVyLnJlYWR5KVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IE1lc2hvcHREZWNvZGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0TWVzaG9wdERlY29kZXJMb2NhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG1lc2hvcHREZWNvZGVyTG9jYXRpb247XG4gICAgfVxuICAgIHN0YXRpYyBpbml0aWFsaXplS1RYMkxvYWRlcihyZW5kZXJlcikge1xuICAgICAgICBrdHgyTG9hZGVyLmRldGVjdFN1cHBvcnQocmVuZGVyZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGNhY2hlKCkge1xuICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBjbGVhckNhY2hlKCkge1xuICAgICAgICBjYWNoZS5mb3JFYWNoKChfdmFsdWUsIHVybCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZWxldGUodXJsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXNbJGV2aWN0aW9uUG9saWN5XS5yZXNldCgpO1xuICAgIH1cbiAgICBzdGF0aWMgaGFzKHVybCkge1xuICAgICAgICByZXR1cm4gY2FjaGUuaGFzKHVybCk7XG4gICAgfVxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBhc3luYyBkZWxldGUodXJsKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXModXJsKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdsdGZMb2FkcyA9IGNhY2hlLmdldCh1cmwpO1xuICAgICAgICBwcmVsb2FkZWQuZGVsZXRlKHVybCk7XG4gICAgICAgIGNhY2hlLmRlbGV0ZSh1cmwpO1xuICAgICAgICBjb25zdCBnbHRmID0gYXdhaXQgZ2x0ZkxvYWRzO1xuICAgICAgICAvLyBEaXNwb3NlIG9mIHRoZSBjYWNoZWQgZ2xURidzIG1hdGVyaWFscyBhbmQgZ2VvbWV0cmllczpcbiAgICAgICAgZ2x0Zi5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbW9kZWwgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgc3BlY2lmaWVkIHVybCBpc1xuICAgICAqIGF2YWlsYWJsZSBpbiBvdXIgbG9jYWwgY2FjaGUuXG4gICAgICovXG4gICAgc3RhdGljIGhhc0ZpbmlzaGVkTG9hZGluZyh1cmwpIHtcbiAgICAgICAgcmV0dXJuICEhcHJlbG9hZGVkLmdldCh1cmwpO1xuICAgIH1cbiAgICBnZXQgWyhfYSA9ICRldmljdGlvblBvbGljeSwgX2IgPSAkbG9hZGVyLCAkZXZpY3Rpb25Qb2xpY3kpXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3JbJGV2aWN0aW9uUG9saWN5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlbG9hZHMgYSBnbFRGLCBwb3B1bGF0aW5nIHRoZSBjYWNoZS4gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlc1xuICAgICAqIHdoZW4gdGhlIGNhY2hlIGlzIHBvcHVsYXRlZC5cbiAgICAgKi9cbiAgICBhc3luYyBwcmVsb2FkKHVybCwgZWxlbWVudCwgcHJvZ3Jlc3NDYWxsYmFjayA9ICgpID0+IHsgfSkge1xuICAgICAgICB0aGlzWyRsb2FkZXJdLnNldFdpdGhDcmVkZW50aWFscyhDYWNoaW5nR0xURkxvYWRlci53aXRoQ3JlZGVudGlhbHMpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAncHJlbG9hZCcsIGVsZW1lbnQ6IGVsZW1lbnQsIHNyYzogdXJsIH0pO1xuICAgICAgICBpZiAoIWNhY2hlLmhhcyh1cmwpKSB7XG4gICAgICAgICAgICBpZiAobWVzaG9wdERlY29kZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGxvYWRlcl0uc2V0TWVzaG9wdERlY29kZXIoYXdhaXQgbWVzaG9wdERlY29kZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmF3R0xURkxvYWRzID0gbG9hZFdpdGhMb2FkZXIodXJsLCB0aGlzWyRsb2FkZXJdLCAocHJvZ3Jlc3MpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKHByb2dyZXNzICogMC44KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgR0xURkluc3RhbmNlID0gdGhpc1skR0xURkluc3RhbmNlXTtcbiAgICAgICAgICAgIGNvbnN0IGdsdGZJbnN0YW5jZUxvYWRzID0gcmF3R0xURkxvYWRzXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJhd0dMVEYpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR0xURkluc3RhbmNlLnByZXBhcmUocmF3R0xURik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChwcmVwYXJlZEdMVEYpID0+IHtcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKDAuOSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHTFRGSW5zdGFuY2UocHJlcGFyZWRHTFRGKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKChyZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdMVEZJbnN0YW5jZSgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY2FjaGUuc2V0KHVybCwgZ2x0Zkluc3RhbmNlTG9hZHMpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNhY2hlLmdldCh1cmwpO1xuICAgICAgICBwcmVsb2FkZWQuc2V0KHVybCwgdHJ1ZSk7XG4gICAgICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKDEuMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgYSBnbFRGIGZyb20gdGhlIHNwZWNpZmllZCB1cmwgYW5kIHJlc29sdmVzIGEgdW5pcXVlIGNsb25lIG9mIHRoZVxuICAgICAqIGdsVEYuIElmIHRoZSBnbFRGIGhhcyBhbHJlYWR5IGJlZW4gbG9hZGVkLCBtYWtlcyBhIGNsb25lIG9mIHRoZSBjYWNoZWRcbiAgICAgKiBjb3B5LlxuICAgICAqL1xuICAgIGFzeW5jIGxvYWQodXJsLCBlbGVtZW50LCBwcm9ncmVzc0NhbGxiYWNrID0gKCkgPT4geyB9KSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHJlbG9hZCh1cmwsIGVsZW1lbnQsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICBjb25zdCBnbHRmID0gYXdhaXQgY2FjaGUuZ2V0KHVybCk7XG4gICAgICAgIGNvbnN0IGNsb25lID0gYXdhaXQgZ2x0Zi5jbG9uZSgpO1xuICAgICAgICB0aGlzWyRldmljdGlvblBvbGljeV0ucmV0YWluKHVybCk7XG4gICAgICAgIC8vIFBhdGNoIGRpc3Bvc2Ugc28gdGhhdCB3ZSBjYW4gcHJvcGVybHkgYWNjb3VudCBmb3IgaW5zdGFuY2UgdXNlXG4gICAgICAgIC8vIGluIHRoZSBjYWNoaW5nIGxheWVyOlxuICAgICAgICBjbG9uZS5kaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpc1skZXZpY3Rpb25Qb2xpY3ldLnJlbGVhc2UodXJsKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cbn1cbkNhY2hpbmdHTFRGTG9hZGVyW19hXSA9IG5ldyBDYWNoZUV2aWN0aW9uUG9saWN5KENhY2hpbmdHTFRGTG9hZGVyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhY2hpbmdHTFRGTG9hZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Damper.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DECAY_MILLISECONDS: () => (/* binding */ DECAY_MILLISECONDS),\n/* harmony export */   Damper: () => (/* binding */ Damper),\n/* harmony export */   SETTLING_TIME: () => (/* binding */ SETTLING_TIME)\n/* harmony export */ });\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst SETTLING_TIME = 10000; // plenty long enough\nconst MIN_DECAY_MILLISECONDS = 0.001;\nconst DECAY_MILLISECONDS = 50;\n/**\n * The Damper class is a generic second-order critically damped system that does\n * one linear step of the desired length of time. The only parameter is\n * DECAY_MILLISECONDS. This common parameter makes all states converge at the\n * same rate regardless of scale. xNormalization is a number to provide the\n * rough scale of x, such that NIL_SPEED clamping also happens at roughly the\n * same convergence for all states.\n */\nclass Damper {\n    constructor(decayMilliseconds = DECAY_MILLISECONDS) {\n        this.velocity = 0;\n        this.naturalFrequency = 0;\n        this.setDecayTime(decayMilliseconds);\n    }\n    setDecayTime(decayMilliseconds) {\n        this.naturalFrequency =\n            1 / Math.max(MIN_DECAY_MILLISECONDS, decayMilliseconds);\n    }\n    update(x, xGoal, timeStepMilliseconds, xNormalization) {\n        const nilSpeed = 0.0002 * this.naturalFrequency;\n        if (x == null || xNormalization === 0) {\n            return xGoal;\n        }\n        if (x === xGoal && this.velocity === 0) {\n            return xGoal;\n        }\n        if (timeStepMilliseconds < 0) {\n            return x;\n        }\n        // Exact solution to a critically damped second-order system, where:\n        // acceleration = this.naturalFrequency * this.naturalFrequency * (xGoal\n        // - x) - 2 * this.naturalFrequency * this.velocity;\n        const deltaX = (x - xGoal);\n        const intermediateVelocity = this.velocity + this.naturalFrequency * deltaX;\n        const intermediateX = deltaX + timeStepMilliseconds * intermediateVelocity;\n        const decay = Math.exp(-this.naturalFrequency * timeStepMilliseconds);\n        const newVelocity = (intermediateVelocity - this.naturalFrequency * intermediateX) * decay;\n        const acceleration = -this.naturalFrequency * (newVelocity + intermediateVelocity * decay);\n        if (Math.abs(newVelocity) < nilSpeed * Math.abs(xNormalization) &&\n            acceleration * deltaX >= 0) {\n            // This ensures the controls settle and stop calling this function instead\n            // of asymptotically approaching their goal.\n            this.velocity = 0;\n            return xGoal;\n        }\n        else {\n            this.velocity = newVelocity;\n            return xGoal + intermediateX * decay;\n        }\n    }\n}\n//# sourceMappingURL=Damper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRGFtcGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkI7QUFDcEM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9EYW1wZXIuanM/NzU5OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5leHBvcnQgY29uc3QgU0VUVExJTkdfVElNRSA9IDEwMDAwOyAvLyBwbGVudHkgbG9uZyBlbm91Z2hcbmNvbnN0IE1JTl9ERUNBWV9NSUxMSVNFQ09ORFMgPSAwLjAwMTtcbmV4cG9ydCBjb25zdCBERUNBWV9NSUxMSVNFQ09ORFMgPSA1MDtcbi8qKlxuICogVGhlIERhbXBlciBjbGFzcyBpcyBhIGdlbmVyaWMgc2Vjb25kLW9yZGVyIGNyaXRpY2FsbHkgZGFtcGVkIHN5c3RlbSB0aGF0IGRvZXNcbiAqIG9uZSBsaW5lYXIgc3RlcCBvZiB0aGUgZGVzaXJlZCBsZW5ndGggb2YgdGltZS4gVGhlIG9ubHkgcGFyYW1ldGVyIGlzXG4gKiBERUNBWV9NSUxMSVNFQ09ORFMuIFRoaXMgY29tbW9uIHBhcmFtZXRlciBtYWtlcyBhbGwgc3RhdGVzIGNvbnZlcmdlIGF0IHRoZVxuICogc2FtZSByYXRlIHJlZ2FyZGxlc3Mgb2Ygc2NhbGUuIHhOb3JtYWxpemF0aW9uIGlzIGEgbnVtYmVyIHRvIHByb3ZpZGUgdGhlXG4gKiByb3VnaCBzY2FsZSBvZiB4LCBzdWNoIHRoYXQgTklMX1NQRUVEIGNsYW1waW5nIGFsc28gaGFwcGVucyBhdCByb3VnaGx5IHRoZVxuICogc2FtZSBjb252ZXJnZW5jZSBmb3IgYWxsIHN0YXRlcy5cbiAqL1xuZXhwb3J0IGNsYXNzIERhbXBlciB7XG4gICAgY29uc3RydWN0b3IoZGVjYXlNaWxsaXNlY29uZHMgPSBERUNBWV9NSUxMSVNFQ09ORFMpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIHRoaXMubmF0dXJhbEZyZXF1ZW5jeSA9IDA7XG4gICAgICAgIHRoaXMuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gICAgc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMubmF0dXJhbEZyZXF1ZW5jeSA9XG4gICAgICAgICAgICAxIC8gTWF0aC5tYXgoTUlOX0RFQ0FZX01JTExJU0VDT05EUywgZGVjYXlNaWxsaXNlY29uZHMpO1xuICAgIH1cbiAgICB1cGRhdGUoeCwgeEdvYWwsIHRpbWVTdGVwTWlsbGlzZWNvbmRzLCB4Tm9ybWFsaXphdGlvbikge1xuICAgICAgICBjb25zdCBuaWxTcGVlZCA9IDAuMDAwMiAqIHRoaXMubmF0dXJhbEZyZXF1ZW5jeTtcbiAgICAgICAgaWYgKHggPT0gbnVsbCB8fCB4Tm9ybWFsaXphdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHhHb2FsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID09PSB4R29hbCAmJiB0aGlzLnZlbG9jaXR5ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geEdvYWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVTdGVwTWlsbGlzZWNvbmRzIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXhhY3Qgc29sdXRpb24gdG8gYSBjcml0aWNhbGx5IGRhbXBlZCBzZWNvbmQtb3JkZXIgc3lzdGVtLCB3aGVyZTpcbiAgICAgICAgLy8gYWNjZWxlcmF0aW9uID0gdGhpcy5uYXR1cmFsRnJlcXVlbmN5ICogdGhpcy5uYXR1cmFsRnJlcXVlbmN5ICogKHhHb2FsXG4gICAgICAgIC8vIC0geCkgLSAyICogdGhpcy5uYXR1cmFsRnJlcXVlbmN5ICogdGhpcy52ZWxvY2l0eTtcbiAgICAgICAgY29uc3QgZGVsdGFYID0gKHggLSB4R29hbCk7XG4gICAgICAgIGNvbnN0IGludGVybWVkaWF0ZVZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eSArIHRoaXMubmF0dXJhbEZyZXF1ZW5jeSAqIGRlbHRhWDtcbiAgICAgICAgY29uc3QgaW50ZXJtZWRpYXRlWCA9IGRlbHRhWCArIHRpbWVTdGVwTWlsbGlzZWNvbmRzICogaW50ZXJtZWRpYXRlVmVsb2NpdHk7XG4gICAgICAgIGNvbnN0IGRlY2F5ID0gTWF0aC5leHAoLXRoaXMubmF0dXJhbEZyZXF1ZW5jeSAqIHRpbWVTdGVwTWlsbGlzZWNvbmRzKTtcbiAgICAgICAgY29uc3QgbmV3VmVsb2NpdHkgPSAoaW50ZXJtZWRpYXRlVmVsb2NpdHkgLSB0aGlzLm5hdHVyYWxGcmVxdWVuY3kgKiBpbnRlcm1lZGlhdGVYKSAqIGRlY2F5O1xuICAgICAgICBjb25zdCBhY2NlbGVyYXRpb24gPSAtdGhpcy5uYXR1cmFsRnJlcXVlbmN5ICogKG5ld1ZlbG9jaXR5ICsgaW50ZXJtZWRpYXRlVmVsb2NpdHkgKiBkZWNheSk7XG4gICAgICAgIGlmIChNYXRoLmFicyhuZXdWZWxvY2l0eSkgPCBuaWxTcGVlZCAqIE1hdGguYWJzKHhOb3JtYWxpemF0aW9uKSAmJlxuICAgICAgICAgICAgYWNjZWxlcmF0aW9uICogZGVsdGFYID49IDApIHtcbiAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGUgY29udHJvbHMgc2V0dGxlIGFuZCBzdG9wIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiBpbnN0ZWFkXG4gICAgICAgICAgICAvLyBvZiBhc3ltcHRvdGljYWxseSBhcHByb2FjaGluZyB0aGVpciBnb2FsLlxuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgICAgICByZXR1cm4geEdvYWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gbmV3VmVsb2NpdHk7XG4gICAgICAgICAgICByZXR1cm4geEdvYWwgKyBpbnRlcm1lZGlhdGVYICogZGVjYXk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EYW1wZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Debugger.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Debugger.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Debugger: () => (/* binding */ Debugger)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * This Debugger exposes internal details of the <model-viewer> rendering\n * substructure so that external tools can more easily inspect and operate on\n * them.\n *\n * It also activates shader debugging on the associated GL context. Shader\n * debugging trades performance for useful error information, so it is not\n * recommended to activate this unless needed.\n */\nclass Debugger {\n    constructor(renderer) {\n        // Force WebGL shader debugging on:\n        renderer.threeRenderer.debug = { checkShaderErrors: true };\n        // Announce debug details at microtask timing to give the `Renderer`\n        // constructor time to complete its initialization, just to be on the safe\n        // side:\n        Promise.resolve().then(() => {\n            self.dispatchEvent(new CustomEvent('model-viewer-renderer-debug', {\n                detail: {\n                    renderer,\n                    THREE: {\n                        ShaderMaterial: three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial,\n                        Texture: three__WEBPACK_IMPORTED_MODULE_0__.Texture,\n                        Mesh: three__WEBPACK_IMPORTED_MODULE_0__.Mesh,\n                        Scene: three__WEBPACK_IMPORTED_MODULE_0__.Scene,\n                        PlaneGeometry: three__WEBPACK_IMPORTED_MODULE_0__.PlaneGeometry,\n                        OrthographicCamera: three__WEBPACK_IMPORTED_MODULE_0__.OrthographicCamera,\n                        WebGLRenderTarget: three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget\n                    }\n                }\n            }));\n        });\n    }\n    addScene(scene) {\n        self.dispatchEvent(new CustomEvent('model-viewer-scene-added-debug', { detail: { scene } }));\n    }\n    removeScene(scene) {\n        self.dispatchEvent(new CustomEvent('model-viewer-scene-removed-debug', { detail: { scene } }));\n    }\n}\n//# sourceMappingURL=Debugger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRGVidWdnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ21IO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDLCtCQUErQjtBQUMvQiw0QkFBNEI7QUFDNUIsNkJBQTZCO0FBQzdCLHFDQUFxQztBQUNyQywwQ0FBMEM7QUFDMUMseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSwrRUFBK0UsVUFBVSxTQUFTO0FBQ2xHO0FBQ0E7QUFDQSxpRkFBaUYsVUFBVSxTQUFTO0FBQ3BHO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRGVidWdnZXIuanM/OWI2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBNZXNoLCBPcnRob2dyYXBoaWNDYW1lcmEsIFBsYW5lR2VvbWV0cnksIFNjZW5lLCBTaGFkZXJNYXRlcmlhbCwgVGV4dHVyZSwgV2ViR0xSZW5kZXJUYXJnZXQgfSBmcm9tICd0aHJlZSc7XG4vKipcbiAqIFRoaXMgRGVidWdnZXIgZXhwb3NlcyBpbnRlcm5hbCBkZXRhaWxzIG9mIHRoZSA8bW9kZWwtdmlld2VyPiByZW5kZXJpbmdcbiAqIHN1YnN0cnVjdHVyZSBzbyB0aGF0IGV4dGVybmFsIHRvb2xzIGNhbiBtb3JlIGVhc2lseSBpbnNwZWN0IGFuZCBvcGVyYXRlIG9uXG4gKiB0aGVtLlxuICpcbiAqIEl0IGFsc28gYWN0aXZhdGVzIHNoYWRlciBkZWJ1Z2dpbmcgb24gdGhlIGFzc29jaWF0ZWQgR0wgY29udGV4dC4gU2hhZGVyXG4gKiBkZWJ1Z2dpbmcgdHJhZGVzIHBlcmZvcm1hbmNlIGZvciB1c2VmdWwgZXJyb3IgaW5mb3JtYXRpb24sIHNvIGl0IGlzIG5vdFxuICogcmVjb21tZW5kZWQgdG8gYWN0aXZhdGUgdGhpcyB1bmxlc3MgbmVlZGVkLlxuICovXG5leHBvcnQgY2xhc3MgRGVidWdnZXIge1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIC8vIEZvcmNlIFdlYkdMIHNoYWRlciBkZWJ1Z2dpbmcgb246XG4gICAgICAgIHJlbmRlcmVyLnRocmVlUmVuZGVyZXIuZGVidWcgPSB7IGNoZWNrU2hhZGVyRXJyb3JzOiB0cnVlIH07XG4gICAgICAgIC8vIEFubm91bmNlIGRlYnVnIGRldGFpbHMgYXQgbWljcm90YXNrIHRpbWluZyB0byBnaXZlIHRoZSBgUmVuZGVyZXJgXG4gICAgICAgIC8vIGNvbnN0cnVjdG9yIHRpbWUgdG8gY29tcGxldGUgaXRzIGluaXRpYWxpemF0aW9uLCBqdXN0IHRvIGJlIG9uIHRoZSBzYWZlXG4gICAgICAgIC8vIHNpZGU6XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbW9kZWwtdmlld2VyLXJlbmRlcmVyLWRlYnVnJywge1xuICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgICAgICAgICAgVEhSRUU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNoYWRlck1hdGVyaWFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgVGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBTY2VuZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYW5lR2VvbWV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICBPcnRob2dyYXBoaWNDYW1lcmEsXG4gICAgICAgICAgICAgICAgICAgICAgICBXZWJHTFJlbmRlclRhcmdldFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWRkU2NlbmUoc2NlbmUpIHtcbiAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnbW9kZWwtdmlld2VyLXNjZW5lLWFkZGVkLWRlYnVnJywgeyBkZXRhaWw6IHsgc2NlbmUgfSB9KSk7XG4gICAgfVxuICAgIHJlbW92ZVNjZW5lKHNjZW5lKSB7XG4gICAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ21vZGVsLXZpZXdlci1zY2VuZS1yZW1vdmVkLWRlYnVnJywgeyBkZXRhaWw6IHsgc2NlbmUgfSB9KSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RGVidWdnZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Debugger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EnvironmentScene)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass EnvironmentScene extends three__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor() {\n        super();\n        this.position.y = -3.5;\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry();\n        geometry.deleteAttribute('uv');\n        const roomMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({ metalness: 0, side: three__WEBPACK_IMPORTED_MODULE_0__.BackSide });\n        const boxMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({ metalness: 0 });\n        const mainLight = new three__WEBPACK_IMPORTED_MODULE_0__.PointLight(0xffffff, 500.0, 28, 2);\n        mainLight.position.set(0.418, 16.199, 0.300);\n        this.add(mainLight);\n        const room = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, roomMaterial);\n        room.position.set(-0.757, 13.219, 0.717);\n        room.scale.set(31.713, 28.305, 28.591);\n        this.add(room);\n        const box1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box1.position.set(-10.906, 2.009, 1.846);\n        box1.rotation.set(0, -0.195, 0);\n        box1.scale.set(2.328, 7.905, 4.651);\n        this.add(box1);\n        const box2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box2.position.set(-5.607, -0.754, -0.758);\n        box2.rotation.set(0, 0.994, 0);\n        box2.scale.set(1.970, 1.534, 3.955);\n        this.add(box2);\n        const box3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box3.position.set(6.167, 0.857, 7.803);\n        box3.rotation.set(0, 0.561, 0);\n        box3.scale.set(3.927, 6.285, 3.687);\n        this.add(box3);\n        const box4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box4.position.set(-2.017, 0.018, 6.124);\n        box4.rotation.set(0, 0.333, 0);\n        box4.scale.set(2.002, 4.566, 2.064);\n        this.add(box4);\n        const box5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box5.position.set(2.291, -0.756, -2.621);\n        box5.rotation.set(0, -0.286, 0);\n        box5.scale.set(1.546, 1.552, 1.496);\n        this.add(box5);\n        const box6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box6.position.set(-2.193, -0.369, -5.547);\n        box6.rotation.set(0, 0.516, 0);\n        box6.scale.set(3.875, 3.487, 2.986);\n        this.add(box6);\n        // -x right\n        const light1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(50));\n        light1.position.set(-16.116, 14.37, 8.208);\n        light1.scale.set(0.1, 2.428, 2.739);\n        this.add(light1);\n        // -x left\n        const light2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(50));\n        light2.position.set(-16.109, 18.021, -8.207);\n        light2.scale.set(0.1, 2.425, 2.751);\n        this.add(light2);\n        // +x\n        const light3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(17));\n        light3.position.set(14.904, 12.198, -1.832);\n        light3.scale.set(0.15, 4.265, 6.331);\n        this.add(light3);\n        // +z\n        const light4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(43));\n        light4.position.set(-0.462, 8.89, 14.520);\n        light4.scale.set(4.38, 5.441, 0.088);\n        this.add(light4);\n        // -z\n        const light5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(20));\n        light5.position.set(3.235, 11.486, -12.541);\n        light5.scale.set(2.5, 2.0, 0.1);\n        this.add(light5);\n        // +y\n        const light6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(100));\n        light6.position.set(0.0, 20.0, 0.0);\n        light6.scale.set(1.0, 0.1, 1.0);\n        this.add(light6);\n    }\n    createAreaLightMaterial(intensity) {\n        const material = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial();\n        material.color.setScalar(intensity);\n        return material;\n    }\n}\n//# sourceMappingURL=EnvironmentScene.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRW52aXJvbm1lbnRTY2VuZS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0g7QUFDakcsK0JBQStCLHdDQUFLO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw4Q0FBVztBQUN4QztBQUNBLGlDQUFpQyx1REFBb0IsR0FBRyxvQkFBb0IsMkNBQVEsRUFBRTtBQUN0RixnQ0FBZ0MsdURBQW9CLEdBQUcsY0FBYztBQUNyRSw4QkFBOEIsNkNBQVU7QUFDeEM7QUFDQTtBQUNBLHlCQUF5Qix1Q0FBSTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9EQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9FbnZpcm9ubWVudFNjZW5lLmpzP2NjZTciXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQmFja1NpZGUsIEJveEdlb21ldHJ5LCBNZXNoLCBNZXNoQmFzaWNNYXRlcmlhbCwgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsIFBvaW50TGlnaHQsIFNjZW5lIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW52aXJvbm1lbnRTY2VuZSBleHRlbmRzIFNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gLTMuNTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQm94R2VvbWV0cnkoKTtcbiAgICAgICAgZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCd1dicpO1xuICAgICAgICBjb25zdCByb29tTWF0ZXJpYWwgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBtZXRhbG5lc3M6IDAsIHNpZGU6IEJhY2tTaWRlIH0pO1xuICAgICAgICBjb25zdCBib3hNYXRlcmlhbCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7IG1ldGFsbmVzczogMCB9KTtcbiAgICAgICAgY29uc3QgbWFpbkxpZ2h0ID0gbmV3IFBvaW50TGlnaHQoMHhmZmZmZmYsIDUwMC4wLCAyOCwgMik7XG4gICAgICAgIG1haW5MaWdodC5wb3NpdGlvbi5zZXQoMC40MTgsIDE2LjE5OSwgMC4zMDApO1xuICAgICAgICB0aGlzLmFkZChtYWluTGlnaHQpO1xuICAgICAgICBjb25zdCByb29tID0gbmV3IE1lc2goZ2VvbWV0cnksIHJvb21NYXRlcmlhbCk7XG4gICAgICAgIHJvb20ucG9zaXRpb24uc2V0KC0wLjc1NywgMTMuMjE5LCAwLjcxNyk7XG4gICAgICAgIHJvb20uc2NhbGUuc2V0KDMxLjcxMywgMjguMzA1LCAyOC41OTEpO1xuICAgICAgICB0aGlzLmFkZChyb29tKTtcbiAgICAgICAgY29uc3QgYm94MSA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDEucG9zaXRpb24uc2V0KC0xMC45MDYsIDIuMDA5LCAxLjg0Nik7XG4gICAgICAgIGJveDEucm90YXRpb24uc2V0KDAsIC0wLjE5NSwgMCk7XG4gICAgICAgIGJveDEuc2NhbGUuc2V0KDIuMzI4LCA3LjkwNSwgNC42NTEpO1xuICAgICAgICB0aGlzLmFkZChib3gxKTtcbiAgICAgICAgY29uc3QgYm94MiA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDIucG9zaXRpb24uc2V0KC01LjYwNywgLTAuNzU0LCAtMC43NTgpO1xuICAgICAgICBib3gyLnJvdGF0aW9uLnNldCgwLCAwLjk5NCwgMCk7XG4gICAgICAgIGJveDIuc2NhbGUuc2V0KDEuOTcwLCAxLjUzNCwgMy45NTUpO1xuICAgICAgICB0aGlzLmFkZChib3gyKTtcbiAgICAgICAgY29uc3QgYm94MyA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDMucG9zaXRpb24uc2V0KDYuMTY3LCAwLjg1NywgNy44MDMpO1xuICAgICAgICBib3gzLnJvdGF0aW9uLnNldCgwLCAwLjU2MSwgMCk7XG4gICAgICAgIGJveDMuc2NhbGUuc2V0KDMuOTI3LCA2LjI4NSwgMy42ODcpO1xuICAgICAgICB0aGlzLmFkZChib3gzKTtcbiAgICAgICAgY29uc3QgYm94NCA9IG5ldyBNZXNoKGdlb21ldHJ5LCBib3hNYXRlcmlhbCk7XG4gICAgICAgIGJveDQucG9zaXRpb24uc2V0KC0yLjAxNywgMC4wMTgsIDYuMTI0KTtcbiAgICAgICAgYm94NC5yb3RhdGlvbi5zZXQoMCwgMC4zMzMsIDApO1xuICAgICAgICBib3g0LnNjYWxlLnNldCgyLjAwMiwgNC41NjYsIDIuMDY0KTtcbiAgICAgICAgdGhpcy5hZGQoYm94NCk7XG4gICAgICAgIGNvbnN0IGJveDUgPSBuZXcgTWVzaChnZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xuICAgICAgICBib3g1LnBvc2l0aW9uLnNldCgyLjI5MSwgLTAuNzU2LCAtMi42MjEpO1xuICAgICAgICBib3g1LnJvdGF0aW9uLnNldCgwLCAtMC4yODYsIDApO1xuICAgICAgICBib3g1LnNjYWxlLnNldCgxLjU0NiwgMS41NTIsIDEuNDk2KTtcbiAgICAgICAgdGhpcy5hZGQoYm94NSk7XG4gICAgICAgIGNvbnN0IGJveDYgPSBuZXcgTWVzaChnZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xuICAgICAgICBib3g2LnBvc2l0aW9uLnNldCgtMi4xOTMsIC0wLjM2OSwgLTUuNTQ3KTtcbiAgICAgICAgYm94Ni5yb3RhdGlvbi5zZXQoMCwgMC41MTYsIDApO1xuICAgICAgICBib3g2LnNjYWxlLnNldCgzLjg3NSwgMy40ODcsIDIuOTg2KTtcbiAgICAgICAgdGhpcy5hZGQoYm94Nik7XG4gICAgICAgIC8vIC14IHJpZ2h0XG4gICAgICAgIGNvbnN0IGxpZ2h0MSA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDUwKSk7XG4gICAgICAgIGxpZ2h0MS5wb3NpdGlvbi5zZXQoLTE2LjExNiwgMTQuMzcsIDguMjA4KTtcbiAgICAgICAgbGlnaHQxLnNjYWxlLnNldCgwLjEsIDIuNDI4LCAyLjczOSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0MSk7XG4gICAgICAgIC8vIC14IGxlZnRcbiAgICAgICAgY29uc3QgbGlnaHQyID0gbmV3IE1lc2goZ2VvbWV0cnksIHRoaXMuY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoNTApKTtcbiAgICAgICAgbGlnaHQyLnBvc2l0aW9uLnNldCgtMTYuMTA5LCAxOC4wMjEsIC04LjIwNyk7XG4gICAgICAgIGxpZ2h0Mi5zY2FsZS5zZXQoMC4xLCAyLjQyNSwgMi43NTEpO1xuICAgICAgICB0aGlzLmFkZChsaWdodDIpO1xuICAgICAgICAvLyAreFxuICAgICAgICBjb25zdCBsaWdodDMgPSBuZXcgTWVzaChnZW9tZXRyeSwgdGhpcy5jcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCgxNykpO1xuICAgICAgICBsaWdodDMucG9zaXRpb24uc2V0KDE0LjkwNCwgMTIuMTk4LCAtMS44MzIpO1xuICAgICAgICBsaWdodDMuc2NhbGUuc2V0KDAuMTUsIDQuMjY1LCA2LjMzMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0Myk7XG4gICAgICAgIC8vICt6XG4gICAgICAgIGNvbnN0IGxpZ2h0NCA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDQzKSk7XG4gICAgICAgIGxpZ2h0NC5wb3NpdGlvbi5zZXQoLTAuNDYyLCA4Ljg5LCAxNC41MjApO1xuICAgICAgICBsaWdodDQuc2NhbGUuc2V0KDQuMzgsIDUuNDQxLCAwLjA4OCk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0NCk7XG4gICAgICAgIC8vIC16XG4gICAgICAgIGNvbnN0IGxpZ2h0NSA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDIwKSk7XG4gICAgICAgIGxpZ2h0NS5wb3NpdGlvbi5zZXQoMy4yMzUsIDExLjQ4NiwgLTEyLjU0MSk7XG4gICAgICAgIGxpZ2h0NS5zY2FsZS5zZXQoMi41LCAyLjAsIDAuMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0NSk7XG4gICAgICAgIC8vICt5XG4gICAgICAgIGNvbnN0IGxpZ2h0NiA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDEwMCkpO1xuICAgICAgICBsaWdodDYucG9zaXRpb24uc2V0KDAuMCwgMjAuMCwgMC4wKTtcbiAgICAgICAgbGlnaHQ2LnNjYWxlLnNldCgxLjAsIDAuMSwgMS4wKTtcbiAgICAgICAgdGhpcy5hZGQobGlnaHQ2KTtcbiAgICB9XG4gICAgY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoaW50ZW5zaXR5KSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKCk7XG4gICAgICAgIG1hdGVyaWFsLmNvbG9yLnNldFNjYWxhcihpbnRlbnNpdHkpO1xuICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW52aXJvbm1lbnRTY2VuZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EnvironmentSceneAlt)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass EnvironmentSceneAlt extends three__WEBPACK_IMPORTED_MODULE_0__.Scene {\n    constructor() {\n        super();\n        this.position.y = -3.5;\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_0__.BoxGeometry();\n        geometry.deleteAttribute('uv');\n        const roomMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({ metalness: 0, side: three__WEBPACK_IMPORTED_MODULE_0__.BackSide });\n        const boxMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshStandardMaterial({ metalness: 0 });\n        const mainLight = new three__WEBPACK_IMPORTED_MODULE_0__.PointLight(0xffffff, 400.0, 28, 2);\n        mainLight.position.set(0.5, 14.0, 0.5);\n        this.add(mainLight);\n        const room = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, roomMaterial);\n        room.position.set(0.0, 13.2, 0.0);\n        room.scale.set(31.5, 28.5, 31.5);\n        this.add(room);\n        const box1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box1.position.set(-10.906, -1.0, 1.846);\n        box1.rotation.set(0, -0.195, 0);\n        box1.scale.set(2.328, 7.905, 4.651);\n        this.add(box1);\n        const box2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box2.position.set(-5.607, -0.754, -0.758);\n        box2.rotation.set(0, 0.994, 0);\n        box2.scale.set(1.970, 1.534, 3.955);\n        this.add(box2);\n        const box3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box3.position.set(6.167, -0.16, 7.803);\n        box3.rotation.set(0, 0.561, 0);\n        box3.scale.set(3.927, 6.285, 3.687);\n        this.add(box3);\n        const box4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box4.position.set(-2.017, 0.018, 6.124);\n        box4.rotation.set(0, 0.333, 0);\n        box4.scale.set(2.002, 4.566, 2.064);\n        this.add(box4);\n        const box5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box5.position.set(2.291, -0.756, -2.621);\n        box5.rotation.set(0, -0.286, 0);\n        box5.scale.set(1.546, 1.552, 1.496);\n        this.add(box5);\n        const box6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, boxMaterial);\n        box6.position.set(-2.193, -0.369, -5.547);\n        box6.rotation.set(0, 0.516, 0);\n        box6.scale.set(3.875, 3.487, 2.986);\n        this.add(box6);\n        // -x_left\n        const light1 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light1.position.set(-14.0, 10.0, 8.0);\n        light1.scale.set(0.1, 2.5, 2.5);\n        this.add(light1);\n        // -x_right\n        const light2 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light2.position.set(-14.0, 14.0, -4.0);\n        light2.scale.set(0.1, 2.5, 2.5);\n        this.add(light2);\n        // +x only on light\n        const light3 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(23));\n        light3.position.set(14.0, 12.0, 0.0);\n        light3.scale.set(0.1, 5.0, 5.0);\n        this.add(light3);\n        // +z\n        const light4 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(16));\n        light4.position.set(0.0, 9.0, 14.0);\n        light4.scale.set(5.0, 5.0, 0.1);\n        this.add(light4);\n        // -z right\n        const light5 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light5.position.set(7.0, 8.0, -14.0);\n        light5.scale.set(2.5, 2.5, 0.1);\n        this.add(light5);\n        // -z left\n        const light6 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(80));\n        light6.position.set(-7.0, 16.0, -14.0);\n        light6.scale.set(2.5, 2.5, 0.1);\n        this.add(light6);\n        // +y\n        const light7 = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(geometry, this.createAreaLightMaterial(1));\n        light7.position.set(0.0, 20.0, 0.0);\n        light7.scale.set(0.1, 0.1, 0.1);\n        this.add(light7);\n    }\n    createAreaLightMaterial(intensity) {\n        const material = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial();\n        material.color.setScalar(intensity);\n        return material;\n    }\n}\n//# sourceMappingURL=EnvironmentSceneAlt.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvRW52aXJvbm1lbnRTY2VuZUFsdC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0g7QUFDakcsa0NBQWtDLHdDQUFLO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw4Q0FBVztBQUN4QztBQUNBLGlDQUFpQyx1REFBb0IsR0FBRyxvQkFBb0IsMkNBQVEsRUFBRTtBQUN0RixnQ0FBZ0MsdURBQW9CLEdBQUcsY0FBYztBQUNyRSw4QkFBOEIsNkNBQVU7QUFDeEM7QUFDQTtBQUNBLHlCQUF5Qix1Q0FBSTtBQUM3QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1Q0FBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9EQUFpQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9FbnZpcm9ubWVudFNjZW5lQWx0LmpzPzQ4YTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQmFja1NpZGUsIEJveEdlb21ldHJ5LCBNZXNoLCBNZXNoQmFzaWNNYXRlcmlhbCwgTWVzaFN0YW5kYXJkTWF0ZXJpYWwsIFBvaW50TGlnaHQsIFNjZW5lIH0gZnJvbSAndGhyZWUnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW52aXJvbm1lbnRTY2VuZUFsdCBleHRlbmRzIFNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gLTMuNTtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSBuZXcgQm94R2VvbWV0cnkoKTtcbiAgICAgICAgZ2VvbWV0cnkuZGVsZXRlQXR0cmlidXRlKCd1dicpO1xuICAgICAgICBjb25zdCByb29tTWF0ZXJpYWwgPSBuZXcgTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBtZXRhbG5lc3M6IDAsIHNpZGU6IEJhY2tTaWRlIH0pO1xuICAgICAgICBjb25zdCBib3hNYXRlcmlhbCA9IG5ldyBNZXNoU3RhbmRhcmRNYXRlcmlhbCh7IG1ldGFsbmVzczogMCB9KTtcbiAgICAgICAgY29uc3QgbWFpbkxpZ2h0ID0gbmV3IFBvaW50TGlnaHQoMHhmZmZmZmYsIDQwMC4wLCAyOCwgMik7XG4gICAgICAgIG1haW5MaWdodC5wb3NpdGlvbi5zZXQoMC41LCAxNC4wLCAwLjUpO1xuICAgICAgICB0aGlzLmFkZChtYWluTGlnaHQpO1xuICAgICAgICBjb25zdCByb29tID0gbmV3IE1lc2goZ2VvbWV0cnksIHJvb21NYXRlcmlhbCk7XG4gICAgICAgIHJvb20ucG9zaXRpb24uc2V0KDAuMCwgMTMuMiwgMC4wKTtcbiAgICAgICAgcm9vbS5zY2FsZS5zZXQoMzEuNSwgMjguNSwgMzEuNSk7XG4gICAgICAgIHRoaXMuYWRkKHJvb20pO1xuICAgICAgICBjb25zdCBib3gxID0gbmV3IE1lc2goZ2VvbWV0cnksIGJveE1hdGVyaWFsKTtcbiAgICAgICAgYm94MS5wb3NpdGlvbi5zZXQoLTEwLjkwNiwgLTEuMCwgMS44NDYpO1xuICAgICAgICBib3gxLnJvdGF0aW9uLnNldCgwLCAtMC4xOTUsIDApO1xuICAgICAgICBib3gxLnNjYWxlLnNldCgyLjMyOCwgNy45MDUsIDQuNjUxKTtcbiAgICAgICAgdGhpcy5hZGQoYm94MSk7XG4gICAgICAgIGNvbnN0IGJveDIgPSBuZXcgTWVzaChnZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xuICAgICAgICBib3gyLnBvc2l0aW9uLnNldCgtNS42MDcsIC0wLjc1NCwgLTAuNzU4KTtcbiAgICAgICAgYm94Mi5yb3RhdGlvbi5zZXQoMCwgMC45OTQsIDApO1xuICAgICAgICBib3gyLnNjYWxlLnNldCgxLjk3MCwgMS41MzQsIDMuOTU1KTtcbiAgICAgICAgdGhpcy5hZGQoYm94Mik7XG4gICAgICAgIGNvbnN0IGJveDMgPSBuZXcgTWVzaChnZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xuICAgICAgICBib3gzLnBvc2l0aW9uLnNldCg2LjE2NywgLTAuMTYsIDcuODAzKTtcbiAgICAgICAgYm94My5yb3RhdGlvbi5zZXQoMCwgMC41NjEsIDApO1xuICAgICAgICBib3gzLnNjYWxlLnNldCgzLjkyNywgNi4yODUsIDMuNjg3KTtcbiAgICAgICAgdGhpcy5hZGQoYm94Myk7XG4gICAgICAgIGNvbnN0IGJveDQgPSBuZXcgTWVzaChnZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xuICAgICAgICBib3g0LnBvc2l0aW9uLnNldCgtMi4wMTcsIDAuMDE4LCA2LjEyNCk7XG4gICAgICAgIGJveDQucm90YXRpb24uc2V0KDAsIDAuMzMzLCAwKTtcbiAgICAgICAgYm94NC5zY2FsZS5zZXQoMi4wMDIsIDQuNTY2LCAyLjA2NCk7XG4gICAgICAgIHRoaXMuYWRkKGJveDQpO1xuICAgICAgICBjb25zdCBib3g1ID0gbmV3IE1lc2goZ2VvbWV0cnksIGJveE1hdGVyaWFsKTtcbiAgICAgICAgYm94NS5wb3NpdGlvbi5zZXQoMi4yOTEsIC0wLjc1NiwgLTIuNjIxKTtcbiAgICAgICAgYm94NS5yb3RhdGlvbi5zZXQoMCwgLTAuMjg2LCAwKTtcbiAgICAgICAgYm94NS5zY2FsZS5zZXQoMS41NDYsIDEuNTUyLCAxLjQ5Nik7XG4gICAgICAgIHRoaXMuYWRkKGJveDUpO1xuICAgICAgICBjb25zdCBib3g2ID0gbmV3IE1lc2goZ2VvbWV0cnksIGJveE1hdGVyaWFsKTtcbiAgICAgICAgYm94Ni5wb3NpdGlvbi5zZXQoLTIuMTkzLCAtMC4zNjksIC01LjU0Nyk7XG4gICAgICAgIGJveDYucm90YXRpb24uc2V0KDAsIDAuNTE2LCAwKTtcbiAgICAgICAgYm94Ni5zY2FsZS5zZXQoMy44NzUsIDMuNDg3LCAyLjk4Nik7XG4gICAgICAgIHRoaXMuYWRkKGJveDYpO1xuICAgICAgICAvLyAteF9sZWZ0XG4gICAgICAgIGNvbnN0IGxpZ2h0MSA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDgwKSk7XG4gICAgICAgIGxpZ2h0MS5wb3NpdGlvbi5zZXQoLTE0LjAsIDEwLjAsIDguMCk7XG4gICAgICAgIGxpZ2h0MS5zY2FsZS5zZXQoMC4xLCAyLjUsIDIuNSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0MSk7XG4gICAgICAgIC8vIC14X3JpZ2h0XG4gICAgICAgIGNvbnN0IGxpZ2h0MiA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDgwKSk7XG4gICAgICAgIGxpZ2h0Mi5wb3NpdGlvbi5zZXQoLTE0LjAsIDE0LjAsIC00LjApO1xuICAgICAgICBsaWdodDIuc2NhbGUuc2V0KDAuMSwgMi41LCAyLjUpO1xuICAgICAgICB0aGlzLmFkZChsaWdodDIpO1xuICAgICAgICAvLyAreCBvbmx5IG9uIGxpZ2h0XG4gICAgICAgIGNvbnN0IGxpZ2h0MyA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDIzKSk7XG4gICAgICAgIGxpZ2h0My5wb3NpdGlvbi5zZXQoMTQuMCwgMTIuMCwgMC4wKTtcbiAgICAgICAgbGlnaHQzLnNjYWxlLnNldCgwLjEsIDUuMCwgNS4wKTtcbiAgICAgICAgdGhpcy5hZGQobGlnaHQzKTtcbiAgICAgICAgLy8gK3pcbiAgICAgICAgY29uc3QgbGlnaHQ0ID0gbmV3IE1lc2goZ2VvbWV0cnksIHRoaXMuY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoMTYpKTtcbiAgICAgICAgbGlnaHQ0LnBvc2l0aW9uLnNldCgwLjAsIDkuMCwgMTQuMCk7XG4gICAgICAgIGxpZ2h0NC5zY2FsZS5zZXQoNS4wLCA1LjAsIDAuMSk7XG4gICAgICAgIHRoaXMuYWRkKGxpZ2h0NCk7XG4gICAgICAgIC8vIC16IHJpZ2h0XG4gICAgICAgIGNvbnN0IGxpZ2h0NSA9IG5ldyBNZXNoKGdlb21ldHJ5LCB0aGlzLmNyZWF0ZUFyZWFMaWdodE1hdGVyaWFsKDgwKSk7XG4gICAgICAgIGxpZ2h0NS5wb3NpdGlvbi5zZXQoNy4wLCA4LjAsIC0xNC4wKTtcbiAgICAgICAgbGlnaHQ1LnNjYWxlLnNldCgyLjUsIDIuNSwgMC4xKTtcbiAgICAgICAgdGhpcy5hZGQobGlnaHQ1KTtcbiAgICAgICAgLy8gLXogbGVmdFxuICAgICAgICBjb25zdCBsaWdodDYgPSBuZXcgTWVzaChnZW9tZXRyeSwgdGhpcy5jcmVhdGVBcmVhTGlnaHRNYXRlcmlhbCg4MCkpO1xuICAgICAgICBsaWdodDYucG9zaXRpb24uc2V0KC03LjAsIDE2LjAsIC0xNC4wKTtcbiAgICAgICAgbGlnaHQ2LnNjYWxlLnNldCgyLjUsIDIuNSwgMC4xKTtcbiAgICAgICAgdGhpcy5hZGQobGlnaHQ2KTtcbiAgICAgICAgLy8gK3lcbiAgICAgICAgY29uc3QgbGlnaHQ3ID0gbmV3IE1lc2goZ2VvbWV0cnksIHRoaXMuY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoMSkpO1xuICAgICAgICBsaWdodDcucG9zaXRpb24uc2V0KDAuMCwgMjAuMCwgMC4wKTtcbiAgICAgICAgbGlnaHQ3LnNjYWxlLnNldCgwLjEsIDAuMSwgMC4xKTtcbiAgICAgICAgdGhpcy5hZGQobGlnaHQ3KTtcbiAgICB9XG4gICAgY3JlYXRlQXJlYUxpZ2h0TWF0ZXJpYWwoaW50ZW5zaXR5KSB7XG4gICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IE1lc2hCYXNpY01hdGVyaWFsKCk7XG4gICAgICAgIG1hdGVyaWFsLmNvbG9yLnNldFNjYWxhcihpbnRlbnNpdHkpO1xuICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW52aXJvbm1lbnRTY2VuZUFsdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $clone: () => (/* binding */ $clone),\n/* harmony export */   $prepare: () => (/* binding */ $prepare),\n/* harmony export */   $prepared: () => (/* binding */ $prepared),\n/* harmony export */   $preparedGLTF: () => (/* binding */ $preparedGLTF),\n/* harmony export */   GLTFInstance: () => (/* binding */ GLTFInstance)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_utils_SkeletonUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/utils/SkeletonUtils.js */ \"(ssr)/./node_modules/three/examples/jsm/utils/SkeletonUtils.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nconst $prepared = Symbol('prepared');\nconst $prepare = Symbol('prepare');\nconst $preparedGLTF = Symbol('preparedGLTF');\nconst $clone = Symbol('clone');\n/**\n * Represents the preparation and enhancement of the output of a Three.js\n * GLTFLoader (a Three.js-flavor \"GLTF\"), to make it suitable for optimal,\n * correct viewing in a given presentation context and also make the cloning\n * process more explicit and legible.\n *\n * A GLTFInstance is API-compatible with a Three.js-flavor \"GLTF\", so it should\n * be considered to be interchangeable with the loaded result of a GLTFLoader.\n *\n * This basic implementation only implements trivial preparation and enhancement\n * of a GLTF. These operations are intended to be enhanced by inheriting\n * classes.\n */\nclass GLTFInstance {\n    constructor(preparedGLTF) {\n        this[$preparedGLTF] = preparedGLTF;\n    }\n    /**\n     * Prepares a given GLTF for presentation and future cloning. A GLTF that is\n     * prepared can safely have this method invoked on it multiple times; it will\n     * only be prepared once, including after being cloned.\n     */\n    static prepare(source) {\n        if (source.scene == null) {\n            throw new Error('Model does not have a scene');\n        }\n        if (source[$prepared]) {\n            return source;\n        }\n        const prepared = this[$prepare](source);\n        // NOTE: ES5 Symbol polyfill is not compatible with spread operator\n        // so {...prepared, [$prepared]: true} does not work\n        prepared[$prepared] = true;\n        return prepared;\n    }\n    /**\n     * Override in an inheriting class to apply specialty one-time preparations\n     * for a given input GLTF.\n     */\n    static [$prepare](source) {\n        // TODO(#195,#1003): We don't currently support multiple scenes, so we don't\n        // bother preparing extra scenes for now:\n        const { scene } = source;\n        const scenes = [scene];\n        return Object.assign(Object.assign({}, source), { scene, scenes });\n    }\n    get parser() {\n        return this[$preparedGLTF].parser;\n    }\n    get animations() {\n        return this[$preparedGLTF].animations;\n    }\n    get scene() {\n        return this[$preparedGLTF].scene;\n    }\n    get scenes() {\n        return this[$preparedGLTF].scenes;\n    }\n    get cameras() {\n        return this[$preparedGLTF].cameras;\n    }\n    get asset() {\n        return this[$preparedGLTF].asset;\n    }\n    get userData() {\n        return this[$preparedGLTF].userData;\n    }\n    /**\n     * Creates and returns a copy of this instance.\n     */\n    clone() {\n        const GLTFInstanceConstructor = this.constructor;\n        const clonedGLTF = this[$clone]();\n        return new GLTFInstanceConstructor(clonedGLTF);\n    }\n    /**\n     * Cleans up any retained memory that might not otherwise be released when\n     * this instance is done being used.\n     */\n    dispose() {\n        this.scenes.forEach((scene) => {\n            scene.traverse((object) => {\n                if (!object.isMesh) {\n                    return;\n                }\n                const mesh = object;\n                const materials = Array.isArray(mesh.material) ? mesh.material : [mesh.material];\n                materials.forEach(material => {\n                    // Explicitly dispose any textures assigned to this material\n                    for (const propertyName in material) {\n                        const texture = material[propertyName];\n                        if (texture instanceof three__WEBPACK_IMPORTED_MODULE_0__.Texture) {\n                            const image = texture.source.data;\n                            if (image.close != null) {\n                                image.close();\n                            }\n                            texture.dispose();\n                        }\n                    }\n                    material.dispose();\n                });\n                mesh.geometry.dispose();\n            });\n        });\n    }\n    /**\n     * Override in an inheriting class to implement specialized cloning strategies\n     */\n    [$clone]() {\n        const source = this[$preparedGLTF];\n        // TODO(#195,#1003): We don't currently support multiple scenes, so we don't\n        // bother cloning extra scenes for now:\n        const scene = three_examples_jsm_utils_SkeletonUtils_js__WEBPACK_IMPORTED_MODULE_1__.clone(this.scene);\n        cloneVariantMaterials(scene, this.scene);\n        const scenes = [scene];\n        const userData = source.userData ? Object.assign({}, source.userData) : {};\n        return Object.assign(Object.assign({}, source), { scene, scenes, userData });\n    }\n}\n// Variant materials and original material instances are stored under\n// object.userData.variantMaterials/originalMaterial.\n// Three.js Object3D.clone() doesn't clone Three.js objects under\n// .userData so this function is a workaround.\nconst cloneVariantMaterials = (dst, src) => {\n    traversePair(dst, src, (dst, src) => {\n        if (src.userData.variantMaterials !== undefined) {\n            dst.userData.variantMaterials = new Map(src.userData.variantMaterials);\n        }\n        if (src.userData.variantData !== undefined) {\n            dst.userData.variantData = src.userData.variantData;\n        }\n        if (src.userData.originalMaterial !== undefined) {\n            dst.userData.originalMaterial = src.userData.originalMaterial;\n        }\n    });\n};\nconst traversePair = (obj1, obj2, callback) => {\n    callback(obj1, obj2);\n    // Assume obj1 and obj2 have the same tree structure\n    for (let i = 0; i < obj1.children.length; i++) {\n        traversePair(obj1.children[i], obj2.children[i], callback);\n    }\n};\n//# sourceMappingURL=GLTFInstance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvR0xURkluc3RhbmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dDO0FBQzJDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0NBQWdDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQSw2Q0FBNkMsYUFBYSxlQUFlO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDBDQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNEVBQW1CO0FBQ3pDO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0QsNkNBQTZDLGFBQWEseUJBQXlCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMEJBQTBCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9HTFRGSW5zdGFuY2UuanM/MzU3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0ICogYXMgU2tlbGV0b25VdGlscyBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vdXRpbHMvU2tlbGV0b25VdGlscy5qcyc7XG5leHBvcnQgY29uc3QgJHByZXBhcmVkID0gU3ltYm9sKCdwcmVwYXJlZCcpO1xuZXhwb3J0IGNvbnN0ICRwcmVwYXJlID0gU3ltYm9sKCdwcmVwYXJlJyk7XG5leHBvcnQgY29uc3QgJHByZXBhcmVkR0xURiA9IFN5bWJvbCgncHJlcGFyZWRHTFRGJyk7XG5leHBvcnQgY29uc3QgJGNsb25lID0gU3ltYm9sKCdjbG9uZScpO1xuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBwcmVwYXJhdGlvbiBhbmQgZW5oYW5jZW1lbnQgb2YgdGhlIG91dHB1dCBvZiBhIFRocmVlLmpzXG4gKiBHTFRGTG9hZGVyIChhIFRocmVlLmpzLWZsYXZvciBcIkdMVEZcIiksIHRvIG1ha2UgaXQgc3VpdGFibGUgZm9yIG9wdGltYWwsXG4gKiBjb3JyZWN0IHZpZXdpbmcgaW4gYSBnaXZlbiBwcmVzZW50YXRpb24gY29udGV4dCBhbmQgYWxzbyBtYWtlIHRoZSBjbG9uaW5nXG4gKiBwcm9jZXNzIG1vcmUgZXhwbGljaXQgYW5kIGxlZ2libGUuXG4gKlxuICogQSBHTFRGSW5zdGFuY2UgaXMgQVBJLWNvbXBhdGlibGUgd2l0aCBhIFRocmVlLmpzLWZsYXZvciBcIkdMVEZcIiwgc28gaXQgc2hvdWxkXG4gKiBiZSBjb25zaWRlcmVkIHRvIGJlIGludGVyY2hhbmdlYWJsZSB3aXRoIHRoZSBsb2FkZWQgcmVzdWx0IG9mIGEgR0xURkxvYWRlci5cbiAqXG4gKiBUaGlzIGJhc2ljIGltcGxlbWVudGF0aW9uIG9ubHkgaW1wbGVtZW50cyB0cml2aWFsIHByZXBhcmF0aW9uIGFuZCBlbmhhbmNlbWVudFxuICogb2YgYSBHTFRGLiBUaGVzZSBvcGVyYXRpb25zIGFyZSBpbnRlbmRlZCB0byBiZSBlbmhhbmNlZCBieSBpbmhlcml0aW5nXG4gKiBjbGFzc2VzLlxuICovXG5leHBvcnQgY2xhc3MgR0xURkluc3RhbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihwcmVwYXJlZEdMVEYpIHtcbiAgICAgICAgdGhpc1skcHJlcGFyZWRHTFRGXSA9IHByZXBhcmVkR0xURjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYSBnaXZlbiBHTFRGIGZvciBwcmVzZW50YXRpb24gYW5kIGZ1dHVyZSBjbG9uaW5nLiBBIEdMVEYgdGhhdCBpc1xuICAgICAqIHByZXBhcmVkIGNhbiBzYWZlbHkgaGF2ZSB0aGlzIG1ldGhvZCBpbnZva2VkIG9uIGl0IG11bHRpcGxlIHRpbWVzOyBpdCB3aWxsXG4gICAgICogb25seSBiZSBwcmVwYXJlZCBvbmNlLCBpbmNsdWRpbmcgYWZ0ZXIgYmVpbmcgY2xvbmVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBwcmVwYXJlKHNvdXJjZSkge1xuICAgICAgICBpZiAoc291cmNlLnNjZW5lID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTW9kZWwgZG9lcyBub3QgaGF2ZSBhIHNjZW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvdXJjZVskcHJlcGFyZWRdKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXBhcmVkID0gdGhpc1skcHJlcGFyZV0oc291cmNlKTtcbiAgICAgICAgLy8gTk9URTogRVM1IFN5bWJvbCBwb2x5ZmlsbCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHNwcmVhZCBvcGVyYXRvclxuICAgICAgICAvLyBzbyB7Li4ucHJlcGFyZWQsIFskcHJlcGFyZWRdOiB0cnVlfSBkb2VzIG5vdCB3b3JrXG4gICAgICAgIHByZXBhcmVkWyRwcmVwYXJlZF0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gcHJlcGFyZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGluIGFuIGluaGVyaXRpbmcgY2xhc3MgdG8gYXBwbHkgc3BlY2lhbHR5IG9uZS10aW1lIHByZXBhcmF0aW9uc1xuICAgICAqIGZvciBhIGdpdmVuIGlucHV0IEdMVEYuXG4gICAgICovXG4gICAgc3RhdGljIFskcHJlcGFyZV0oc291cmNlKSB7XG4gICAgICAgIC8vIFRPRE8oIzE5NSwjMTAwMyk6IFdlIGRvbid0IGN1cnJlbnRseSBzdXBwb3J0IG11bHRpcGxlIHNjZW5lcywgc28gd2UgZG9uJ3RcbiAgICAgICAgLy8gYm90aGVyIHByZXBhcmluZyBleHRyYSBzY2VuZXMgZm9yIG5vdzpcbiAgICAgICAgY29uc3QgeyBzY2VuZSB9ID0gc291cmNlO1xuICAgICAgICBjb25zdCBzY2VuZXMgPSBbc2NlbmVdO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzb3VyY2UpLCB7IHNjZW5lLCBzY2VuZXMgfSk7XG4gICAgfVxuICAgIGdldCBwYXJzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLnBhcnNlcjtcbiAgICB9XG4gICAgZ2V0IGFuaW1hdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLmFuaW1hdGlvbnM7XG4gICAgfVxuICAgIGdldCBzY2VuZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHByZXBhcmVkR0xURl0uc2NlbmU7XG4gICAgfVxuICAgIGdldCBzY2VuZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLnNjZW5lcztcbiAgICB9XG4gICAgZ2V0IGNhbWVyYXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdLmNhbWVyYXM7XG4gICAgfVxuICAgIGdldCBhc3NldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHByZXBhcmVkR0xURl0uYXNzZXQ7XG4gICAgfVxuICAgIGdldCB1c2VyRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHByZXBhcmVkR0xURl0udXNlckRhdGE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBjb3B5IG9mIHRoaXMgaW5zdGFuY2UuXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IEdMVEZJbnN0YW5jZUNvbnN0cnVjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgY2xvbmVkR0xURiA9IHRoaXNbJGNsb25lXSgpO1xuICAgICAgICByZXR1cm4gbmV3IEdMVEZJbnN0YW5jZUNvbnN0cnVjdG9yKGNsb25lZEdMVEYpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbnMgdXAgYW55IHJldGFpbmVkIG1lbW9yeSB0aGF0IG1pZ2h0IG5vdCBvdGhlcndpc2UgYmUgcmVsZWFzZWQgd2hlblxuICAgICAqIHRoaXMgaW5zdGFuY2UgaXMgZG9uZSBiZWluZyB1c2VkLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuc2NlbmVzLmZvckVhY2goKHNjZW5lKSA9PiB7XG4gICAgICAgICAgICBzY2VuZS50cmF2ZXJzZSgob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFvYmplY3QuaXNNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaCA9IG9iamVjdDtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRlcmlhbHMgPSBBcnJheS5pc0FycmF5KG1lc2gubWF0ZXJpYWwpID8gbWVzaC5tYXRlcmlhbCA6IFttZXNoLm1hdGVyaWFsXTtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbHMuZm9yRWFjaChtYXRlcmlhbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4cGxpY2l0bHkgZGlzcG9zZSBhbnkgdGV4dHVyZXMgYXNzaWduZWQgdG8gdGhpcyBtYXRlcmlhbFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBtYXRlcmlhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IG1hdGVyaWFsW3Byb3BlcnR5TmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IHRleHR1cmUuc291cmNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLmNsb3NlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1lc2guZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBpbiBhbiBpbmhlcml0aW5nIGNsYXNzIHRvIGltcGxlbWVudCBzcGVjaWFsaXplZCBjbG9uaW5nIHN0cmF0ZWdpZXNcbiAgICAgKi9cbiAgICBbJGNsb25lXSgpIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gdGhpc1skcHJlcGFyZWRHTFRGXTtcbiAgICAgICAgLy8gVE9ETygjMTk1LCMxMDAzKTogV2UgZG9uJ3QgY3VycmVudGx5IHN1cHBvcnQgbXVsdGlwbGUgc2NlbmVzLCBzbyB3ZSBkb24ndFxuICAgICAgICAvLyBib3RoZXIgY2xvbmluZyBleHRyYSBzY2VuZXMgZm9yIG5vdzpcbiAgICAgICAgY29uc3Qgc2NlbmUgPSBTa2VsZXRvblV0aWxzLmNsb25lKHRoaXMuc2NlbmUpO1xuICAgICAgICBjbG9uZVZhcmlhbnRNYXRlcmlhbHMoc2NlbmUsIHRoaXMuc2NlbmUpO1xuICAgICAgICBjb25zdCBzY2VuZXMgPSBbc2NlbmVdO1xuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHNvdXJjZS51c2VyRGF0YSA/IE9iamVjdC5hc3NpZ24oe30sIHNvdXJjZS51c2VyRGF0YSkgOiB7fTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc291cmNlKSwgeyBzY2VuZSwgc2NlbmVzLCB1c2VyRGF0YSB9KTtcbiAgICB9XG59XG4vLyBWYXJpYW50IG1hdGVyaWFscyBhbmQgb3JpZ2luYWwgbWF0ZXJpYWwgaW5zdGFuY2VzIGFyZSBzdG9yZWQgdW5kZXJcbi8vIG9iamVjdC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzL29yaWdpbmFsTWF0ZXJpYWwuXG4vLyBUaHJlZS5qcyBPYmplY3QzRC5jbG9uZSgpIGRvZXNuJ3QgY2xvbmUgVGhyZWUuanMgb2JqZWN0cyB1bmRlclxuLy8gLnVzZXJEYXRhIHNvIHRoaXMgZnVuY3Rpb24gaXMgYSB3b3JrYXJvdW5kLlxuY29uc3QgY2xvbmVWYXJpYW50TWF0ZXJpYWxzID0gKGRzdCwgc3JjKSA9PiB7XG4gICAgdHJhdmVyc2VQYWlyKGRzdCwgc3JjLCAoZHN0LCBzcmMpID0+IHtcbiAgICAgICAgaWYgKHNyYy51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzdC51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzID0gbmV3IE1hcChzcmMudXNlckRhdGEudmFyaWFudE1hdGVyaWFscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYy51c2VyRGF0YS52YXJpYW50RGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkc3QudXNlckRhdGEudmFyaWFudERhdGEgPSBzcmMudXNlckRhdGEudmFyaWFudERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNyYy51c2VyRGF0YS5vcmlnaW5hbE1hdGVyaWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRzdC51c2VyRGF0YS5vcmlnaW5hbE1hdGVyaWFsID0gc3JjLnVzZXJEYXRhLm9yaWdpbmFsTWF0ZXJpYWw7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jb25zdCB0cmF2ZXJzZVBhaXIgPSAob2JqMSwgb2JqMiwgY2FsbGJhY2spID0+IHtcbiAgICBjYWxsYmFjayhvYmoxLCBvYmoyKTtcbiAgICAvLyBBc3N1bWUgb2JqMSBhbmQgb2JqMiBoYXZlIHRoZSBzYW1lIHRyZWUgc3RydWN0dXJlXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoxLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyYXZlcnNlUGFpcihvYmoxLmNoaWxkcmVuW2ldLCBvYmoyLmNoaWxkcmVuW2ldLCBjYWxsYmFjayk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdMVEZJbnN0YW5jZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Hotspot.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Hotspot: () => (/* binding */ Hotspot)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"(ssr)/./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n/**\n * The Hotspot object is a reference-counted slot. If decrement() returns true,\n * it should be removed from the tree so it can be garbage-collected.\n */\nclass Hotspot extends three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_2__.CSS2DObject {\n    constructor(config) {\n        super(document.createElement('div'));\n        this.normal = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0);\n        this.initialized = false;\n        this.referenceCount = 1;\n        this.pivot = document.createElement('div');\n        this.slot = document.createElement('slot');\n        this.element.classList.add('annotation-wrapper');\n        this.slot.name = config.name;\n        this.element.appendChild(this.pivot);\n        this.pivot.appendChild(this.slot);\n        this.updatePosition(config.position);\n        this.updateNormal(config.normal);\n    }\n    get facingCamera() {\n        return !this.element.classList.contains('hide');\n    }\n    /**\n     * Sets the hotspot to be in the highly visible foreground state.\n     */\n    show() {\n        if (!this.facingCamera || !this.initialized) {\n            this.updateVisibility(true);\n        }\n    }\n    /**\n     * Sets the hotspot to be in the diminished background state.\n     */\n    hide() {\n        if (this.facingCamera || !this.initialized) {\n            this.updateVisibility(false);\n        }\n    }\n    /**\n     * Call this when adding elements to the same slot to keep track.\n     */\n    increment() {\n        this.referenceCount++;\n    }\n    /**\n     * Call this when removing elements from the slot; returns true when the slot\n     * is unused.\n     */\n    decrement() {\n        if (this.referenceCount > 0) {\n            --this.referenceCount;\n        }\n        return this.referenceCount === 0;\n    }\n    /**\n     * Change the position of the hotspot to the input string, in the same format\n     * as the data-position attribute.\n     */\n    updatePosition(position) {\n        if (position == null)\n            return;\n        const positionNodes = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseExpressions)(position)[0].terms;\n        for (let i = 0; i < 3; ++i) {\n            this.position.setComponent(i, (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(positionNodes[i]).number);\n        }\n        this.updateMatrixWorld();\n    }\n    /**\n     * Change the hotspot's normal to the input string, in the same format as the\n     * data-normal attribute.\n     */\n    updateNormal(normal) {\n        if (normal == null)\n            return;\n        const normalNodes = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_1__.parseExpressions)(normal)[0].terms;\n        for (let i = 0; i < 3; ++i) {\n            this.normal.setComponent(i, (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnit)(normalNodes[i]).number);\n        }\n    }\n    orient(radians) {\n        this.pivot.style.transform = `rotate(${radians}rad)`;\n    }\n    updateVisibility(show) {\n        // NOTE: IE11 doesn't support a second arg for classList.toggle\n        if (show) {\n            this.element.classList.remove('hide');\n        }\n        else {\n            this.element.classList.add('hide');\n        }\n        // NOTE: ShadyDOM doesn't support slot.assignedElements, otherwise we could\n        // use that here.\n        this.slot.assignedNodes().forEach((node) => {\n            if (node.nodeType !== Node.ELEMENT_NODE) {\n                return;\n            }\n            const element = node;\n            // Visibility attribute can be configured per-node in the hotspot:\n            const visibilityAttribute = element.dataset.visibilityAttribute;\n            if (visibilityAttribute != null) {\n                const attributeName = `data-${visibilityAttribute}`;\n                // NOTE: IE11 doesn't support toggleAttribute\n                if (show) {\n                    element.setAttribute(attributeName, '');\n                }\n                else {\n                    element.removeAttribute(attributeName);\n                }\n            }\n            element.dispatchEvent(new CustomEvent('hotspot-visibility', {\n                detail: {\n                    visible: show,\n                },\n            }));\n        });\n        this.initialized = true;\n    }\n}\n//# sourceMappingURL=Hotspot.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvSG90c3BvdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZ0M7QUFDNEM7QUFDbkI7QUFDRDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNPLHNCQUFzQixzRkFBVztBQUN4QztBQUNBO0FBQ0EsMEJBQTBCLDBDQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvRUFBZ0I7QUFDOUMsd0JBQXdCLE9BQU87QUFDL0IsMENBQTBDLHFFQUFhO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9FQUFnQjtBQUM1Qyx3QkFBd0IsT0FBTztBQUMvQix3Q0FBd0MscUVBQWE7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsb0JBQW9CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvSG90c3BvdC5qcz9lMzY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBDU1MyRE9iamVjdCB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9yZW5kZXJlcnMvQ1NTMkRSZW5kZXJlci5qcyc7XG5pbXBvcnQgeyBub3JtYWxpemVVbml0IH0gZnJvbSAnLi4vc3R5bGVzL2NvbnZlcnNpb25zLmpzJztcbmltcG9ydCB7IHBhcnNlRXhwcmVzc2lvbnMgfSBmcm9tICcuLi9zdHlsZXMvcGFyc2Vycy5qcyc7XG4vKipcbiAqIFRoZSBIb3RzcG90IG9iamVjdCBpcyBhIHJlZmVyZW5jZS1jb3VudGVkIHNsb3QuIElmIGRlY3JlbWVudCgpIHJldHVybnMgdHJ1ZSxcbiAqIGl0IHNob3VsZCBiZSByZW1vdmVkIGZyb20gdGhlIHRyZWUgc28gaXQgY2FuIGJlIGdhcmJhZ2UtY29sbGVjdGVkLlxuICovXG5leHBvcnQgY2xhc3MgSG90c3BvdCBleHRlbmRzIENTUzJET2JqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgICAgICB0aGlzLm5vcm1hbCA9IG5ldyBWZWN0b3IzKDAsIDEsIDApO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlQ291bnQgPSAxO1xuICAgICAgICB0aGlzLnBpdm90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuc2xvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Nsb3QnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Fubm90YXRpb24td3JhcHBlcicpO1xuICAgICAgICB0aGlzLnNsb3QubmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5waXZvdCk7XG4gICAgICAgIHRoaXMucGl2b3QuYXBwZW5kQ2hpbGQodGhpcy5zbG90KTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbihjb25maWcucG9zaXRpb24pO1xuICAgICAgICB0aGlzLnVwZGF0ZU5vcm1hbChjb25maWcubm9ybWFsKTtcbiAgICB9XG4gICAgZ2V0IGZhY2luZ0NhbWVyYSgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhvdHNwb3QgdG8gYmUgaW4gdGhlIGhpZ2hseSB2aXNpYmxlIGZvcmVncm91bmQgc3RhdGUuXG4gICAgICovXG4gICAgc2hvdygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZhY2luZ0NhbWVyYSB8fCAhdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhvdHNwb3QgdG8gYmUgaW4gdGhlIGRpbWluaXNoZWQgYmFja2dyb3VuZCBzdGF0ZS5cbiAgICAgKi9cbiAgICBoaWRlKCkge1xuICAgICAgICBpZiAodGhpcy5mYWNpbmdDYW1lcmEgfHwgIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIHdoZW4gYWRkaW5nIGVsZW1lbnRzIHRvIHRoZSBzYW1lIHNsb3QgdG8ga2VlcCB0cmFjay5cbiAgICAgKi9cbiAgICBpbmNyZW1lbnQoKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlQ291bnQrKztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIHdoZW4gcmVtb3ZpbmcgZWxlbWVudHMgZnJvbSB0aGUgc2xvdDsgcmV0dXJucyB0cnVlIHdoZW4gdGhlIHNsb3RcbiAgICAgKiBpcyB1bnVzZWQuXG4gICAgICovXG4gICAgZGVjcmVtZW50KCkge1xuICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2VDb3VudCA+IDApIHtcbiAgICAgICAgICAgIC0tdGhpcy5yZWZlcmVuY2VDb3VudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VDb3VudCA9PT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgaG90c3BvdCB0byB0aGUgaW5wdXQgc3RyaW5nLCBpbiB0aGUgc2FtZSBmb3JtYXRcbiAgICAgKiBhcyB0aGUgZGF0YS1wb3NpdGlvbiBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgdXBkYXRlUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uTm9kZXMgPSBwYXJzZUV4cHJlc3Npb25zKHBvc2l0aW9uKVswXS50ZXJtcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24uc2V0Q29tcG9uZW50KGksIG5vcm1hbGl6ZVVuaXQocG9zaXRpb25Ob2Rlc1tpXSkubnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZSB0aGUgaG90c3BvdCdzIG5vcm1hbCB0byB0aGUgaW5wdXQgc3RyaW5nLCBpbiB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlXG4gICAgICogZGF0YS1ub3JtYWwgYXR0cmlidXRlLlxuICAgICAqL1xuICAgIHVwZGF0ZU5vcm1hbChub3JtYWwpIHtcbiAgICAgICAgaWYgKG5vcm1hbCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBub3JtYWxOb2RlcyA9IHBhcnNlRXhwcmVzc2lvbnMobm9ybWFsKVswXS50ZXJtcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsLnNldENvbXBvbmVudChpLCBub3JtYWxpemVVbml0KG5vcm1hbE5vZGVzW2ldKS5udW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9yaWVudChyYWRpYW5zKSB7XG4gICAgICAgIHRoaXMucGl2b3Quc3R5bGUudHJhbnNmb3JtID0gYHJvdGF0ZSgke3JhZGlhbnN9cmFkKWA7XG4gICAgfVxuICAgIHVwZGF0ZVZpc2liaWxpdHkoc2hvdykge1xuICAgICAgICAvLyBOT1RFOiBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBhIHNlY29uZCBhcmcgZm9yIGNsYXNzTGlzdC50b2dnbGVcbiAgICAgICAgaWYgKHNob3cpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5PVEU6IFNoYWR5RE9NIGRvZXNuJ3Qgc3VwcG9ydCBzbG90LmFzc2lnbmVkRWxlbWVudHMsIG90aGVyd2lzZSB3ZSBjb3VsZFxuICAgICAgICAvLyB1c2UgdGhhdCBoZXJlLlxuICAgICAgICB0aGlzLnNsb3QuYXNzaWduZWROb2RlcygpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBub2RlO1xuICAgICAgICAgICAgLy8gVmlzaWJpbGl0eSBhdHRyaWJ1dGUgY2FuIGJlIGNvbmZpZ3VyZWQgcGVyLW5vZGUgaW4gdGhlIGhvdHNwb3Q6XG4gICAgICAgICAgICBjb25zdCB2aXNpYmlsaXR5QXR0cmlidXRlID0gZWxlbWVudC5kYXRhc2V0LnZpc2liaWxpdHlBdHRyaWJ1dGU7XG4gICAgICAgICAgICBpZiAodmlzaWJpbGl0eUF0dHJpYnV0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTmFtZSA9IGBkYXRhLSR7dmlzaWJpbGl0eUF0dHJpYnV0ZX1gO1xuICAgICAgICAgICAgICAgIC8vIE5PVEU6IElFMTEgZG9lc24ndCBzdXBwb3J0IHRvZ2dsZUF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIGlmIChzaG93KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2hvdHNwb3QtdmlzaWJpbGl0eScsIHtcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogc2hvdyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SG90c3BvdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelScene.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/ModelScene.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IlluminationRole: () => (/* binding */ IlluminationRole),\n/* harmony export */   ModelScene: () => (/* binding */ ModelScene)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"(ssr)/./node_modules/three/examples/jsm/renderers/CSS2DRenderer.js\");\n/* harmony import */ var _features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/scene-graph.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/scene-graph.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../styles/conversions.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/conversions.js\");\n/* harmony import */ var _styles_parsers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../styles/parsers.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/styles/parsers.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* harmony import */ var _Hotspot_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Hotspot.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Hotspot.js\");\n/* harmony import */ var _ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ModelUtils.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js\");\n/* harmony import */ var _Shadow_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Shadow.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Shadow.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n\n\n\n\n\n\n\nconst MIN_SHADOW_RATIO = 100;\nconst IlluminationRole = {\n    Primary: 'primary',\n    Secondary: 'secondary'\n};\nconst view = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst target = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst normalWorld = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst raycaster = new three__WEBPACK_IMPORTED_MODULE_9__.Raycaster();\nconst vector3 = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\nconst ndc = new three__WEBPACK_IMPORTED_MODULE_9__.Vector2();\n/**\n * A THREE.Scene object that takes a Model and CanvasHTMLElement and\n * constructs a framed scene based off of the canvas dimensions.\n * Provides lights and cameras to be used in a renderer.\n */\nclass ModelScene extends three__WEBPACK_IMPORTED_MODULE_9__.Scene {\n    constructor({ canvas, element, width, height }) {\n        super();\n        this.annotationRenderer = new three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_10__.CSS2DRenderer();\n        this.schemaElement = document.createElement('script');\n        this.width = 1;\n        this.height = 1;\n        this.aspect = 1;\n        this.scaleStep = 0;\n        this.renderCount = 0;\n        this.externalRenderer = null;\n        // These default camera values are never used, as they are reset once the\n        // model is loaded and framing is computed.\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_9__.PerspectiveCamera(45, 1, 0.1, 100);\n        this.xrCamera = null;\n        this.url = null;\n        this.target = new three__WEBPACK_IMPORTED_MODULE_9__.Object3D();\n        this.animationNames = [];\n        this.boundingBox = new three__WEBPACK_IMPORTED_MODULE_9__.Box3();\n        this.boundingSphere = new three__WEBPACK_IMPORTED_MODULE_9__.Sphere();\n        this.size = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\n        this.idealAspect = 0;\n        this.framedFoVDeg = 0;\n        this.shadow = null;\n        this.shadowIntensity = 0;\n        this.shadowSoftness = 1;\n        this.bakedShadows = new Set();\n        this.exposure = 1;\n        this.canScale = true;\n        this.isDirty = false;\n        this.goalTarget = new three__WEBPACK_IMPORTED_MODULE_9__.Vector3();\n        this.targetDamperX = new _Damper_js__WEBPACK_IMPORTED_MODULE_5__.Damper();\n        this.targetDamperY = new _Damper_js__WEBPACK_IMPORTED_MODULE_5__.Damper();\n        this.targetDamperZ = new _Damper_js__WEBPACK_IMPORTED_MODULE_5__.Damper();\n        this._currentGLTF = null;\n        this._model = null;\n        this.cancelPendingSourceChange = null;\n        this.animationsByName = new Map();\n        this.currentAnimationAction = null;\n        this.name = 'ModelScene';\n        this.element = element;\n        this.canvas = canvas;\n        // These default camera values are never used, as they are reset once the\n        // model is loaded and framing is computed.\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_9__.PerspectiveCamera(45, 1, 0.1, 100);\n        this.camera.name = 'MainCamera';\n        this.add(this.target);\n        this.setSize(width, height);\n        this.target.name = 'Target';\n        this.mixer = new three__WEBPACK_IMPORTED_MODULE_9__.AnimationMixer(this.target);\n        const { domElement } = this.annotationRenderer;\n        const { style } = domElement;\n        style.display = 'none';\n        style.pointerEvents = 'none';\n        style.position = 'absolute';\n        style.top = '0';\n        this.element.shadowRoot.querySelector('.default').appendChild(domElement);\n        this.schemaElement.setAttribute('type', 'application/ld+json');\n    }\n    /**\n     * Function to create the context lazily, as when there is only one\n     * <model-viewer> element, the renderer's 3D context can be displayed\n     * directly. This extra context is necessary to copy the renderings into when\n     * there are more than one.\n     */\n    get context() {\n        return this.canvas.getContext('2d');\n    }\n    getCamera() {\n        return this.xrCamera != null ? this.xrCamera : this.camera;\n    }\n    queueRender() {\n        this.isDirty = true;\n    }\n    shouldRender() {\n        return this.isDirty;\n    }\n    hasRendered() {\n        this.isDirty = false;\n    }\n    forceRescale() {\n        this.scaleStep = -1;\n        this.queueRender();\n    }\n    /**\n     * Pass in a THREE.Object3D to be controlled\n     * by this model.\n     */\n    async setObject(model) {\n        this.reset();\n        this._model = model;\n        this.target.add(model);\n        await this.setupScene();\n    }\n    /**\n     * Sets the model via URL.\n     */\n    async setSource(url, progressCallback = () => { }) {\n        if (!url || url === this.url) {\n            progressCallback(1);\n            return;\n        }\n        this.reset();\n        this.url = url;\n        if (this.externalRenderer != null) {\n            const framingInfo = await this.externalRenderer.load(progressCallback);\n            this.boundingSphere.radius = framingInfo.framedRadius;\n            this.idealAspect = framingInfo.fieldOfViewAspect;\n            return;\n        }\n        // If we have pending work due to a previous source change in progress,\n        // cancel it so that we do not incur a race condition:\n        if (this.cancelPendingSourceChange != null) {\n            this.cancelPendingSourceChange();\n            this.cancelPendingSourceChange = null;\n        }\n        let gltf;\n        try {\n            gltf = await new Promise(async (resolve, reject) => {\n                this.cancelPendingSourceChange = () => reject();\n                try {\n                    const result = await this.element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].loader.load(url, this.element, progressCallback);\n                    resolve(result);\n                }\n                catch (error) {\n                    reject(error);\n                }\n            });\n        }\n        catch (error) {\n            if (error == null) {\n                // Loading was cancelled, so silently return\n                return;\n            }\n            throw error;\n        }\n        this.cancelPendingSourceChange = null;\n        this.reset();\n        this.url = url;\n        this._currentGLTF = gltf;\n        if (gltf != null) {\n            this._model = gltf.scene;\n            this.target.add(gltf.scene);\n        }\n        const { animations } = gltf;\n        const animationsByName = new Map();\n        const animationNames = [];\n        for (const animation of animations) {\n            animationsByName.set(animation.name, animation);\n            animationNames.push(animation.name);\n        }\n        this.animations = animations;\n        this.animationsByName = animationsByName;\n        this.animationNames = animationNames;\n        await this.setupScene();\n    }\n    async setupScene() {\n        this.applyTransform();\n        this.updateBoundingBox();\n        await this.updateFraming();\n        this.updateShadow();\n        this.setShadowIntensity(this.shadowIntensity);\n    }\n    reset() {\n        this.url = null;\n        this.queueRender();\n        if (this.shadow != null) {\n            this.shadow.setIntensity(0);\n        }\n        this.bakedShadows.clear();\n        const { _model } = this;\n        if (_model != null) {\n            _model.removeFromParent();\n            this._model = null;\n        }\n        const gltf = this._currentGLTF;\n        if (gltf != null) {\n            gltf.dispose();\n            this._currentGLTF = null;\n        }\n        if (this.currentAnimationAction != null) {\n            this.currentAnimationAction.stop();\n            this.currentAnimationAction = null;\n        }\n        this.mixer.stopAllAction();\n        this.mixer.uncacheRoot(this);\n    }\n    dispose() {\n        this.reset();\n        if (this.shadow != null) {\n            this.shadow.dispose();\n            this.shadow = null;\n        }\n        this.element[_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__.$currentGLTF] = null;\n        this.element[_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__.$originalGltfJson] = null;\n        this.element[_features_scene_graph_js__WEBPACK_IMPORTED_MODULE_0__.$model] = null;\n    }\n    get currentGLTF() {\n        return this._currentGLTF;\n    }\n    /**\n     * Updates the ModelScene for a new container size in CSS pixels.\n     */\n    setSize(width, height) {\n        if (this.width === width && this.height === height) {\n            return;\n        }\n        this.width = Math.max(width, 1);\n        this.height = Math.max(height, 1);\n        this.annotationRenderer.setSize(width, height);\n        this.aspect = this.width / this.height;\n        if (this.externalRenderer != null) {\n            const dpr = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_4__.resolveDpr)();\n            this.externalRenderer.resize(width * dpr, height * dpr);\n        }\n        this.queueRender();\n    }\n    markBakedShadow(mesh) {\n        mesh.userData.shadow = true;\n        this.bakedShadows.add(mesh);\n    }\n    unmarkBakedShadow(mesh) {\n        mesh.userData.shadow = false;\n        mesh.visible = true;\n        this.bakedShadows.delete(mesh);\n        this.boundingBox.expandByObject(mesh);\n    }\n    findBakedShadows(group) {\n        const boundingBox = new three__WEBPACK_IMPORTED_MODULE_9__.Box3();\n        group.traverse((object) => {\n            const mesh = object;\n            if (!mesh.isMesh) {\n                return;\n            }\n            const material = mesh.material;\n            if (!material.transparent) {\n                return;\n            }\n            boundingBox.setFromObject(mesh);\n            const size = boundingBox.getSize(vector3);\n            const minDim = Math.min(size.x, size.y, size.z);\n            const maxDim = Math.max(size.x, size.y, size.z);\n            if (maxDim < MIN_SHADOW_RATIO * minDim) {\n                return;\n            }\n            this.markBakedShadow(mesh);\n        });\n    }\n    checkBakedShadows() {\n        const { min, max } = this.boundingBox;\n        const shadowBox = new three__WEBPACK_IMPORTED_MODULE_9__.Box3();\n        this.boundingBox.getSize(this.size);\n        for (const mesh of this.bakedShadows) {\n            shadowBox.setFromObject(mesh);\n            if (shadowBox.min.y < min.y + this.size.y / MIN_SHADOW_RATIO &&\n                shadowBox.min.x <= min.x && shadowBox.max.x >= max.x &&\n                shadowBox.min.z <= min.z && shadowBox.max.z >= max.z) {\n                // floor shadow\n                continue;\n            }\n            if (shadowBox.min.z < min.z + this.size.z / MIN_SHADOW_RATIO &&\n                shadowBox.min.x <= min.x && shadowBox.max.x >= max.x &&\n                shadowBox.min.y <= min.y && shadowBox.max.y >= max.y) {\n                // wall shadow\n                continue;\n            }\n            this.unmarkBakedShadow(mesh);\n        }\n    }\n    applyTransform() {\n        const { model } = this;\n        if (model == null) {\n            return;\n        }\n        const orientation = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_3__.parseExpressions)(this.element.orientation)[0]\n            .terms;\n        const roll = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__.normalizeUnit)(orientation[0]).number;\n        const pitch = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__.normalizeUnit)(orientation[1]).number;\n        const yaw = (0,_styles_conversions_js__WEBPACK_IMPORTED_MODULE_2__.normalizeUnit)(orientation[2]).number;\n        model.quaternion.setFromEuler(new three__WEBPACK_IMPORTED_MODULE_9__.Euler(pitch, yaw, roll, 'YXZ'));\n        const scale = (0,_styles_parsers_js__WEBPACK_IMPORTED_MODULE_3__.parseExpressions)(this.element.scale)[0]\n            .terms;\n        model.scale.set(scale[0].number, scale[1].number, scale[2].number);\n    }\n    updateBoundingBox() {\n        const { model } = this;\n        if (model == null) {\n            return;\n        }\n        this.target.remove(model);\n        this.findBakedShadows(model);\n        const bound = (box, vertex) => {\n            return box.expandByPoint(vertex);\n        };\n        this.setBakedShadowVisibility(false);\n        this.boundingBox = (0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, bound, new three__WEBPACK_IMPORTED_MODULE_9__.Box3());\n        // If there's nothing but the baked shadow, then it's not a baked shadow.\n        if (this.boundingBox.isEmpty()) {\n            this.setBakedShadowVisibility(true);\n            this.bakedShadows.forEach((mesh) => this.unmarkBakedShadow(mesh));\n            this.boundingBox = (0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, bound, new three__WEBPACK_IMPORTED_MODULE_9__.Box3());\n        }\n        this.checkBakedShadows();\n        this.setBakedShadowVisibility();\n        this.boundingBox.getSize(this.size);\n        this.target.add(model);\n    }\n    /**\n     * Calculates the boundingSphere and idealAspect that allows the 3D\n     * object to be framed tightly in a 2D window of any aspect ratio without\n     * clipping at any camera orbit. The camera's center target point can be\n     * optionally specified. If no center is specified, it defaults to the center\n     * of the bounding box, which means asymmetric models will tend to be tight on\n     * one side instead of both. Proper choice of center can correct this.\n     */\n    async updateFraming() {\n        const { model } = this;\n        if (model == null) {\n            return;\n        }\n        this.target.remove(model);\n        this.setBakedShadowVisibility(false);\n        const { center } = this.boundingSphere;\n        this.element.requestUpdate('cameraTarget');\n        await this.element.updateComplete;\n        center.copy(this.getTarget());\n        const radiusSquared = (value, vertex) => {\n            return Math.max(value, center.distanceToSquared(vertex));\n        };\n        this.boundingSphere.radius =\n            Math.sqrt((0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, radiusSquared, 0));\n        const horizontalTanFov = (value, vertex) => {\n            vertex.sub(center);\n            const radiusXZ = Math.sqrt(vertex.x * vertex.x + vertex.z * vertex.z);\n            return Math.max(value, radiusXZ / (this.idealCameraDistance() - Math.abs(vertex.y)));\n        };\n        this.idealAspect = (0,_ModelUtils_js__WEBPACK_IMPORTED_MODULE_7__.reduceVertices)(model, horizontalTanFov, 0) /\n            Math.tan((this.framedFoVDeg / 2) * Math.PI / 180);\n        this.setBakedShadowVisibility();\n        this.target.add(model);\n    }\n    setBakedShadowVisibility(visible = this.shadowIntensity <= 0) {\n        for (const shadow of this.bakedShadows) {\n            shadow.visible = visible;\n        }\n    }\n    idealCameraDistance() {\n        const halfFovRad = (this.framedFoVDeg / 2) * Math.PI / 180;\n        return this.boundingSphere.radius / Math.sin(halfFovRad);\n    }\n    /**\n     * Set's the framedFieldOfView based on the aspect ratio of the window in\n     * order to keep the model fully visible at any camera orientation.\n     */\n    adjustedFoV(fovDeg) {\n        const vertical = Math.tan((fovDeg / 2) * Math.PI / 180) *\n            Math.max(1, this.idealAspect / this.aspect);\n        return 2 * Math.atan(vertical) * 180 / Math.PI;\n    }\n    getNDC(clientX, clientY) {\n        if (this.xrCamera != null) {\n            ndc.set(clientX / window.screen.width, clientY / window.screen.height);\n        }\n        else {\n            const rect = this.element.getBoundingClientRect();\n            ndc.set((clientX - rect.x) / this.width, (clientY - rect.y) / this.height);\n        }\n        ndc.multiplyScalar(2).subScalar(1);\n        ndc.y *= -1;\n        return ndc;\n    }\n    /**\n     * Returns the size of the corresponding canvas element.\n     */\n    getSize() {\n        return { width: this.width, height: this.height };\n    }\n    setEnvironmentAndSkybox(environment, skybox) {\n        if (this.element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$renderer].arRenderer.presentedScene === this) {\n            return;\n        }\n        this.environment = environment;\n        this.background = skybox;\n        this.queueRender();\n    }\n    /**\n     * Sets the point in model coordinates the model should orbit/pivot around.\n     */\n    setTarget(modelX, modelY, modelZ) {\n        this.goalTarget.set(-modelX, -modelY, -modelZ);\n    }\n    /**\n     * Set the decay time of, affects the speed of target transitions.\n     */\n    setTargetDamperDecayTime(decayMilliseconds) {\n        this.targetDamperX.setDecayTime(decayMilliseconds);\n        this.targetDamperY.setDecayTime(decayMilliseconds);\n        this.targetDamperZ.setDecayTime(decayMilliseconds);\n    }\n    /**\n     * Gets the point in model coordinates the model should orbit/pivot around.\n     */\n    getTarget() {\n        return this.goalTarget.clone().multiplyScalar(-1);\n    }\n    /**\n     * Shifts the model to the target point immediately instead of easing in.\n     */\n    jumpToGoal() {\n        this.updateTarget(_Damper_js__WEBPACK_IMPORTED_MODULE_5__.SETTLING_TIME);\n    }\n    /**\n     * This should be called every frame with the frame delta to cause the target\n     * to transition to its set point.\n     */\n    updateTarget(delta) {\n        const goal = this.goalTarget;\n        const target = this.target.position;\n        if (!goal.equals(target)) {\n            const normalization = this.boundingSphere.radius / 10;\n            let { x, y, z } = target;\n            x = this.targetDamperX.update(x, goal.x, delta, normalization);\n            y = this.targetDamperY.update(y, goal.y, delta, normalization);\n            z = this.targetDamperZ.update(z, goal.z, delta, normalization);\n            this.target.position.set(x, y, z);\n            this.target.updateMatrixWorld();\n            this.queueRender();\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    /**\n     * Yaw the +z (front) of the model toward the indicated world coordinates.\n     */\n    pointTowards(worldX, worldZ) {\n        const { x, z } = this.position;\n        this.yaw = Math.atan2(worldX - x, worldZ - z);\n    }\n    get model() {\n        return this._model;\n    }\n    /**\n     * Yaw is the scene's orientation about the y-axis, around the rotation\n     * center.\n     */\n    set yaw(radiansY) {\n        this.rotation.y = radiansY;\n        this.queueRender();\n    }\n    get yaw() {\n        return this.rotation.y;\n    }\n    set animationTime(value) {\n        this.mixer.setTime(value);\n        this.queueShadowRender();\n    }\n    get animationTime() {\n        if (this.currentAnimationAction != null) {\n            const loopCount = Math.max(this.currentAnimationAction._loopCount, 0);\n            if (this.currentAnimationAction.loop === three__WEBPACK_IMPORTED_MODULE_9__.LoopPingPong &&\n                (loopCount & 1) === 1) {\n                return this.duration - this.currentAnimationAction.time;\n            }\n            else {\n                return this.currentAnimationAction.time;\n            }\n        }\n        return 0;\n    }\n    set animationTimeScale(value) {\n        this.mixer.timeScale = value;\n    }\n    get animationTimeScale() {\n        return this.mixer.timeScale;\n    }\n    get duration() {\n        if (this.currentAnimationAction != null &&\n            this.currentAnimationAction.getClip()) {\n            return this.currentAnimationAction.getClip().duration;\n        }\n        return 0;\n    }\n    get hasActiveAnimation() {\n        return this.currentAnimationAction != null;\n    }\n    /**\n     * Plays an animation if there are any associated with the current model.\n     * Accepts an optional string name of an animation to play. If no name is\n     * provided, or if no animation is found by the given name, always falls back\n     * to playing the first animation.\n     */\n    playAnimation(name = null, crossfadeTime = 0, loopMode = three__WEBPACK_IMPORTED_MODULE_9__.LoopRepeat, repetitionCount = Infinity) {\n        if (this._currentGLTF == null) {\n            return;\n        }\n        const { animations } = this;\n        if (animations == null || animations.length === 0) {\n            console.warn(`Cannot play animation (model does not have any animations)`);\n            return;\n        }\n        let animationClip = null;\n        if (name != null) {\n            animationClip = this.animationsByName.get(name);\n            if (animationClip == null) {\n                const parsedAnimationIndex = parseInt(name);\n                if (!isNaN(parsedAnimationIndex) && parsedAnimationIndex >= 0 &&\n                    parsedAnimationIndex < animations.length) {\n                    animationClip = animations[parsedAnimationIndex];\n                }\n            }\n        }\n        if (animationClip == null) {\n            animationClip = animations[0];\n        }\n        try {\n            const { currentAnimationAction: lastAnimationAction } = this;\n            const action = this.mixer.clipAction(animationClip, this);\n            this.currentAnimationAction = action;\n            if (this.element.paused) {\n                this.mixer.stopAllAction();\n            }\n            else {\n                action.paused = false;\n                if (lastAnimationAction != null && action !== lastAnimationAction) {\n                    action.crossFadeFrom(lastAnimationAction, crossfadeTime, false);\n                }\n                else if (this.animationTimeScale > 0 &&\n                    this.animationTime == this.duration) {\n                    // This is a workaround for what I believe is a three.js bug.\n                    this.animationTime = 0;\n                }\n            }\n            action.setLoop(loopMode, repetitionCount);\n            action.enabled = true;\n            action.clampWhenFinished = true;\n            action.play();\n        }\n        catch (error) {\n            console.error(error);\n        }\n    }\n    stopAnimation() {\n        this.currentAnimationAction = null;\n        this.mixer.stopAllAction();\n    }\n    updateAnimation(step) {\n        this.mixer.update(step);\n        this.queueShadowRender();\n    }\n    subscribeMixerEvent(event, callback) {\n        this.mixer.addEventListener(event, callback);\n    }\n    /**\n     * Call if the object has been changed in such a way that the shadow's shape\n     * has changed (not a rotation about the Y axis).\n     */\n    updateShadow() {\n        const shadow = this.shadow;\n        if (shadow != null) {\n            const side = this.element.arPlacement === 'wall' ? 'back' : 'bottom';\n            shadow.setScene(this, this.shadowSoftness, side);\n            shadow.needsUpdate = true;\n        }\n    }\n    renderShadow(renderer) {\n        const shadow = this.shadow;\n        if (shadow != null && shadow.needsUpdate == true) {\n            shadow.render(renderer, this);\n            shadow.needsUpdate = false;\n        }\n    }\n    queueShadowRender() {\n        if (this.shadow != null) {\n            this.shadow.needsUpdate = true;\n        }\n    }\n    /**\n     * Sets the shadow's intensity, lazily creating the shadow as necessary.\n     */\n    setShadowIntensity(shadowIntensity) {\n        this.shadowIntensity = shadowIntensity;\n        if (this._currentGLTF == null) {\n            return;\n        }\n        this.setBakedShadowVisibility();\n        if (shadowIntensity <= 0 && this.shadow == null) {\n            return;\n        }\n        if (this.shadow == null) {\n            const side = this.element.arPlacement === 'wall' ? 'back' : 'bottom';\n            this.shadow = new _Shadow_js__WEBPACK_IMPORTED_MODULE_8__.Shadow(this, this.shadowSoftness, side);\n        }\n        this.shadow.setIntensity(shadowIntensity);\n    }\n    /**\n     * Sets the shadow's softness by mapping a [0, 1] softness parameter to the\n     * shadow's resolution. This involves reallocation, so it should not be\n     * changed frequently. Softer shadows are cheaper to render.\n     */\n    setShadowSoftness(softness) {\n        this.shadowSoftness = softness;\n        const shadow = this.shadow;\n        if (shadow != null) {\n            shadow.setSoftness(softness);\n        }\n    }\n    /**\n     * Shift the floor vertically from the bottom of the model's bounding box by\n     * offset (should generally be negative).\n     */\n    setShadowOffset(offset) {\n        const shadow = this.shadow;\n        if (shadow != null) {\n            shadow.setOffset(offset);\n        }\n    }\n    get raycaster() {\n        return raycaster;\n    }\n    /**\n     * This method returns the world position, model-space normal and texture\n     * coordinate of the point on the mesh corresponding to the input pixel\n     * coordinates given relative to the model-viewer element. If the mesh\n     * is not hit, the result is null.\n     */\n    positionAndNormalFromPoint(ndcPosition, object = this) {\n        this.raycaster.setFromCamera(ndcPosition, this.getCamera());\n        const hits = this.raycaster.intersectObject(object, true);\n        const hit = hits.find((hit) => hit.object.visible && !hit.object.userData.shadow);\n        if (hit == null || hit.face == null) {\n            return null;\n        }\n        if (hit.uv == null) {\n            return { position: hit.point, normal: hit.face.normal, uv: null };\n        }\n        hit.face.normal.applyNormalMatrix(new three__WEBPACK_IMPORTED_MODULE_9__.Matrix3().getNormalMatrix(hit.object.matrixWorld));\n        return { position: hit.point, normal: hit.face.normal, uv: hit.uv };\n    }\n    /**\n     * The following methods are for operating on the set of Hotspot objects\n     * attached to the scene. These come from DOM elements, provided to slots by\n     * the Annotation Mixin.\n     */\n    addHotspot(hotspot) {\n        this.target.add(hotspot);\n        // This happens automatically in render(), but we do it early so that\n        // the slots appear in the shadow DOM and the elements get attached,\n        // allowing us to dispatch events on them.\n        this.annotationRenderer.domElement.appendChild(hotspot.element);\n    }\n    removeHotspot(hotspot) {\n        this.target.remove(hotspot);\n    }\n    /**\n     * Helper method to apply a function to all hotspots.\n     */\n    forHotspots(func) {\n        const { children } = this.target;\n        for (let i = 0, l = children.length; i < l; i++) {\n            const hotspot = children[i];\n            if (hotspot instanceof _Hotspot_js__WEBPACK_IMPORTED_MODULE_6__.Hotspot) {\n                func(hotspot);\n            }\n        }\n    }\n    /**\n     * Update the CSS visibility of the hotspots based on whether their normals\n     * point toward the camera.\n     */\n    updateHotspots(viewerPosition) {\n        this.forHotspots((hotspot) => {\n            view.copy(viewerPosition);\n            target.setFromMatrixPosition(hotspot.matrixWorld);\n            view.sub(target);\n            normalWorld.copy(hotspot.normal)\n                .transformDirection(this.target.matrixWorld);\n            if (view.dot(normalWorld) < 0) {\n                hotspot.hide();\n            }\n            else {\n                hotspot.show();\n            }\n        });\n    }\n    /**\n     * Rotate all hotspots to an absolute orientation given by the input number of\n     * radians. Zero returns them to upright.\n     */\n    orientHotspots(radians) {\n        this.forHotspots((hotspot) => {\n            hotspot.orient(radians);\n        });\n    }\n    /**\n     * Set the rendering visibility of all hotspots. This is used to hide them\n     * during transitions and such.\n     */\n    setHotspotsVisibility(visible) {\n        this.forHotspots((hotspot) => {\n            hotspot.visible = visible;\n        });\n    }\n    updateSchema(src) {\n        var _a;\n        const { schemaElement, element } = this;\n        const { alt, poster, iosSrc } = element;\n        if (src != null) {\n            const encoding = [{\n                    '@type': 'MediaObject',\n                    contentUrl: src,\n                    encodingFormat: ((_a = src.split('.').pop()) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === 'gltf' ?\n                        'model/gltf+json' :\n                        'model/gltf-binary'\n                }];\n            if (iosSrc) {\n                encoding.push({\n                    '@type': 'MediaObject',\n                    contentUrl: iosSrc,\n                    encodingFormat: 'model/vnd.usdz+zip'\n                });\n            }\n            const structuredData = {\n                '@context': 'http://schema.org/',\n                '@type': '3DModel',\n                image: poster !== null && poster !== void 0 ? poster : undefined,\n                name: alt !== null && alt !== void 0 ? alt : undefined,\n                encoding\n            };\n            schemaElement.textContent = JSON.stringify(structuredData);\n            document.head.appendChild(schemaElement);\n        }\n        else if (schemaElement.parentElement != null) {\n            schemaElement.parentElement.removeChild(schemaElement);\n        }\n    }\n}\n//# sourceMappingURL=ModelScene.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvTW9kZWxTY2VuZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNnSztBQUNsRjtBQUNPO0FBQ2pDO0FBQ0s7QUFDRDtBQUNYO0FBQ087QUFDYjtBQUNVO0FBQ1o7QUFDckM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwwQ0FBTztBQUN4QixtQkFBbUIsMENBQU87QUFDMUIsd0JBQXdCLDBDQUFPO0FBQy9CLHNCQUFzQiw0Q0FBUztBQUMvQixvQkFBb0IsMENBQU87QUFDM0IsZ0JBQWdCLDBDQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyx5QkFBeUIsd0NBQUs7QUFDckMsa0JBQWtCLGdDQUFnQztBQUNsRDtBQUNBLHNDQUFzQyx5RkFBYTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0RBQWlCO0FBQzNDO0FBQ0E7QUFDQSwwQkFBMEIsMkNBQVE7QUFDbEM7QUFDQSwrQkFBK0IsdUNBQUk7QUFDbkMsa0NBQWtDLHlDQUFNO0FBQ3hDLHdCQUF3QiwwQ0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsMENBQU87QUFDckMsaUNBQWlDLDhDQUFNO0FBQ3ZDLGlDQUFpQyw4Q0FBTTtBQUN2QyxpQ0FBaUMsOENBQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0RBQWlCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlEQUFjO0FBQ3ZDLGdCQUFnQixhQUFhO0FBQzdCLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELDREQUFTO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGtFQUFZO0FBQ2pDLHFCQUFxQix1RUFBaUI7QUFDdEMscUJBQXFCLDREQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlEQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1Q0FBSTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQiw4QkFBOEIsdUNBQUk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0VBQWdCO0FBQzVDO0FBQ0EscUJBQXFCLHFFQUFhO0FBQ2xDLHNCQUFzQixxRUFBYTtBQUNuQyxvQkFBb0IscUVBQWE7QUFDakMsMENBQTBDLHdDQUFLO0FBQy9DLHNCQUFzQixvRUFBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOERBQWMsbUJBQW1CLHVDQUFJO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhEQUFjLG1CQUFtQix1Q0FBSTtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFNBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOERBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4REFBYztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSx5QkFBeUIsNERBQVM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFEQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVU7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsT0FBTztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELCtDQUFZO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDZDQUFVO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhDQUE4QztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDhDQUFNO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLDhDQUE4QywwQ0FBTztBQUNyRCxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCLDZDQUE2QyxPQUFPO0FBQ3BEO0FBQ0EsbUNBQW1DLGdEQUFPO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHlCQUF5QjtBQUN6QyxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvTW9kZWxTY2VuZS5qcz9mMWNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEFuaW1hdGlvbk1peGVyLCBCb3gzLCBFdWxlciwgTG9vcFBpbmdQb25nLCBMb29wUmVwZWF0LCBNYXRyaXgzLCBPYmplY3QzRCwgUGVyc3BlY3RpdmVDYW1lcmEsIFJheWNhc3RlciwgU2NlbmUsIFNwaGVyZSwgVmVjdG9yMiwgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IENTUzJEUmVuZGVyZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcmVuZGVyZXJzL0NTUzJEUmVuZGVyZXIuanMnO1xuaW1wb3J0IHsgJGN1cnJlbnRHTFRGLCAkbW9kZWwsICRvcmlnaW5hbEdsdGZKc29uIH0gZnJvbSAnLi4vZmVhdHVyZXMvc2NlbmUtZ3JhcGguanMnO1xuaW1wb3J0IHsgJHJlbmRlcmVyIH0gZnJvbSAnLi4vbW9kZWwtdmlld2VyLWJhc2UuanMnO1xuaW1wb3J0IHsgbm9ybWFsaXplVW5pdCB9IGZyb20gJy4uL3N0eWxlcy9jb252ZXJzaW9ucy5qcyc7XG5pbXBvcnQgeyBwYXJzZUV4cHJlc3Npb25zIH0gZnJvbSAnLi4vc3R5bGVzL3BhcnNlcnMuanMnO1xuaW1wb3J0IHsgcmVzb2x2ZURwciB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG5pbXBvcnQgeyBEYW1wZXIsIFNFVFRMSU5HX1RJTUUgfSBmcm9tICcuL0RhbXBlci5qcyc7XG5pbXBvcnQgeyBIb3RzcG90IH0gZnJvbSAnLi9Ib3RzcG90LmpzJztcbmltcG9ydCB7IHJlZHVjZVZlcnRpY2VzIH0gZnJvbSAnLi9Nb2RlbFV0aWxzLmpzJztcbmltcG9ydCB7IFNoYWRvdyB9IGZyb20gJy4vU2hhZG93LmpzJztcbmNvbnN0IE1JTl9TSEFET1dfUkFUSU8gPSAxMDA7XG5leHBvcnQgY29uc3QgSWxsdW1pbmF0aW9uUm9sZSA9IHtcbiAgICBQcmltYXJ5OiAncHJpbWFyeScsXG4gICAgU2Vjb25kYXJ5OiAnc2Vjb25kYXJ5J1xufTtcbmNvbnN0IHZpZXcgPSBuZXcgVmVjdG9yMygpO1xuY29uc3QgdGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IG5vcm1hbFdvcmxkID0gbmV3IFZlY3RvcjMoKTtcbmNvbnN0IHJheWNhc3RlciA9IG5ldyBSYXljYXN0ZXIoKTtcbmNvbnN0IHZlY3RvcjMgPSBuZXcgVmVjdG9yMygpO1xuY29uc3QgbmRjID0gbmV3IFZlY3RvcjIoKTtcbi8qKlxuICogQSBUSFJFRS5TY2VuZSBvYmplY3QgdGhhdCB0YWtlcyBhIE1vZGVsIGFuZCBDYW52YXNIVE1MRWxlbWVudCBhbmRcbiAqIGNvbnN0cnVjdHMgYSBmcmFtZWQgc2NlbmUgYmFzZWQgb2ZmIG9mIHRoZSBjYW52YXMgZGltZW5zaW9ucy5cbiAqIFByb3ZpZGVzIGxpZ2h0cyBhbmQgY2FtZXJhcyB0byBiZSB1c2VkIGluIGEgcmVuZGVyZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbFNjZW5lIGV4dGVuZHMgU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKHsgY2FudmFzLCBlbGVtZW50LCB3aWR0aCwgaGVpZ2h0IH0pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uUmVuZGVyZXIgPSBuZXcgQ1NTMkRSZW5kZXJlcigpO1xuICAgICAgICB0aGlzLnNjaGVtYUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgdGhpcy53aWR0aCA9IDE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gMTtcbiAgICAgICAgdGhpcy5hc3BlY3QgPSAxO1xuICAgICAgICB0aGlzLnNjYWxlU3RlcCA9IDA7XG4gICAgICAgIHRoaXMucmVuZGVyQ291bnQgPSAwO1xuICAgICAgICB0aGlzLmV4dGVybmFsUmVuZGVyZXIgPSBudWxsO1xuICAgICAgICAvLyBUaGVzZSBkZWZhdWx0IGNhbWVyYSB2YWx1ZXMgYXJlIG5ldmVyIHVzZWQsIGFzIHRoZXkgYXJlIHJlc2V0IG9uY2UgdGhlXG4gICAgICAgIC8vIG1vZGVsIGlzIGxvYWRlZCBhbmQgZnJhbWluZyBpcyBjb21wdXRlZC5cbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgUGVyc3BlY3RpdmVDYW1lcmEoNDUsIDEsIDAuMSwgMTAwKTtcbiAgICAgICAgdGhpcy54ckNhbWVyYSA9IG51bGw7XG4gICAgICAgIHRoaXMudXJsID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuZXcgT2JqZWN0M0QoKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25OYW1lcyA9IFtdO1xuICAgICAgICB0aGlzLmJvdW5kaW5nQm94ID0gbmV3IEJveDMoKTtcbiAgICAgICAgdGhpcy5ib3VuZGluZ1NwaGVyZSA9IG5ldyBTcGhlcmUoKTtcbiAgICAgICAgdGhpcy5zaXplID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5pZGVhbEFzcGVjdCA9IDA7XG4gICAgICAgIHRoaXMuZnJhbWVkRm9WRGVnID0gMDtcbiAgICAgICAgdGhpcy5zaGFkb3cgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRvd0ludGVuc2l0eSA9IDA7XG4gICAgICAgIHRoaXMuc2hhZG93U29mdG5lc3MgPSAxO1xuICAgICAgICB0aGlzLmJha2VkU2hhZG93cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5leHBvc3VyZSA9IDE7XG4gICAgICAgIHRoaXMuY2FuU2NhbGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5nb2FsVGFyZ2V0ID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy50YXJnZXREYW1wZXJYID0gbmV3IERhbXBlcigpO1xuICAgICAgICB0aGlzLnRhcmdldERhbXBlclkgPSBuZXcgRGFtcGVyKCk7XG4gICAgICAgIHRoaXMudGFyZ2V0RGFtcGVyWiA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5fY3VycmVudEdMVEYgPSBudWxsO1xuICAgICAgICB0aGlzLl9tb2RlbCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FuY2VsUGVuZGluZ1NvdXJjZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc0J5TmFtZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5uYW1lID0gJ01vZGVsU2NlbmUnO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgICAgLy8gVGhlc2UgZGVmYXVsdCBjYW1lcmEgdmFsdWVzIGFyZSBuZXZlciB1c2VkLCBhcyB0aGV5IGFyZSByZXNldCBvbmNlIHRoZVxuICAgICAgICAvLyBtb2RlbCBpcyBsb2FkZWQgYW5kIGZyYW1pbmcgaXMgY29tcHV0ZWQuXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCAxLCAwLjEsIDEwMCk7XG4gICAgICAgIHRoaXMuY2FtZXJhLm5hbWUgPSAnTWFpbkNhbWVyYSc7XG4gICAgICAgIHRoaXMuYWRkKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgdGhpcy5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB0aGlzLnRhcmdldC5uYW1lID0gJ1RhcmdldCc7XG4gICAgICAgIHRoaXMubWl4ZXIgPSBuZXcgQW5pbWF0aW9uTWl4ZXIodGhpcy50YXJnZXQpO1xuICAgICAgICBjb25zdCB7IGRvbUVsZW1lbnQgfSA9IHRoaXMuYW5ub3RhdGlvblJlbmRlcmVyO1xuICAgICAgICBjb25zdCB7IHN0eWxlIH0gPSBkb21FbGVtZW50O1xuICAgICAgICBzdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBzdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgICBzdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIHN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgdGhpcy5lbGVtZW50LnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcignLmRlZmF1bHQnKS5hcHBlbmRDaGlsZChkb21FbGVtZW50KTtcbiAgICAgICAgdGhpcy5zY2hlbWFFbGVtZW50LnNldEF0dHJpYnV0ZSgndHlwZScsICdhcHBsaWNhdGlvbi9sZCtqc29uJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgY29udGV4dCBsYXppbHksIGFzIHdoZW4gdGhlcmUgaXMgb25seSBvbmVcbiAgICAgKiA8bW9kZWwtdmlld2VyPiBlbGVtZW50LCB0aGUgcmVuZGVyZXIncyAzRCBjb250ZXh0IGNhbiBiZSBkaXNwbGF5ZWRcbiAgICAgKiBkaXJlY3RseS4gVGhpcyBleHRyYSBjb250ZXh0IGlzIG5lY2Vzc2FyeSB0byBjb3B5IHRoZSByZW5kZXJpbmdzIGludG8gd2hlblxuICAgICAqIHRoZXJlIGFyZSBtb3JlIHRoYW4gb25lLlxuICAgICAqL1xuICAgIGdldCBjb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9XG4gICAgZ2V0Q2FtZXJhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy54ckNhbWVyYSAhPSBudWxsID8gdGhpcy54ckNhbWVyYSA6IHRoaXMuY2FtZXJhO1xuICAgIH1cbiAgICBxdWV1ZVJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgc2hvdWxkUmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0RpcnR5O1xuICAgIH1cbiAgICBoYXNSZW5kZXJlZCgpIHtcbiAgICAgICAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gICAgfVxuICAgIGZvcmNlUmVzY2FsZSgpIHtcbiAgICAgICAgdGhpcy5zY2FsZVN0ZXAgPSAtMTtcbiAgICAgICAgdGhpcy5xdWV1ZVJlbmRlcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXNzIGluIGEgVEhSRUUuT2JqZWN0M0QgdG8gYmUgY29udHJvbGxlZFxuICAgICAqIGJ5IHRoaXMgbW9kZWwuXG4gICAgICovXG4gICAgYXN5bmMgc2V0T2JqZWN0KG1vZGVsKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5fbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkKG1vZGVsKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXR1cFNjZW5lKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1vZGVsIHZpYSBVUkwuXG4gICAgICovXG4gICAgYXN5bmMgc2V0U291cmNlKHVybCwgcHJvZ3Jlc3NDYWxsYmFjayA9ICgpID0+IHsgfSkge1xuICAgICAgICBpZiAoIXVybCB8fCB1cmwgPT09IHRoaXMudXJsKSB7XG4gICAgICAgICAgICBwcm9ncmVzc0NhbGxiYWNrKDEpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIGlmICh0aGlzLmV4dGVybmFsUmVuZGVyZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZnJhbWluZ0luZm8gPSBhd2FpdCB0aGlzLmV4dGVybmFsUmVuZGVyZXIubG9hZChwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzID0gZnJhbWluZ0luZm8uZnJhbWVkUmFkaXVzO1xuICAgICAgICAgICAgdGhpcy5pZGVhbEFzcGVjdCA9IGZyYW1pbmdJbmZvLmZpZWxkT2ZWaWV3QXNwZWN0O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhhdmUgcGVuZGluZyB3b3JrIGR1ZSB0byBhIHByZXZpb3VzIHNvdXJjZSBjaGFuZ2UgaW4gcHJvZ3Jlc3MsXG4gICAgICAgIC8vIGNhbmNlbCBpdCBzbyB0aGF0IHdlIGRvIG5vdCBpbmN1ciBhIHJhY2UgY29uZGl0aW9uOlxuICAgICAgICBpZiAodGhpcy5jYW5jZWxQZW5kaW5nU291cmNlQ2hhbmdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsUGVuZGluZ1NvdXJjZUNoYW5nZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxQZW5kaW5nU291cmNlQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ2x0ZjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsdGYgPSBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxQZW5kaW5nU291cmNlQ2hhbmdlID0gKCkgPT4gcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5lbGVtZW50WyRyZW5kZXJlcl0ubG9hZGVyLmxvYWQodXJsLCB0aGlzLmVsZW1lbnQsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBMb2FkaW5nIHdhcyBjYW5jZWxsZWQsIHNvIHNpbGVudGx5IHJldHVyblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuY2VsUGVuZGluZ1NvdXJjZUNoYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRHTFRGID0gZ2x0ZjtcbiAgICAgICAgaWYgKGdsdGYgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbW9kZWwgPSBnbHRmLnNjZW5lO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuYWRkKGdsdGYuc2NlbmUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYW5pbWF0aW9ucyB9ID0gZ2x0ZjtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uc0J5TmFtZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uTmFtZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBhbmltYXRpb24gb2YgYW5pbWF0aW9ucykge1xuICAgICAgICAgICAgYW5pbWF0aW9uc0J5TmFtZS5zZXQoYW5pbWF0aW9uLm5hbWUsIGFuaW1hdGlvbik7XG4gICAgICAgICAgICBhbmltYXRpb25OYW1lcy5wdXNoKGFuaW1hdGlvbi5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBhbmltYXRpb25zO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNCeU5hbWUgPSBhbmltYXRpb25zQnlOYW1lO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbk5hbWVzID0gYW5pbWF0aW9uTmFtZXM7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0dXBTY2VuZSgpO1xuICAgIH1cbiAgICBhc3luYyBzZXR1cFNjZW5lKCkge1xuICAgICAgICB0aGlzLmFwcGx5VHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXBkYXRlQm91bmRpbmdCb3goKTtcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVGcmFtaW5nKCk7XG4gICAgICAgIHRoaXMudXBkYXRlU2hhZG93KCk7XG4gICAgICAgIHRoaXMuc2V0U2hhZG93SW50ZW5zaXR5KHRoaXMuc2hhZG93SW50ZW5zaXR5KTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMudXJsID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZVJlbmRlcigpO1xuICAgICAgICBpZiAodGhpcy5zaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuc2V0SW50ZW5zaXR5KDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFrZWRTaGFkb3dzLmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IHsgX21vZGVsIH0gPSB0aGlzO1xuICAgICAgICBpZiAoX21vZGVsICE9IG51bGwpIHtcbiAgICAgICAgICAgIF9tb2RlbC5yZW1vdmVGcm9tUGFyZW50KCk7XG4gICAgICAgICAgICB0aGlzLl9tb2RlbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZ2x0ZiA9IHRoaXMuX2N1cnJlbnRHTFRGO1xuICAgICAgICBpZiAoZ2x0ZiAhPSBudWxsKSB7XG4gICAgICAgICAgICBnbHRmLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRHTFRGID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbi5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWl4ZXIuc3RvcEFsbEFjdGlvbigpO1xuICAgICAgICB0aGlzLm1peGVyLnVuY2FjaGVSb290KHRoaXMpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIGlmICh0aGlzLnNoYWRvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdy5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50WyRjdXJyZW50R0xURl0gPSBudWxsO1xuICAgICAgICB0aGlzLmVsZW1lbnRbJG9yaWdpbmFsR2x0Zkpzb25dID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbGVtZW50WyRtb2RlbF0gPSBudWxsO1xuICAgIH1cbiAgICBnZXQgY3VycmVudEdMVEYoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50R0xURjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgTW9kZWxTY2VuZSBmb3IgYSBuZXcgY29udGFpbmVyIHNpemUgaW4gQ1NTIHBpeGVscy5cbiAgICAgKi9cbiAgICBzZXRTaXplKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPT09IHdpZHRoICYmIHRoaXMuaGVpZ2h0ID09PSBoZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5tYXgod2lkdGgsIDEpO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgMSk7XG4gICAgICAgIHRoaXMuYW5ub3RhdGlvblJlbmRlcmVyLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMuYXNwZWN0ID0gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5leHRlcm5hbFJlbmRlcmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRwciA9IHJlc29sdmVEcHIoKTtcbiAgICAgICAgICAgIHRoaXMuZXh0ZXJuYWxSZW5kZXJlci5yZXNpemUod2lkdGggKiBkcHIsIGhlaWdodCAqIGRwcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5xdWV1ZVJlbmRlcigpO1xuICAgIH1cbiAgICBtYXJrQmFrZWRTaGFkb3cobWVzaCkge1xuICAgICAgICBtZXNoLnVzZXJEYXRhLnNoYWRvdyA9IHRydWU7XG4gICAgICAgIHRoaXMuYmFrZWRTaGFkb3dzLmFkZChtZXNoKTtcbiAgICB9XG4gICAgdW5tYXJrQmFrZWRTaGFkb3cobWVzaCkge1xuICAgICAgICBtZXNoLnVzZXJEYXRhLnNoYWRvdyA9IGZhbHNlO1xuICAgICAgICBtZXNoLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmJha2VkU2hhZG93cy5kZWxldGUobWVzaCk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3guZXhwYW5kQnlPYmplY3QobWVzaCk7XG4gICAgfVxuICAgIGZpbmRCYWtlZFNoYWRvd3MoZ3JvdXApIHtcbiAgICAgICAgY29uc3QgYm91bmRpbmdCb3ggPSBuZXcgQm94MygpO1xuICAgICAgICBncm91cC50cmF2ZXJzZSgob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtZXNoID0gb2JqZWN0O1xuICAgICAgICAgICAgaWYgKCFtZXNoLmlzTWVzaCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsID0gbWVzaC5tYXRlcmlhbDtcbiAgICAgICAgICAgIGlmICghbWF0ZXJpYWwudHJhbnNwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3VuZGluZ0JveC5zZXRGcm9tT2JqZWN0KG1lc2gpO1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IGJvdW5kaW5nQm94LmdldFNpemUodmVjdG9yMyk7XG4gICAgICAgICAgICBjb25zdCBtaW5EaW0gPSBNYXRoLm1pbihzaXplLngsIHNpemUueSwgc2l6ZS56KTtcbiAgICAgICAgICAgIGNvbnN0IG1heERpbSA9IE1hdGgubWF4KHNpemUueCwgc2l6ZS55LCBzaXplLnopO1xuICAgICAgICAgICAgaWYgKG1heERpbSA8IE1JTl9TSEFET1dfUkFUSU8gKiBtaW5EaW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcmtCYWtlZFNoYWRvdyhtZXNoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNoZWNrQmFrZWRTaGFkb3dzKCkge1xuICAgICAgICBjb25zdCB7IG1pbiwgbWF4IH0gPSB0aGlzLmJvdW5kaW5nQm94O1xuICAgICAgICBjb25zdCBzaGFkb3dCb3ggPSBuZXcgQm94MygpO1xuICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmdldFNpemUodGhpcy5zaXplKTtcbiAgICAgICAgZm9yIChjb25zdCBtZXNoIG9mIHRoaXMuYmFrZWRTaGFkb3dzKSB7XG4gICAgICAgICAgICBzaGFkb3dCb3guc2V0RnJvbU9iamVjdChtZXNoKTtcbiAgICAgICAgICAgIGlmIChzaGFkb3dCb3gubWluLnkgPCBtaW4ueSArIHRoaXMuc2l6ZS55IC8gTUlOX1NIQURPV19SQVRJTyAmJlxuICAgICAgICAgICAgICAgIHNoYWRvd0JveC5taW4ueCA8PSBtaW4ueCAmJiBzaGFkb3dCb3gubWF4LnggPj0gbWF4LnggJiZcbiAgICAgICAgICAgICAgICBzaGFkb3dCb3gubWluLnogPD0gbWluLnogJiYgc2hhZG93Qm94Lm1heC56ID49IG1heC56KSB7XG4gICAgICAgICAgICAgICAgLy8gZmxvb3Igc2hhZG93XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2hhZG93Qm94Lm1pbi56IDwgbWluLnogKyB0aGlzLnNpemUueiAvIE1JTl9TSEFET1dfUkFUSU8gJiZcbiAgICAgICAgICAgICAgICBzaGFkb3dCb3gubWluLnggPD0gbWluLnggJiYgc2hhZG93Qm94Lm1heC54ID49IG1heC54ICYmXG4gICAgICAgICAgICAgICAgc2hhZG93Qm94Lm1pbi55IDw9IG1pbi55ICYmIHNoYWRvd0JveC5tYXgueSA+PSBtYXgueSkge1xuICAgICAgICAgICAgICAgIC8vIHdhbGwgc2hhZG93XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVubWFya0Jha2VkU2hhZG93KG1lc2gpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFwcGx5VHJhbnNmb3JtKCkge1xuICAgICAgICBjb25zdCB7IG1vZGVsIH0gPSB0aGlzO1xuICAgICAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uID0gcGFyc2VFeHByZXNzaW9ucyh0aGlzLmVsZW1lbnQub3JpZW50YXRpb24pWzBdXG4gICAgICAgICAgICAudGVybXM7XG4gICAgICAgIGNvbnN0IHJvbGwgPSBub3JtYWxpemVVbml0KG9yaWVudGF0aW9uWzBdKS5udW1iZXI7XG4gICAgICAgIGNvbnN0IHBpdGNoID0gbm9ybWFsaXplVW5pdChvcmllbnRhdGlvblsxXSkubnVtYmVyO1xuICAgICAgICBjb25zdCB5YXcgPSBub3JtYWxpemVVbml0KG9yaWVudGF0aW9uWzJdKS5udW1iZXI7XG4gICAgICAgIG1vZGVsLnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKG5ldyBFdWxlcihwaXRjaCwgeWF3LCByb2xsLCAnWVhaJykpO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHBhcnNlRXhwcmVzc2lvbnModGhpcy5lbGVtZW50LnNjYWxlKVswXVxuICAgICAgICAgICAgLnRlcm1zO1xuICAgICAgICBtb2RlbC5zY2FsZS5zZXQoc2NhbGVbMF0ubnVtYmVyLCBzY2FsZVsxXS5udW1iZXIsIHNjYWxlWzJdLm51bWJlcik7XG4gICAgfVxuICAgIHVwZGF0ZUJvdW5kaW5nQm94KCkge1xuICAgICAgICBjb25zdCB7IG1vZGVsIH0gPSB0aGlzO1xuICAgICAgICBpZiAobW9kZWwgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFyZ2V0LnJlbW92ZShtb2RlbCk7XG4gICAgICAgIHRoaXMuZmluZEJha2VkU2hhZG93cyhtb2RlbCk7XG4gICAgICAgIGNvbnN0IGJvdW5kID0gKGJveCwgdmVydGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYm94LmV4cGFuZEJ5UG9pbnQodmVydGV4KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZXRCYWtlZFNoYWRvd1Zpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICB0aGlzLmJvdW5kaW5nQm94ID0gcmVkdWNlVmVydGljZXMobW9kZWwsIGJvdW5kLCBuZXcgQm94MygpKTtcbiAgICAgICAgLy8gSWYgdGhlcmUncyBub3RoaW5nIGJ1dCB0aGUgYmFrZWQgc2hhZG93LCB0aGVuIGl0J3Mgbm90IGEgYmFrZWQgc2hhZG93LlxuICAgICAgICBpZiAodGhpcy5ib3VuZGluZ0JveC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QmFrZWRTaGFkb3dWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICAgICAgdGhpcy5iYWtlZFNoYWRvd3MuZm9yRWFjaCgobWVzaCkgPT4gdGhpcy51bm1hcmtCYWtlZFNoYWRvdyhtZXNoKSk7XG4gICAgICAgICAgICB0aGlzLmJvdW5kaW5nQm94ID0gcmVkdWNlVmVydGljZXMobW9kZWwsIGJvdW5kLCBuZXcgQm94MygpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrQmFrZWRTaGFkb3dzKCk7XG4gICAgICAgIHRoaXMuc2V0QmFrZWRTaGFkb3dWaXNpYmlsaXR5KCk7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3guZ2V0U2l6ZSh0aGlzLnNpemUpO1xuICAgICAgICB0aGlzLnRhcmdldC5hZGQobW9kZWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBib3VuZGluZ1NwaGVyZSBhbmQgaWRlYWxBc3BlY3QgdGhhdCBhbGxvd3MgdGhlIDNEXG4gICAgICogb2JqZWN0IHRvIGJlIGZyYW1lZCB0aWdodGx5IGluIGEgMkQgd2luZG93IG9mIGFueSBhc3BlY3QgcmF0aW8gd2l0aG91dFxuICAgICAqIGNsaXBwaW5nIGF0IGFueSBjYW1lcmEgb3JiaXQuIFRoZSBjYW1lcmEncyBjZW50ZXIgdGFyZ2V0IHBvaW50IGNhbiBiZVxuICAgICAqIG9wdGlvbmFsbHkgc3BlY2lmaWVkLiBJZiBubyBjZW50ZXIgaXMgc3BlY2lmaWVkLCBpdCBkZWZhdWx0cyB0byB0aGUgY2VudGVyXG4gICAgICogb2YgdGhlIGJvdW5kaW5nIGJveCwgd2hpY2ggbWVhbnMgYXN5bW1ldHJpYyBtb2RlbHMgd2lsbCB0ZW5kIHRvIGJlIHRpZ2h0IG9uXG4gICAgICogb25lIHNpZGUgaW5zdGVhZCBvZiBib3RoLiBQcm9wZXIgY2hvaWNlIG9mIGNlbnRlciBjYW4gY29ycmVjdCB0aGlzLlxuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZUZyYW1pbmcoKSB7XG4gICAgICAgIGNvbnN0IHsgbW9kZWwgfSA9IHRoaXM7XG4gICAgICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50YXJnZXQucmVtb3ZlKG1vZGVsKTtcbiAgICAgICAgdGhpcy5zZXRCYWtlZFNoYWRvd1Zpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICBjb25zdCB7IGNlbnRlciB9ID0gdGhpcy5ib3VuZGluZ1NwaGVyZTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlcXVlc3RVcGRhdGUoJ2NhbWVyYVRhcmdldCcpO1xuICAgICAgICBhd2FpdCB0aGlzLmVsZW1lbnQudXBkYXRlQ29tcGxldGU7XG4gICAgICAgIGNlbnRlci5jb3B5KHRoaXMuZ2V0VGFyZ2V0KCkpO1xuICAgICAgICBjb25zdCByYWRpdXNTcXVhcmVkID0gKHZhbHVlLCB2ZXJ0ZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWx1ZSwgY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKHZlcnRleCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cyA9XG4gICAgICAgICAgICBNYXRoLnNxcnQocmVkdWNlVmVydGljZXMobW9kZWwsIHJhZGl1c1NxdWFyZWQsIDApKTtcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbFRhbkZvdiA9ICh2YWx1ZSwgdmVydGV4KSA9PiB7XG4gICAgICAgICAgICB2ZXJ0ZXguc3ViKGNlbnRlcik7XG4gICAgICAgICAgICBjb25zdCByYWRpdXNYWiA9IE1hdGguc3FydCh2ZXJ0ZXgueCAqIHZlcnRleC54ICsgdmVydGV4LnogKiB2ZXJ0ZXgueik7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodmFsdWUsIHJhZGl1c1haIC8gKHRoaXMuaWRlYWxDYW1lcmFEaXN0YW5jZSgpIC0gTWF0aC5hYnModmVydGV4LnkpKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaWRlYWxBc3BlY3QgPSByZWR1Y2VWZXJ0aWNlcyhtb2RlbCwgaG9yaXpvbnRhbFRhbkZvdiwgMCkgL1xuICAgICAgICAgICAgTWF0aC50YW4oKHRoaXMuZnJhbWVkRm9WRGVnIC8gMikgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgICAgdGhpcy5zZXRCYWtlZFNoYWRvd1Zpc2liaWxpdHkoKTtcbiAgICAgICAgdGhpcy50YXJnZXQuYWRkKG1vZGVsKTtcbiAgICB9XG4gICAgc2V0QmFrZWRTaGFkb3dWaXNpYmlsaXR5KHZpc2libGUgPSB0aGlzLnNoYWRvd0ludGVuc2l0eSA8PSAwKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc2hhZG93IG9mIHRoaXMuYmFrZWRTaGFkb3dzKSB7XG4gICAgICAgICAgICBzaGFkb3cudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWRlYWxDYW1lcmFEaXN0YW5jZSgpIHtcbiAgICAgICAgY29uc3QgaGFsZkZvdlJhZCA9ICh0aGlzLmZyYW1lZEZvVkRlZyAvIDIpICogTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzIC8gTWF0aC5zaW4oaGFsZkZvdlJhZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCdzIHRoZSBmcmFtZWRGaWVsZE9mVmlldyBiYXNlZCBvbiB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSB3aW5kb3cgaW5cbiAgICAgKiBvcmRlciB0byBrZWVwIHRoZSBtb2RlbCBmdWxseSB2aXNpYmxlIGF0IGFueSBjYW1lcmEgb3JpZW50YXRpb24uXG4gICAgICovXG4gICAgYWRqdXN0ZWRGb1YoZm92RGVnKSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsID0gTWF0aC50YW4oKGZvdkRlZyAvIDIpICogTWF0aC5QSSAvIDE4MCkgKlxuICAgICAgICAgICAgTWF0aC5tYXgoMSwgdGhpcy5pZGVhbEFzcGVjdCAvIHRoaXMuYXNwZWN0KTtcbiAgICAgICAgcmV0dXJuIDIgKiBNYXRoLmF0YW4odmVydGljYWwpICogMTgwIC8gTWF0aC5QSTtcbiAgICB9XG4gICAgZ2V0TkRDKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgaWYgKHRoaXMueHJDYW1lcmEgIT0gbnVsbCkge1xuICAgICAgICAgICAgbmRjLnNldChjbGllbnRYIC8gd2luZG93LnNjcmVlbi53aWR0aCwgY2xpZW50WSAvIHdpbmRvdy5zY3JlZW4uaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBuZGMuc2V0KChjbGllbnRYIC0gcmVjdC54KSAvIHRoaXMud2lkdGgsIChjbGllbnRZIC0gcmVjdC55KSAvIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBuZGMubXVsdGlwbHlTY2FsYXIoMikuc3ViU2NhbGFyKDEpO1xuICAgICAgICBuZGMueSAqPSAtMTtcbiAgICAgICAgcmV0dXJuIG5kYztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2l6ZSBvZiB0aGUgY29ycmVzcG9uZGluZyBjYW52YXMgZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRTaXplKCkge1xuICAgICAgICByZXR1cm4geyB3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodCB9O1xuICAgIH1cbiAgICBzZXRFbnZpcm9ubWVudEFuZFNreWJveChlbnZpcm9ubWVudCwgc2t5Ym94KSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRbJHJlbmRlcmVyXS5hclJlbmRlcmVyLnByZXNlbnRlZFNjZW5lID09PSB0aGlzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBza3lib3g7XG4gICAgICAgIHRoaXMucXVldWVSZW5kZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9pbnQgaW4gbW9kZWwgY29vcmRpbmF0ZXMgdGhlIG1vZGVsIHNob3VsZCBvcmJpdC9waXZvdCBhcm91bmQuXG4gICAgICovXG4gICAgc2V0VGFyZ2V0KG1vZGVsWCwgbW9kZWxZLCBtb2RlbFopIHtcbiAgICAgICAgdGhpcy5nb2FsVGFyZ2V0LnNldCgtbW9kZWxYLCAtbW9kZWxZLCAtbW9kZWxaKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBkZWNheSB0aW1lIG9mLCBhZmZlY3RzIHRoZSBzcGVlZCBvZiB0YXJnZXQgdHJhbnNpdGlvbnMuXG4gICAgICovXG4gICAgc2V0VGFyZ2V0RGFtcGVyRGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0RGFtcGVyWC5zZXREZWNheVRpbWUoZGVjYXlNaWxsaXNlY29uZHMpO1xuICAgICAgICB0aGlzLnRhcmdldERhbXBlclkuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy50YXJnZXREYW1wZXJaLnNldERlY2F5VGltZShkZWNheU1pbGxpc2Vjb25kcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBvaW50IGluIG1vZGVsIGNvb3JkaW5hdGVzIHRoZSBtb2RlbCBzaG91bGQgb3JiaXQvcGl2b3QgYXJvdW5kLlxuICAgICAqL1xuICAgIGdldFRhcmdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ29hbFRhcmdldC5jbG9uZSgpLm11bHRpcGx5U2NhbGFyKC0xKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hpZnRzIHRoZSBtb2RlbCB0byB0aGUgdGFyZ2V0IHBvaW50IGltbWVkaWF0ZWx5IGluc3RlYWQgb2YgZWFzaW5nIGluLlxuICAgICAqL1xuICAgIGp1bXBUb0dvYWwoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGFyZ2V0KFNFVFRMSU5HX1RJTUUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgZXZlcnkgZnJhbWUgd2l0aCB0aGUgZnJhbWUgZGVsdGEgdG8gY2F1c2UgdGhlIHRhcmdldFxuICAgICAqIHRvIHRyYW5zaXRpb24gdG8gaXRzIHNldCBwb2ludC5cbiAgICAgKi9cbiAgICB1cGRhdGVUYXJnZXQoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgZ29hbCA9IHRoaXMuZ29hbFRhcmdldDtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy50YXJnZXQucG9zaXRpb247XG4gICAgICAgIGlmICghZ29hbC5lcXVhbHModGFyZ2V0KSkge1xuICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXphdGlvbiA9IHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzIC8gMTA7XG4gICAgICAgICAgICBsZXQgeyB4LCB5LCB6IH0gPSB0YXJnZXQ7XG4gICAgICAgICAgICB4ID0gdGhpcy50YXJnZXREYW1wZXJYLnVwZGF0ZSh4LCBnb2FsLngsIGRlbHRhLCBub3JtYWxpemF0aW9uKTtcbiAgICAgICAgICAgIHkgPSB0aGlzLnRhcmdldERhbXBlclkudXBkYXRlKHksIGdvYWwueSwgZGVsdGEsIG5vcm1hbGl6YXRpb24pO1xuICAgICAgICAgICAgeiA9IHRoaXMudGFyZ2V0RGFtcGVyWi51cGRhdGUoeiwgZ29hbC56LCBkZWx0YSwgbm9ybWFsaXphdGlvbik7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5wb3NpdGlvbi5zZXQoeCwgeSwgeik7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC51cGRhdGVNYXRyaXhXb3JsZCgpO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZVJlbmRlcigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogWWF3IHRoZSAreiAoZnJvbnQpIG9mIHRoZSBtb2RlbCB0b3dhcmQgdGhlIGluZGljYXRlZCB3b3JsZCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBwb2ludFRvd2FyZHMod29ybGRYLCB3b3JsZFopIHtcbiAgICAgICAgY29uc3QgeyB4LCB6IH0gPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICB0aGlzLnlhdyA9IE1hdGguYXRhbjIod29ybGRYIC0geCwgd29ybGRaIC0geik7XG4gICAgfVxuICAgIGdldCBtb2RlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBZYXcgaXMgdGhlIHNjZW5lJ3Mgb3JpZW50YXRpb24gYWJvdXQgdGhlIHktYXhpcywgYXJvdW5kIHRoZSByb3RhdGlvblxuICAgICAqIGNlbnRlci5cbiAgICAgKi9cbiAgICBzZXQgeWF3KHJhZGlhbnNZKSB7XG4gICAgICAgIHRoaXMucm90YXRpb24ueSA9IHJhZGlhbnNZO1xuICAgICAgICB0aGlzLnF1ZXVlUmVuZGVyKCk7XG4gICAgfVxuICAgIGdldCB5YXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uLnk7XG4gICAgfVxuICAgIHNldCBhbmltYXRpb25UaW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWl4ZXIuc2V0VGltZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMucXVldWVTaGFkb3dSZW5kZXIoKTtcbiAgICB9XG4gICAgZ2V0IGFuaW1hdGlvblRpbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbG9vcENvdW50ID0gTWF0aC5tYXgodGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uLl9sb29wQ291bnQsIDApO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbi5sb29wID09PSBMb29wUGluZ1BvbmcgJiZcbiAgICAgICAgICAgICAgICAobG9vcENvdW50ICYgMSkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdXJhdGlvbiAtIHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbi50aW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbi50aW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBzZXQgYW5pbWF0aW9uVGltZVNjYWxlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWl4ZXIudGltZVNjYWxlID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBhbmltYXRpb25UaW1lU2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1peGVyLnRpbWVTY2FsZTtcbiAgICB9XG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uICE9IG51bGwgJiZcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbi5nZXRDbGlwKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRBbmltYXRpb25BY3Rpb24uZ2V0Q2xpcCgpLmR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBnZXQgaGFzQWN0aXZlQW5pbWF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uICE9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBsYXlzIGFuIGFuaW1hdGlvbiBpZiB0aGVyZSBhcmUgYW55IGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBtb2RlbC5cbiAgICAgKiBBY2NlcHRzIGFuIG9wdGlvbmFsIHN0cmluZyBuYW1lIG9mIGFuIGFuaW1hdGlvbiB0byBwbGF5LiBJZiBubyBuYW1lIGlzXG4gICAgICogcHJvdmlkZWQsIG9yIGlmIG5vIGFuaW1hdGlvbiBpcyBmb3VuZCBieSB0aGUgZ2l2ZW4gbmFtZSwgYWx3YXlzIGZhbGxzIGJhY2tcbiAgICAgKiB0byBwbGF5aW5nIHRoZSBmaXJzdCBhbmltYXRpb24uXG4gICAgICovXG4gICAgcGxheUFuaW1hdGlvbihuYW1lID0gbnVsbCwgY3Jvc3NmYWRlVGltZSA9IDAsIGxvb3BNb2RlID0gTG9vcFJlcGVhdCwgcmVwZXRpdGlvbkNvdW50ID0gSW5maW5pdHkpIHtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRHTFRGID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGFuaW1hdGlvbnMgfSA9IHRoaXM7XG4gICAgICAgIGlmIChhbmltYXRpb25zID09IG51bGwgfHwgYW5pbWF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IHBsYXkgYW5pbWF0aW9uIChtb2RlbCBkb2VzIG5vdCBoYXZlIGFueSBhbmltYXRpb25zKWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhbmltYXRpb25DbGlwID0gbnVsbDtcbiAgICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgYW5pbWF0aW9uQ2xpcCA9IHRoaXMuYW5pbWF0aW9uc0J5TmFtZS5nZXQobmFtZSk7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uQ2xpcCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQW5pbWF0aW9uSW5kZXggPSBwYXJzZUludChuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZEFuaW1hdGlvbkluZGV4KSAmJiBwYXJzZWRBbmltYXRpb25JbmRleCA+PSAwICYmXG4gICAgICAgICAgICAgICAgICAgIHBhcnNlZEFuaW1hdGlvbkluZGV4IDwgYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uQ2xpcCA9IGFuaW1hdGlvbnNbcGFyc2VkQW5pbWF0aW9uSW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5pbWF0aW9uQ2xpcCA9PSBudWxsKSB7XG4gICAgICAgICAgICBhbmltYXRpb25DbGlwID0gYW5pbWF0aW9uc1swXTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBjdXJyZW50QW5pbWF0aW9uQWN0aW9uOiBsYXN0QW5pbWF0aW9uQWN0aW9uIH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5taXhlci5jbGlwQWN0aW9uKGFuaW1hdGlvbkNsaXAsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbWF0aW9uQWN0aW9uID0gYWN0aW9uO1xuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1peGVyLnN0b3BBbGxBY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFjdGlvbi5wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdEFuaW1hdGlvbkFjdGlvbiAhPSBudWxsICYmIGFjdGlvbiAhPT0gbGFzdEFuaW1hdGlvbkFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb24uY3Jvc3NGYWRlRnJvbShsYXN0QW5pbWF0aW9uQWN0aW9uLCBjcm9zc2ZhZGVUaW1lLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uVGltZVNjYWxlID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWUgPT0gdGhpcy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3Igd2hhdCBJIGJlbGlldmUgaXMgYSB0aHJlZS5qcyBidWcuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0aW9uLnNldExvb3AobG9vcE1vZGUsIHJlcGV0aXRpb25Db3VudCk7XG4gICAgICAgICAgICBhY3Rpb24uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBhY3Rpb24uY2xhbXBXaGVuRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgYWN0aW9uLnBsYXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3BBbmltYXRpb24oKSB7XG4gICAgICAgIHRoaXMuY3VycmVudEFuaW1hdGlvbkFjdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMubWl4ZXIuc3RvcEFsbEFjdGlvbigpO1xuICAgIH1cbiAgICB1cGRhdGVBbmltYXRpb24oc3RlcCkge1xuICAgICAgICB0aGlzLm1peGVyLnVwZGF0ZShzdGVwKTtcbiAgICAgICAgdGhpcy5xdWV1ZVNoYWRvd1JlbmRlcigpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVNaXhlckV2ZW50KGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLm1peGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCBpZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGNoYW5nZWQgaW4gc3VjaCBhIHdheSB0aGF0IHRoZSBzaGFkb3cncyBzaGFwZVxuICAgICAqIGhhcyBjaGFuZ2VkIChub3QgYSByb3RhdGlvbiBhYm91dCB0aGUgWSBheGlzKS5cbiAgICAgKi9cbiAgICB1cGRhdGVTaGFkb3coKSB7XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuc2hhZG93O1xuICAgICAgICBpZiAoc2hhZG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZGUgPSB0aGlzLmVsZW1lbnQuYXJQbGFjZW1lbnQgPT09ICd3YWxsJyA/ICdiYWNrJyA6ICdib3R0b20nO1xuICAgICAgICAgICAgc2hhZG93LnNldFNjZW5lKHRoaXMsIHRoaXMuc2hhZG93U29mdG5lc3MsIHNpZGUpO1xuICAgICAgICAgICAgc2hhZG93Lm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW5kZXJTaGFkb3cocmVuZGVyZXIpIHtcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5zaGFkb3c7XG4gICAgICAgIGlmIChzaGFkb3cgIT0gbnVsbCAmJiBzaGFkb3cubmVlZHNVcGRhdGUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgc2hhZG93LnJlbmRlcihyZW5kZXJlciwgdGhpcyk7XG4gICAgICAgICAgICBzaGFkb3cubmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZVNoYWRvd1JlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93Lm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzaGFkb3cncyBpbnRlbnNpdHksIGxhemlseSBjcmVhdGluZyB0aGUgc2hhZG93IGFzIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBzZXRTaGFkb3dJbnRlbnNpdHkoc2hhZG93SW50ZW5zaXR5KSB7XG4gICAgICAgIHRoaXMuc2hhZG93SW50ZW5zaXR5ID0gc2hhZG93SW50ZW5zaXR5O1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudEdMVEYgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0QmFrZWRTaGFkb3dWaXNpYmlsaXR5KCk7XG4gICAgICAgIGlmIChzaGFkb3dJbnRlbnNpdHkgPD0gMCAmJiB0aGlzLnNoYWRvdyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2hhZG93ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZGUgPSB0aGlzLmVsZW1lbnQuYXJQbGFjZW1lbnQgPT09ICd3YWxsJyA/ICdiYWNrJyA6ICdib3R0b20nO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cgPSBuZXcgU2hhZG93KHRoaXMsIHRoaXMuc2hhZG93U29mdG5lc3MsIHNpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2hhZG93LnNldEludGVuc2l0eShzaGFkb3dJbnRlbnNpdHkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzaGFkb3cncyBzb2Z0bmVzcyBieSBtYXBwaW5nIGEgWzAsIDFdIHNvZnRuZXNzIHBhcmFtZXRlciB0byB0aGVcbiAgICAgKiBzaGFkb3cncyByZXNvbHV0aW9uLiBUaGlzIGludm9sdmVzIHJlYWxsb2NhdGlvbiwgc28gaXQgc2hvdWxkIG5vdCBiZVxuICAgICAqIGNoYW5nZWQgZnJlcXVlbnRseS4gU29mdGVyIHNoYWRvd3MgYXJlIGNoZWFwZXIgdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIHNldFNoYWRvd1NvZnRuZXNzKHNvZnRuZXNzKSB7XG4gICAgICAgIHRoaXMuc2hhZG93U29mdG5lc3MgPSBzb2Z0bmVzcztcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5zaGFkb3c7XG4gICAgICAgIGlmIChzaGFkb3cgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2hhZG93LnNldFNvZnRuZXNzKHNvZnRuZXNzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaGlmdCB0aGUgZmxvb3IgdmVydGljYWxseSBmcm9tIHRoZSBib3R0b20gb2YgdGhlIG1vZGVsJ3MgYm91bmRpbmcgYm94IGJ5XG4gICAgICogb2Zmc2V0IChzaG91bGQgZ2VuZXJhbGx5IGJlIG5lZ2F0aXZlKS5cbiAgICAgKi9cbiAgICBzZXRTaGFkb3dPZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuc2hhZG93O1xuICAgICAgICBpZiAoc2hhZG93ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNoYWRvdy5zZXRPZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcmF5Y2FzdGVyKCkge1xuICAgICAgICByZXR1cm4gcmF5Y2FzdGVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSB3b3JsZCBwb3NpdGlvbiwgbW9kZWwtc3BhY2Ugbm9ybWFsIGFuZCB0ZXh0dXJlXG4gICAgICogY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgb24gdGhlIG1lc2ggY29ycmVzcG9uZGluZyB0byB0aGUgaW5wdXQgcGl4ZWxcbiAgICAgKiBjb29yZGluYXRlcyBnaXZlbiByZWxhdGl2ZSB0byB0aGUgbW9kZWwtdmlld2VyIGVsZW1lbnQuIElmIHRoZSBtZXNoXG4gICAgICogaXMgbm90IGhpdCwgdGhlIHJlc3VsdCBpcyBudWxsLlxuICAgICAqL1xuICAgIHBvc2l0aW9uQW5kTm9ybWFsRnJvbVBvaW50KG5kY1Bvc2l0aW9uLCBvYmplY3QgPSB0aGlzKSB7XG4gICAgICAgIHRoaXMucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEobmRjUG9zaXRpb24sIHRoaXMuZ2V0Q2FtZXJhKCkpO1xuICAgICAgICBjb25zdCBoaXRzID0gdGhpcy5yYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0KG9iamVjdCwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGhpdCA9IGhpdHMuZmluZCgoaGl0KSA9PiBoaXQub2JqZWN0LnZpc2libGUgJiYgIWhpdC5vYmplY3QudXNlckRhdGEuc2hhZG93KTtcbiAgICAgICAgaWYgKGhpdCA9PSBudWxsIHx8IGhpdC5mYWNlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoaXQudXYgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcG9zaXRpb246IGhpdC5wb2ludCwgbm9ybWFsOiBoaXQuZmFjZS5ub3JtYWwsIHV2OiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgaGl0LmZhY2Uubm9ybWFsLmFwcGx5Tm9ybWFsTWF0cml4KG5ldyBNYXRyaXgzKCkuZ2V0Tm9ybWFsTWF0cml4KGhpdC5vYmplY3QubWF0cml4V29ybGQpKTtcbiAgICAgICAgcmV0dXJuIHsgcG9zaXRpb246IGhpdC5wb2ludCwgbm9ybWFsOiBoaXQuZmFjZS5ub3JtYWwsIHV2OiBoaXQudXYgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZvbGxvd2luZyBtZXRob2RzIGFyZSBmb3Igb3BlcmF0aW5nIG9uIHRoZSBzZXQgb2YgSG90c3BvdCBvYmplY3RzXG4gICAgICogYXR0YWNoZWQgdG8gdGhlIHNjZW5lLiBUaGVzZSBjb21lIGZyb20gRE9NIGVsZW1lbnRzLCBwcm92aWRlZCB0byBzbG90cyBieVxuICAgICAqIHRoZSBBbm5vdGF0aW9uIE1peGluLlxuICAgICAqL1xuICAgIGFkZEhvdHNwb3QoaG90c3BvdCkge1xuICAgICAgICB0aGlzLnRhcmdldC5hZGQoaG90c3BvdCk7XG4gICAgICAgIC8vIFRoaXMgaGFwcGVucyBhdXRvbWF0aWNhbGx5IGluIHJlbmRlcigpLCBidXQgd2UgZG8gaXQgZWFybHkgc28gdGhhdFxuICAgICAgICAvLyB0aGUgc2xvdHMgYXBwZWFyIGluIHRoZSBzaGFkb3cgRE9NIGFuZCB0aGUgZWxlbWVudHMgZ2V0IGF0dGFjaGVkLFxuICAgICAgICAvLyBhbGxvd2luZyB1cyB0byBkaXNwYXRjaCBldmVudHMgb24gdGhlbS5cbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uUmVuZGVyZXIuZG9tRWxlbWVudC5hcHBlbmRDaGlsZChob3RzcG90LmVsZW1lbnQpO1xuICAgIH1cbiAgICByZW1vdmVIb3RzcG90KGhvdHNwb3QpIHtcbiAgICAgICAgdGhpcy50YXJnZXQucmVtb3ZlKGhvdHNwb3QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHRvIGFwcGx5IGEgZnVuY3Rpb24gdG8gYWxsIGhvdHNwb3RzLlxuICAgICAqL1xuICAgIGZvckhvdHNwb3RzKGZ1bmMpIHtcbiAgICAgICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gdGhpcy50YXJnZXQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBob3RzcG90ID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoaG90c3BvdCBpbnN0YW5jZW9mIEhvdHNwb3QpIHtcbiAgICAgICAgICAgICAgICBmdW5jKGhvdHNwb3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgQ1NTIHZpc2liaWxpdHkgb2YgdGhlIGhvdHNwb3RzIGJhc2VkIG9uIHdoZXRoZXIgdGhlaXIgbm9ybWFsc1xuICAgICAqIHBvaW50IHRvd2FyZCB0aGUgY2FtZXJhLlxuICAgICAqL1xuICAgIHVwZGF0ZUhvdHNwb3RzKHZpZXdlclBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuZm9ySG90c3BvdHMoKGhvdHNwb3QpID0+IHtcbiAgICAgICAgICAgIHZpZXcuY29weSh2aWV3ZXJQb3NpdGlvbik7XG4gICAgICAgICAgICB0YXJnZXQuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGhvdHNwb3QubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgdmlldy5zdWIodGFyZ2V0KTtcbiAgICAgICAgICAgIG5vcm1hbFdvcmxkLmNvcHkoaG90c3BvdC5ub3JtYWwpXG4gICAgICAgICAgICAgICAgLnRyYW5zZm9ybURpcmVjdGlvbih0aGlzLnRhcmdldC5tYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICBpZiAodmlldy5kb3Qobm9ybWFsV29ybGQpIDwgMCkge1xuICAgICAgICAgICAgICAgIGhvdHNwb3QuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG90c3BvdC5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgYWxsIGhvdHNwb3RzIHRvIGFuIGFic29sdXRlIG9yaWVudGF0aW9uIGdpdmVuIGJ5IHRoZSBpbnB1dCBudW1iZXIgb2ZcbiAgICAgKiByYWRpYW5zLiBaZXJvIHJldHVybnMgdGhlbSB0byB1cHJpZ2h0LlxuICAgICAqL1xuICAgIG9yaWVudEhvdHNwb3RzKHJhZGlhbnMpIHtcbiAgICAgICAgdGhpcy5mb3JIb3RzcG90cygoaG90c3BvdCkgPT4ge1xuICAgICAgICAgICAgaG90c3BvdC5vcmllbnQocmFkaWFucyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHJlbmRlcmluZyB2aXNpYmlsaXR5IG9mIGFsbCBob3RzcG90cy4gVGhpcyBpcyB1c2VkIHRvIGhpZGUgdGhlbVxuICAgICAqIGR1cmluZyB0cmFuc2l0aW9ucyBhbmQgc3VjaC5cbiAgICAgKi9cbiAgICBzZXRIb3RzcG90c1Zpc2liaWxpdHkodmlzaWJsZSkge1xuICAgICAgICB0aGlzLmZvckhvdHNwb3RzKChob3RzcG90KSA9PiB7XG4gICAgICAgICAgICBob3RzcG90LnZpc2libGUgPSB2aXNpYmxlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdXBkYXRlU2NoZW1hKHNyYykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHsgc2NoZW1hRWxlbWVudCwgZWxlbWVudCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBhbHQsIHBvc3RlciwgaW9zU3JjIH0gPSBlbGVtZW50O1xuICAgICAgICBpZiAoc3JjICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kaW5nID0gW3tcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ01lZGlhT2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFVybDogc3JjLFxuICAgICAgICAgICAgICAgICAgICBlbmNvZGluZ0Zvcm1hdDogKChfYSA9IHNyYy5zcGxpdCgnLicpLnBvcCgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKSkgPT09ICdnbHRmJyA/XG4gICAgICAgICAgICAgICAgICAgICAgICAnbW9kZWwvZ2x0Zitqc29uJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAnbW9kZWwvZ2x0Zi1iaW5hcnknXG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICBpZiAoaW9zU3JjKSB7XG4gICAgICAgICAgICAgICAgZW5jb2RpbmcucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdNZWRpYU9iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRVcmw6IGlvc1NyYyxcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RpbmdGb3JtYXQ6ICdtb2RlbC92bmQudXNkeit6aXAnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAnQGNvbnRleHQnOiAnaHR0cDovL3NjaGVtYS5vcmcvJyxcbiAgICAgICAgICAgICAgICAnQHR5cGUnOiAnM0RNb2RlbCcsXG4gICAgICAgICAgICAgICAgaW1hZ2U6IHBvc3RlciAhPT0gbnVsbCAmJiBwb3N0ZXIgIT09IHZvaWQgMCA/IHBvc3RlciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBhbHQgIT09IG51bGwgJiYgYWx0ICE9PSB2b2lkIDAgPyBhbHQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZW5jb2RpbmdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY2hlbWFFbGVtZW50LnRleHRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoc3RydWN0dXJlZERhdGEpO1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY2hlbWFFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzY2hlbWFFbGVtZW50LnBhcmVudEVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2NoZW1hRWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHNjaGVtYUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWxTY2VuZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelScene.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   moveChildren: () => (/* binding */ moveChildren),\n/* harmony export */   reduceVertices: () => (/* binding */ reduceVertices)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Moves Three.js objects from one parent to another\n */\nconst moveChildren = (from, to) => {\n    while (from.children.length) {\n        to.add(from.children.shift());\n    }\n};\n/**\n * Performs a reduction across all the vertices of the input model and all its\n * children. The supplied function takes the reduced value and a vertex and\n * returns the newly reduced value. The value is initialized as zero.\n *\n * Adapted from Three.js, @see https://github.com/mrdoob/three.js/blob/7e0a78beb9317e580d7fa4da9b5b12be051c6feb/src/math/Box3.js#L241\n */\nconst reduceVertices = (model, func, initialValue) => {\n    let value = initialValue;\n    const vertex = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3();\n    model.traverseVisible((object) => {\n        let i, l;\n        object.updateWorldMatrix(false, false);\n        const geometry = object.geometry;\n        if (geometry !== undefined) {\n            if (geometry.isGeometry) {\n                const vertices = geometry.vertices;\n                for (i = 0, l = vertices.length; i < l; i++) {\n                    vertex.copy(vertices[i]);\n                    if (object.isSkinnedMesh) {\n                        object.boneTransform(i, vertex);\n                    }\n                    else {\n                        vertex.applyMatrix4(object.matrixWorld);\n                    }\n                    value = func(value, vertex);\n                }\n            }\n            else if (geometry.isBufferGeometry) {\n                const { position } = geometry.attributes;\n                if (position !== undefined) {\n                    for (i = 0, l = position.count; i < l; i++) {\n                        vertex.fromBufferAttribute(position, i);\n                        if (object.isSkinnedMesh) {\n                            object.boneTransform(i, vertex);\n                        }\n                        else {\n                            vertex.applyMatrix4(object.matrixWorld);\n                        }\n                        value = func(value, vertex);\n                    }\n                }\n            }\n        }\n    });\n    return value;\n};\n//# sourceMappingURL=ModelUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvTW9kZWxVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2dDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSx1QkFBdUIsMENBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFdBQVc7QUFDbkM7QUFDQSxvREFBb0QsT0FBTztBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9Nb2RlbFV0aWxzLmpzPzdiYzUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ3RocmVlJztcbi8qKlxuICogTW92ZXMgVGhyZWUuanMgb2JqZWN0cyBmcm9tIG9uZSBwYXJlbnQgdG8gYW5vdGhlclxuICovXG5leHBvcnQgY29uc3QgbW92ZUNoaWxkcmVuID0gKGZyb20sIHRvKSA9PiB7XG4gICAgd2hpbGUgKGZyb20uY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHRvLmFkZChmcm9tLmNoaWxkcmVuLnNoaWZ0KCkpO1xuICAgIH1cbn07XG4vKipcbiAqIFBlcmZvcm1zIGEgcmVkdWN0aW9uIGFjcm9zcyBhbGwgdGhlIHZlcnRpY2VzIG9mIHRoZSBpbnB1dCBtb2RlbCBhbmQgYWxsIGl0c1xuICogY2hpbGRyZW4uIFRoZSBzdXBwbGllZCBmdW5jdGlvbiB0YWtlcyB0aGUgcmVkdWNlZCB2YWx1ZSBhbmQgYSB2ZXJ0ZXggYW5kXG4gKiByZXR1cm5zIHRoZSBuZXdseSByZWR1Y2VkIHZhbHVlLiBUaGUgdmFsdWUgaXMgaW5pdGlhbGl6ZWQgYXMgemVyby5cbiAqXG4gKiBBZGFwdGVkIGZyb20gVGhyZWUuanMsIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iLzdlMGE3OGJlYjkzMTdlNTgwZDdmYTRkYTliNWIxMmJlMDUxYzZmZWIvc3JjL21hdGgvQm94My5qcyNMMjQxXG4gKi9cbmV4cG9ydCBjb25zdCByZWR1Y2VWZXJ0aWNlcyA9IChtb2RlbCwgZnVuYywgaW5pdGlhbFZhbHVlKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIGNvbnN0IHZlcnRleCA9IG5ldyBWZWN0b3IzKCk7XG4gICAgbW9kZWwudHJhdmVyc2VWaXNpYmxlKChvYmplY3QpID0+IHtcbiAgICAgICAgbGV0IGksIGw7XG4gICAgICAgIG9iamVjdC51cGRhdGVXb3JsZE1hdHJpeChmYWxzZSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG9iamVjdC5nZW9tZXRyeTtcbiAgICAgICAgaWYgKGdlb21ldHJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pc0dlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVydGljZXMgPSBnZW9tZXRyeS52ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gdmVydGljZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRleC5jb3B5KHZlcnRpY2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9iamVjdC5pc1NraW5uZWRNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuYm9uZVRyYW5zZm9ybShpLCB2ZXJ0ZXgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGV4LmFwcGx5TWF0cml4NChvYmplY3QubWF0cml4V29ybGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZnVuYyh2YWx1ZSwgdmVydGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnZW9tZXRyeS5pc0J1ZmZlckdlb21ldHJ5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBwb3NpdGlvbiB9ID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gcG9zaXRpb24uY291bnQ7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleC5mcm9tQnVmZmVyQXR0cmlidXRlKHBvc2l0aW9uLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaXNTa2lubmVkTWVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5ib25lVHJhbnNmb3JtKGksIHZlcnRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXguYXBwbHlNYXRyaXg0KG9iamVjdC5tYXRyaXhXb3JsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZ1bmModmFsdWUsIHZlcnRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWxVdGlscy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/ModelUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PlacementBox: () => (/* binding */ PlacementBox)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\nconst RADIUS = 0.2;\nconst LINE_WIDTH = 0.03;\nconst MAX_OPACITY = 0.75;\nconst SEGMENTS = 12;\nconst DELTA_PHI = Math.PI / (2 * SEGMENTS);\nconst vector2 = new three__WEBPACK_IMPORTED_MODULE_1__.Vector2();\n/**\n * Adds a quarter-annulus of vertices to the array, centered on cornerX,\n * cornerY.\n */\nconst addCorner = (vertices, cornerX, cornerY) => {\n    let phi = cornerX > 0 ? (cornerY > 0 ? 0 : -Math.PI / 2) :\n        (cornerY > 0 ? Math.PI / 2 : Math.PI);\n    for (let i = 0; i <= SEGMENTS; ++i) {\n        vertices.push(cornerX + (RADIUS - LINE_WIDTH) * Math.cos(phi), cornerY + (RADIUS - LINE_WIDTH) * Math.sin(phi), 0, cornerX + RADIUS * Math.cos(phi), cornerY + RADIUS * Math.sin(phi), 0);\n        phi += DELTA_PHI;\n    }\n};\n/**\n * This class is a set of two coincident planes. The first is just a cute box\n * outline with rounded corners and damped opacity to indicate the floor extents\n * of a scene. It is purposely larger than the scene's bounding box by RADIUS on\n * all sides so that small scenes are still visible / selectable. Its center is\n * actually carved out by vertices to ensure its fragment shader doesn't add\n * much time.\n *\n * The child plane is a simple plane with the same extents for use in hit\n * testing (translation is triggered when the touch hits the plane, rotation\n * otherwise).\n */\nclass PlacementBox extends three__WEBPACK_IMPORTED_MODULE_1__.Mesh {\n    constructor(scene, side) {\n        const geometry = new three__WEBPACK_IMPORTED_MODULE_1__.BufferGeometry();\n        const triangles = [];\n        const vertices = [];\n        const { size, boundingBox } = scene;\n        const x = size.x / 2;\n        const y = (side === 'back' ? size.y : size.z) / 2;\n        addCorner(vertices, x, y);\n        addCorner(vertices, -x, y);\n        addCorner(vertices, -x, -y);\n        addCorner(vertices, x, -y);\n        const numVertices = vertices.length / 3;\n        for (let i = 0; i < numVertices - 2; i += 2) {\n            triangles.push(i, i + 1, i + 3, i, i + 3, i + 2);\n        }\n        const i = numVertices - 2;\n        triangles.push(i, i + 1, 1, i, 1, 0);\n        geometry.setAttribute('position', new three__WEBPACK_IMPORTED_MODULE_1__.Float32BufferAttribute(vertices, 3));\n        geometry.setIndex(triangles);\n        super(geometry);\n        this.side = side;\n        const material = this.material;\n        material.side = three__WEBPACK_IMPORTED_MODULE_1__.DoubleSide;\n        material.transparent = true;\n        material.opacity = 0;\n        this.goalOpacity = 0;\n        this.opacityDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_0__.Damper();\n        this.hitPlane =\n            new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(new three__WEBPACK_IMPORTED_MODULE_1__.PlaneGeometry(2 * (x + RADIUS), 2 * (y + RADIUS)));\n        this.hitPlane.visible = false;\n        this.hitPlane.material.side = three__WEBPACK_IMPORTED_MODULE_1__.DoubleSide;\n        this.add(this.hitPlane);\n        boundingBox.getCenter(this.position);\n        switch (side) {\n            case 'bottom':\n                this.rotateX(-Math.PI / 2);\n                this.shadowHeight = boundingBox.min.y;\n                this.position.y = this.shadowHeight;\n                break;\n            case 'back':\n                this.shadowHeight = boundingBox.min.z;\n                this.position.z = this.shadowHeight;\n        }\n        scene.target.add(this);\n        this.offsetHeight = 0;\n    }\n    /**\n     * Get the world hit position if the touch coordinates hit the box, and null\n     * otherwise. Pass the scene in to get access to its raycaster.\n     */\n    getHit(scene, screenX, screenY) {\n        vector2.set(screenX, -screenY);\n        this.hitPlane.visible = true;\n        const hitResult = scene.positionAndNormalFromPoint(vector2, this.hitPlane);\n        this.hitPlane.visible = false;\n        return hitResult == null ? null : hitResult.position;\n    }\n    getExpandedHit(scene, screenX, screenY) {\n        this.hitPlane.scale.set(1000, 1000, 1000);\n        this.hitPlane.updateMatrixWorld();\n        const hitResult = this.getHit(scene, screenX, screenY);\n        this.hitPlane.scale.set(1, 1, 1);\n        return hitResult;\n    }\n    /**\n     * Offset the height of the box relative to the bottom of the scene. Positive\n     * is up, so generally only negative values are used.\n     */\n    set offsetHeight(offset) {\n        offset -= 0.001; // push 1 mm below shadow to avoid z-fighting\n        if (this.side === 'back') {\n            this.position.z = this.shadowHeight + offset;\n        }\n        else {\n            this.position.y = this.shadowHeight + offset;\n        }\n    }\n    get offsetHeight() {\n        if (this.side === 'back') {\n            return this.position.z - this.shadowHeight;\n        }\n        else {\n            return this.position.y - this.shadowHeight;\n        }\n    }\n    /**\n     * Set the box's visibility; it will fade in and out.\n     */\n    set show(visible) {\n        this.goalOpacity = visible ? MAX_OPACITY : 0;\n    }\n    /**\n     * Call on each frame with the frame delta to fade the box.\n     */\n    updateOpacity(delta) {\n        const material = this.material;\n        material.opacity =\n            this.opacityDamper.update(material.opacity, this.goalOpacity, delta, 1);\n        this.visible = material.opacity > 0;\n    }\n    /**\n     * Call this to clean up Three's cache when you remove the box.\n     */\n    dispose() {\n        var _a;\n        const { geometry, material } = this.hitPlane;\n        geometry.dispose();\n        material.dispose();\n        this.geometry.dispose();\n        this.material.dispose();\n        (_a = this.parent) === null || _a === void 0 ? void 0 : _a.remove(this);\n    }\n}\n//# sourceMappingURL=PlacementBox.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvUGxhY2VtZW50Qm94LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDeUc7QUFDcEU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwwQ0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHVDQUFJO0FBQ3RDO0FBQ0EsNkJBQTZCLGlEQUFjO0FBQzNDO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFCQUFxQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyx5REFBc0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkNBQVU7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDhDQUFNO0FBQ3ZDO0FBQ0EsZ0JBQWdCLHVDQUFJLEtBQUssZ0RBQWE7QUFDdEM7QUFDQSxzQ0FBc0MsNkNBQVU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL1BsYWNlbWVudEJveC5qcz8zOTAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEJ1ZmZlckdlb21ldHJ5LCBEb3VibGVTaWRlLCBGbG9hdDMyQnVmZmVyQXR0cmlidXRlLCBNZXNoLCBQbGFuZUdlb21ldHJ5LCBWZWN0b3IyIH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgRGFtcGVyIH0gZnJvbSAnLi9EYW1wZXIuanMnO1xuY29uc3QgUkFESVVTID0gMC4yO1xuY29uc3QgTElORV9XSURUSCA9IDAuMDM7XG5jb25zdCBNQVhfT1BBQ0lUWSA9IDAuNzU7XG5jb25zdCBTRUdNRU5UUyA9IDEyO1xuY29uc3QgREVMVEFfUEhJID0gTWF0aC5QSSAvICgyICogU0VHTUVOVFMpO1xuY29uc3QgdmVjdG9yMiA9IG5ldyBWZWN0b3IyKCk7XG4vKipcbiAqIEFkZHMgYSBxdWFydGVyLWFubnVsdXMgb2YgdmVydGljZXMgdG8gdGhlIGFycmF5LCBjZW50ZXJlZCBvbiBjb3JuZXJYLFxuICogY29ybmVyWS5cbiAqL1xuY29uc3QgYWRkQ29ybmVyID0gKHZlcnRpY2VzLCBjb3JuZXJYLCBjb3JuZXJZKSA9PiB7XG4gICAgbGV0IHBoaSA9IGNvcm5lclggPiAwID8gKGNvcm5lclkgPiAwID8gMCA6IC1NYXRoLlBJIC8gMikgOlxuICAgICAgICAoY29ybmVyWSA+IDAgPyBNYXRoLlBJIC8gMiA6IE1hdGguUEkpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IFNFR01FTlRTOyArK2kpIHtcbiAgICAgICAgdmVydGljZXMucHVzaChjb3JuZXJYICsgKFJBRElVUyAtIExJTkVfV0lEVEgpICogTWF0aC5jb3MocGhpKSwgY29ybmVyWSArIChSQURJVVMgLSBMSU5FX1dJRFRIKSAqIE1hdGguc2luKHBoaSksIDAsIGNvcm5lclggKyBSQURJVVMgKiBNYXRoLmNvcyhwaGkpLCBjb3JuZXJZICsgUkFESVVTICogTWF0aC5zaW4ocGhpKSwgMCk7XG4gICAgICAgIHBoaSArPSBERUxUQV9QSEk7XG4gICAgfVxufTtcbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhIHNldCBvZiB0d28gY29pbmNpZGVudCBwbGFuZXMuIFRoZSBmaXJzdCBpcyBqdXN0IGEgY3V0ZSBib3hcbiAqIG91dGxpbmUgd2l0aCByb3VuZGVkIGNvcm5lcnMgYW5kIGRhbXBlZCBvcGFjaXR5IHRvIGluZGljYXRlIHRoZSBmbG9vciBleHRlbnRzXG4gKiBvZiBhIHNjZW5lLiBJdCBpcyBwdXJwb3NlbHkgbGFyZ2VyIHRoYW4gdGhlIHNjZW5lJ3MgYm91bmRpbmcgYm94IGJ5IFJBRElVUyBvblxuICogYWxsIHNpZGVzIHNvIHRoYXQgc21hbGwgc2NlbmVzIGFyZSBzdGlsbCB2aXNpYmxlIC8gc2VsZWN0YWJsZS4gSXRzIGNlbnRlciBpc1xuICogYWN0dWFsbHkgY2FydmVkIG91dCBieSB2ZXJ0aWNlcyB0byBlbnN1cmUgaXRzIGZyYWdtZW50IHNoYWRlciBkb2Vzbid0IGFkZFxuICogbXVjaCB0aW1lLlxuICpcbiAqIFRoZSBjaGlsZCBwbGFuZSBpcyBhIHNpbXBsZSBwbGFuZSB3aXRoIHRoZSBzYW1lIGV4dGVudHMgZm9yIHVzZSBpbiBoaXRcbiAqIHRlc3RpbmcgKHRyYW5zbGF0aW9uIGlzIHRyaWdnZXJlZCB3aGVuIHRoZSB0b3VjaCBoaXRzIHRoZSBwbGFuZSwgcm90YXRpb25cbiAqIG90aGVyd2lzZSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGFjZW1lbnRCb3ggZXh0ZW5kcyBNZXNoIHtcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgc2lkZSkge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xuICAgICAgICBjb25zdCB0cmlhbmdsZXMgPSBbXTtcbiAgICAgICAgY29uc3QgdmVydGljZXMgPSBbXTtcbiAgICAgICAgY29uc3QgeyBzaXplLCBib3VuZGluZ0JveCB9ID0gc2NlbmU7XG4gICAgICAgIGNvbnN0IHggPSBzaXplLnggLyAyO1xuICAgICAgICBjb25zdCB5ID0gKHNpZGUgPT09ICdiYWNrJyA/IHNpemUueSA6IHNpemUueikgLyAyO1xuICAgICAgICBhZGRDb3JuZXIodmVydGljZXMsIHgsIHkpO1xuICAgICAgICBhZGRDb3JuZXIodmVydGljZXMsIC14LCB5KTtcbiAgICAgICAgYWRkQ29ybmVyKHZlcnRpY2VzLCAteCwgLXkpO1xuICAgICAgICBhZGRDb3JuZXIodmVydGljZXMsIHgsIC15KTtcbiAgICAgICAgY29uc3QgbnVtVmVydGljZXMgPSB2ZXJ0aWNlcy5sZW5ndGggLyAzO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZlcnRpY2VzIC0gMjsgaSArPSAyKSB7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChpLCBpICsgMSwgaSArIDMsIGksIGkgKyAzLCBpICsgMik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaSA9IG51bVZlcnRpY2VzIC0gMjtcbiAgICAgICAgdHJpYW5nbGVzLnB1c2goaSwgaSArIDEsIDEsIGksIDEsIDApO1xuICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IEZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUodmVydGljZXMsIDMpKTtcbiAgICAgICAgZ2VvbWV0cnkuc2V0SW5kZXgodHJpYW5nbGVzKTtcbiAgICAgICAgc3VwZXIoZ2VvbWV0cnkpO1xuICAgICAgICB0aGlzLnNpZGUgPSBzaWRlO1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWw7XG4gICAgICAgIG1hdGVyaWFsLnNpZGUgPSBEb3VibGVTaWRlO1xuICAgICAgICBtYXRlcmlhbC50cmFuc3BhcmVudCA9IHRydWU7XG4gICAgICAgIG1hdGVyaWFsLm9wYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLmdvYWxPcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5vcGFjaXR5RGFtcGVyID0gbmV3IERhbXBlcigpO1xuICAgICAgICB0aGlzLmhpdFBsYW5lID1cbiAgICAgICAgICAgIG5ldyBNZXNoKG5ldyBQbGFuZUdlb21ldHJ5KDIgKiAoeCArIFJBRElVUyksIDIgKiAoeSArIFJBRElVUykpKTtcbiAgICAgICAgdGhpcy5oaXRQbGFuZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGl0UGxhbmUubWF0ZXJpYWwuc2lkZSA9IERvdWJsZVNpZGU7XG4gICAgICAgIHRoaXMuYWRkKHRoaXMuaGl0UGxhbmUpO1xuICAgICAgICBib3VuZGluZ0JveC5nZXRDZW50ZXIodGhpcy5wb3NpdGlvbik7XG4gICAgICAgIHN3aXRjaCAoc2lkZSkge1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZVgoLU1hdGguUEkgLyAyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd0hlaWdodCA9IGJvdW5kaW5nQm94Lm1pbi55O1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueSA9IHRoaXMuc2hhZG93SGVpZ2h0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYmFjayc6XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFkb3dIZWlnaHQgPSBib3VuZGluZ0JveC5taW4uejtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnogPSB0aGlzLnNoYWRvd0hlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBzY2VuZS50YXJnZXQuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLm9mZnNldEhlaWdodCA9IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd29ybGQgaGl0IHBvc2l0aW9uIGlmIHRoZSB0b3VjaCBjb29yZGluYXRlcyBoaXQgdGhlIGJveCwgYW5kIG51bGxcbiAgICAgKiBvdGhlcndpc2UuIFBhc3MgdGhlIHNjZW5lIGluIHRvIGdldCBhY2Nlc3MgdG8gaXRzIHJheWNhc3Rlci5cbiAgICAgKi9cbiAgICBnZXRIaXQoc2NlbmUsIHNjcmVlblgsIHNjcmVlblkpIHtcbiAgICAgICAgdmVjdG9yMi5zZXQoc2NyZWVuWCwgLXNjcmVlblkpO1xuICAgICAgICB0aGlzLmhpdFBsYW5lLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBjb25zdCBoaXRSZXN1bHQgPSBzY2VuZS5wb3NpdGlvbkFuZE5vcm1hbEZyb21Qb2ludCh2ZWN0b3IyLCB0aGlzLmhpdFBsYW5lKTtcbiAgICAgICAgdGhpcy5oaXRQbGFuZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBoaXRSZXN1bHQgPT0gbnVsbCA/IG51bGwgOiBoaXRSZXN1bHQucG9zaXRpb247XG4gICAgfVxuICAgIGdldEV4cGFuZGVkSGl0KHNjZW5lLCBzY3JlZW5YLCBzY3JlZW5ZKSB7XG4gICAgICAgIHRoaXMuaGl0UGxhbmUuc2NhbGUuc2V0KDEwMDAsIDEwMDAsIDEwMDApO1xuICAgICAgICB0aGlzLmhpdFBsYW5lLnVwZGF0ZU1hdHJpeFdvcmxkKCk7XG4gICAgICAgIGNvbnN0IGhpdFJlc3VsdCA9IHRoaXMuZ2V0SGl0KHNjZW5lLCBzY3JlZW5YLCBzY3JlZW5ZKTtcbiAgICAgICAgdGhpcy5oaXRQbGFuZS5zY2FsZS5zZXQoMSwgMSwgMSk7XG4gICAgICAgIHJldHVybiBoaXRSZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9mZnNldCB0aGUgaGVpZ2h0IG9mIHRoZSBib3ggcmVsYXRpdmUgdG8gdGhlIGJvdHRvbSBvZiB0aGUgc2NlbmUuIFBvc2l0aXZlXG4gICAgICogaXMgdXAsIHNvIGdlbmVyYWxseSBvbmx5IG5lZ2F0aXZlIHZhbHVlcyBhcmUgdXNlZC5cbiAgICAgKi9cbiAgICBzZXQgb2Zmc2V0SGVpZ2h0KG9mZnNldCkge1xuICAgICAgICBvZmZzZXQgLT0gMC4wMDE7IC8vIHB1c2ggMSBtbSBiZWxvdyBzaGFkb3cgdG8gYXZvaWQgei1maWdodGluZ1xuICAgICAgICBpZiAodGhpcy5zaWRlID09PSAnYmFjaycpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24ueiA9IHRoaXMuc2hhZG93SGVpZ2h0ICsgb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdGhpcy5zaGFkb3dIZWlnaHQgKyBvZmZzZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9mZnNldEhlaWdodCgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2lkZSA9PT0gJ2JhY2snKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi56IC0gdGhpcy5zaGFkb3dIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55IC0gdGhpcy5zaGFkb3dIZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBib3gncyB2aXNpYmlsaXR5OyBpdCB3aWxsIGZhZGUgaW4gYW5kIG91dC5cbiAgICAgKi9cbiAgICBzZXQgc2hvdyh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuZ29hbE9wYWNpdHkgPSB2aXNpYmxlID8gTUFYX09QQUNJVFkgOiAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIG9uIGVhY2ggZnJhbWUgd2l0aCB0aGUgZnJhbWUgZGVsdGEgdG8gZmFkZSB0aGUgYm94LlxuICAgICAqL1xuICAgIHVwZGF0ZU9wYWNpdHkoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsO1xuICAgICAgICBtYXRlcmlhbC5vcGFjaXR5ID1cbiAgICAgICAgICAgIHRoaXMub3BhY2l0eURhbXBlci51cGRhdGUobWF0ZXJpYWwub3BhY2l0eSwgdGhpcy5nb2FsT3BhY2l0eSwgZGVsdGEsIDEpO1xuICAgICAgICB0aGlzLnZpc2libGUgPSBtYXRlcmlhbC5vcGFjaXR5ID4gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIHRvIGNsZWFuIHVwIFRocmVlJ3MgY2FjaGUgd2hlbiB5b3UgcmVtb3ZlIHRoZSBib3guXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB7IGdlb21ldHJ5LCBtYXRlcmlhbCB9ID0gdGhpcy5oaXRQbGFuZTtcbiAgICAgICAgZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICBtYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgKF9hID0gdGhpcy5wYXJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmUodGhpcyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGxhY2VtZW50Qm94LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/PlacementBox.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Renderer.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_POWER_PREFERENCE: () => (/* binding */ DEFAULT_POWER_PREFERENCE),\n/* harmony export */   Renderer: () => (/* binding */ Renderer)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _features_environment_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/environment.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/environment.js\");\n/* harmony import */ var _model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model-viewer-base.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/model-viewer-base.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _ARRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ARRenderer.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/ARRenderer.js\");\n/* harmony import */ var _CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CachingGLTFLoader.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/CachingGLTFLoader.js\");\n/* harmony import */ var _Debugger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Debugger.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Debugger.js\");\n/* harmony import */ var _gltf_instance_ModelViewerGLTFInstance_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./gltf-instance/ModelViewerGLTFInstance.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js\");\n/* harmony import */ var _TextureUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TextureUtils.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n\n\n\n\n\n// Between 0 and 1: larger means the average responds faster and is less smooth.\nconst DURATION_DECAY = 0.2;\nconst LOW_FRAME_DURATION_MS = 40;\nconst HIGH_FRAME_DURATION_MS = 60;\nconst MAX_AVG_CHANGE_MS = 5;\nconst SCALE_STEPS = [1, 0.79, 0.62, 0.5, 0.4, 0.31, 0.25];\nconst DEFAULT_LAST_STEP = 3;\nconst DEFAULT_POWER_PREFERENCE = 'high-performance';\n/**\n * Registers canvases with Canvas2DRenderingContexts and renders them\n * all in the same WebGLRenderingContext, spitting out textures to apply\n * to the canvases. Creates a fullscreen WebGL canvas that is not added\n * to the DOM, and on each frame, renders each registered canvas on a portion\n * of the WebGL canvas, and applies the texture on the registered canvas.\n *\n * In the future, can use ImageBitmapRenderingContext instead of\n * Canvas2DRenderingContext if supported for cheaper transferring of\n * the texture.\n */\nclass Renderer extends three__WEBPACK_IMPORTED_MODULE_8__.EventDispatcher {\n    constructor(options) {\n        super();\n        this.loader = new _CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_4__.CachingGLTFLoader(_gltf_instance_ModelViewerGLTFInstance_js__WEBPACK_IMPORTED_MODULE_6__.ModelViewerGLTFInstance);\n        this.width = 0;\n        this.height = 0;\n        this.dpr = 1;\n        this.debugger = null;\n        this.scenes = new Set();\n        this.multipleScenesVisible = false;\n        this.lastTick = performance.now();\n        this.renderedLastFrame = false;\n        this.scaleStep = 0;\n        this.lastStep = DEFAULT_LAST_STEP;\n        this.avgFrameDuration = (HIGH_FRAME_DURATION_MS + LOW_FRAME_DURATION_MS) / 2;\n        this.onWebGLContextLost = (event) => {\n            this.dispatchEvent({ type: 'contextlost', sourceEvent: event });\n        };\n        this.onWebGLContextRestored = () => {\n            var _a;\n            (_a = this.textureUtils) === null || _a === void 0 ? void 0 : _a.dispose();\n            this.textureUtils = new _TextureUtils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this.threeRenderer);\n            for (const scene of this.scenes) {\n                scene.element[_features_environment_js__WEBPACK_IMPORTED_MODULE_0__.$updateEnvironment]();\n            }\n        };\n        this.dpr = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.resolveDpr)();\n        this.canvas3D = document.createElement('canvas');\n        this.canvas3D.id = 'webgl-canvas';\n        this.canvas3D.classList.add('show');\n        try {\n            this.threeRenderer = new three__WEBPACK_IMPORTED_MODULE_8__.WebGLRenderer({\n                canvas: this.canvas3D,\n                alpha: true,\n                antialias: true,\n                powerPreference: options.powerPreference,\n                preserveDrawingBuffer: true\n            });\n            this.threeRenderer.autoClear = true;\n            this.threeRenderer.outputEncoding = three__WEBPACK_IMPORTED_MODULE_8__.sRGBEncoding;\n            this.threeRenderer.physicallyCorrectLights = true;\n            this.threeRenderer.setPixelRatio(1); // handle pixel ratio externally\n            this.debugger = !!options.debug ? new _Debugger_js__WEBPACK_IMPORTED_MODULE_5__.Debugger(this) : null;\n            this.threeRenderer.debug = { checkShaderErrors: !!this.debugger };\n            // ACESFilmicToneMapping appears to be the most \"saturated\",\n            // and similar to Filament's gltf-viewer.\n            this.threeRenderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_8__.ACESFilmicToneMapping;\n        }\n        catch (error) {\n            console.warn(error);\n        }\n        this.arRenderer = new _ARRenderer_js__WEBPACK_IMPORTED_MODULE_3__.ARRenderer(this);\n        this.textureUtils =\n            this.canRender ? new _TextureUtils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"](this.threeRenderer) : null;\n        _CachingGLTFLoader_js__WEBPACK_IMPORTED_MODULE_4__.CachingGLTFLoader.initializeKTX2Loader(this.threeRenderer);\n        this.canvas3D.addEventListener('webglcontextlost', this.onWebGLContextLost);\n        this.canvas3D.addEventListener('webglcontextrestored', this.onWebGLContextRestored);\n        this.updateRendererSize();\n    }\n    static get singleton() {\n        return this._singleton;\n    }\n    static resetSingleton() {\n        const elements = this._singleton.dispose();\n        for (const element of elements) {\n            element.disconnectedCallback();\n        }\n        this._singleton = new Renderer({\n            powerPreference: (self.ModelViewerElement || {})\n                .powerPreference ||\n                DEFAULT_POWER_PREFERENCE,\n            debug: (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.isDebugMode)()\n        });\n        for (const element of elements) {\n            element.connectedCallback();\n        }\n    }\n    get canRender() {\n        return this.threeRenderer != null;\n    }\n    get scaleFactor() {\n        return SCALE_STEPS[this.scaleStep];\n    }\n    set minScale(scale) {\n        let i = 1;\n        while (i < SCALE_STEPS.length) {\n            if (SCALE_STEPS[i] < scale) {\n                break;\n            }\n            ++i;\n        }\n        this.lastStep = i - 1;\n    }\n    registerScene(scene) {\n        this.scenes.add(scene);\n        scene.forceRescale();\n        const size = new three__WEBPACK_IMPORTED_MODULE_8__.Vector2();\n        this.threeRenderer.getSize(size);\n        scene.canvas.width = size.x;\n        scene.canvas.height = size.y;\n        if (this.canRender && this.scenes.size > 0) {\n            this.threeRenderer.setAnimationLoop((time, frame) => this.render(time, frame));\n        }\n        if (this.debugger != null) {\n            this.debugger.addScene(scene);\n        }\n    }\n    unregisterScene(scene) {\n        this.scenes.delete(scene);\n        if (this.canvas3D.parentElement === scene.canvas.parentElement) {\n            scene.canvas.parentElement.removeChild(this.canvas3D);\n        }\n        if (this.canRender && this.scenes.size === 0) {\n            this.threeRenderer.setAnimationLoop(null);\n        }\n        if (this.debugger != null) {\n            this.debugger.removeScene(scene);\n        }\n    }\n    displayCanvas(scene) {\n        return this.multipleScenesVisible ? scene.element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$canvas] : this.canvas3D;\n    }\n    /**\n     * The function enables an optimization, where when there is only a single\n     * <model-viewer> element, we can use the renderer's 3D canvas directly for\n     * display. Otherwise we need to use the element's 2D canvas and copy the\n     * renderer's result into it.\n     */\n    countVisibleScenes() {\n        const { canvas3D } = this;\n        let visibleScenes = 0;\n        let canvas3DScene = null;\n        for (const scene of this.scenes) {\n            const { element } = scene;\n            if (element.modelIsVisible && scene.externalRenderer == null) {\n                ++visibleScenes;\n            }\n            if (canvas3D.parentElement === scene.canvas.parentElement) {\n                canvas3DScene = scene;\n            }\n        }\n        const multipleScenesVisible = visibleScenes > 1;\n        if (canvas3DScene != null) {\n            const newlyMultiple = multipleScenesVisible && !this.multipleScenesVisible;\n            const disappearing = !canvas3DScene.element.modelIsVisible;\n            if (newlyMultiple || disappearing) {\n                const { width, height } = this.sceneSize(canvas3DScene);\n                this.copyPixels(canvas3DScene, width, height);\n                canvas3D.parentElement.removeChild(canvas3D);\n            }\n        }\n        this.multipleScenesVisible = multipleScenesVisible;\n    }\n    /**\n     * Updates the renderer's size based on the largest scene and any changes to\n     * device pixel ratio.\n     */\n    updateRendererSize() {\n        const dpr = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.resolveDpr)();\n        if (dpr !== this.dpr) {\n            // If the device pixel ratio has changed due to page zoom, elements\n            // specified by % width do not fire a resize event even though their CSS\n            // pixel dimensions change, so we force them to update their size here.\n            for (const scene of this.scenes) {\n                const { element } = scene;\n                element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$updateSize](element.getBoundingClientRect());\n            }\n        }\n        // Make the renderer the size of the largest scene\n        let width = 0;\n        let height = 0;\n        for (const scene of this.scenes) {\n            width = Math.max(width, scene.width);\n            height = Math.max(height, scene.height);\n        }\n        if (width === this.width && height === this.height && dpr === this.dpr) {\n            return;\n        }\n        this.width = width;\n        this.height = height;\n        this.dpr = dpr;\n        width = Math.ceil(width * dpr);\n        height = Math.ceil(height * dpr);\n        if (this.canRender) {\n            this.threeRenderer.setSize(width, height, false);\n        }\n        // Each scene's canvas must match the renderer size. In general they can be\n        // larger than the element that contains them, but the overflow is hidden\n        // and only the portion that is shown is copied over.\n        for (const scene of this.scenes) {\n            const { canvas } = scene;\n            canvas.width = width;\n            canvas.height = height;\n            scene.forceRescale();\n        }\n    }\n    updateRendererScale(delta) {\n        const scaleStep = this.scaleStep;\n        this.avgFrameDuration += (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.clamp)(DURATION_DECAY * (delta - this.avgFrameDuration), -MAX_AVG_CHANGE_MS, MAX_AVG_CHANGE_MS);\n        if (this.avgFrameDuration > HIGH_FRAME_DURATION_MS) {\n            ++this.scaleStep;\n        }\n        else if (this.avgFrameDuration < LOW_FRAME_DURATION_MS && this.scaleStep > 0) {\n            --this.scaleStep;\n        }\n        this.scaleStep = Math.min(this.scaleStep, this.lastStep);\n        if (scaleStep !== this.scaleStep) {\n            this.avgFrameDuration =\n                (HIGH_FRAME_DURATION_MS + LOW_FRAME_DURATION_MS) / 2;\n        }\n    }\n    shouldRender(scene) {\n        if (!scene.shouldRender()) {\n            // The first frame we stop rendering the scene (because it stops moving),\n            // trigger one extra render at full scale.\n            if (scene.scaleStep != 0) {\n                scene.scaleStep = 0;\n                this.rescaleCanvas(scene);\n            }\n            else {\n                return false;\n            }\n        }\n        else if (scene.scaleStep != this.scaleStep) {\n            // Update render scale\n            scene.scaleStep = this.scaleStep;\n            this.rescaleCanvas(scene);\n        }\n        return true;\n    }\n    rescaleCanvas(scene) {\n        const scale = SCALE_STEPS[scene.scaleStep];\n        const width = Math.ceil(this.width / scale);\n        const height = Math.ceil(this.height / scale);\n        const { style } = scene.canvas;\n        style.width = `${width}px`;\n        style.height = `${height}px`;\n        this.canvas3D.style.width = `${width}px`;\n        this.canvas3D.style.height = `${height}px`;\n        const renderedDpr = this.dpr * scale;\n        const reason = scale < 1 ? 'GPU throttling' :\n            this.dpr !== window.devicePixelRatio ? 'No meta viewport tag' :\n                '';\n        scene.element.dispatchEvent(new CustomEvent('render-scale', {\n            detail: {\n                reportedDpr: window.devicePixelRatio,\n                renderedDpr: renderedDpr,\n                minimumDpr: this.dpr * SCALE_STEPS[this.lastStep],\n                pixelWidth: Math.ceil(scene.width * renderedDpr),\n                pixelHeight: Math.ceil(scene.height * renderedDpr),\n                reason: reason\n            }\n        }));\n    }\n    sceneSize(scene) {\n        const { dpr } = this;\n        const scaleFactor = SCALE_STEPS[scene.scaleStep];\n        // We avoid using the Three.js PixelRatio and handle it ourselves here so\n        // that we can do proper rounding and avoid white boundary pixels.\n        const width = Math.min(Math.ceil(scene.width * scaleFactor * dpr), this.canvas3D.width);\n        const height = Math.min(Math.ceil(scene.height * scaleFactor * dpr), this.canvas3D.height);\n        return { width, height };\n    }\n    copyPixels(scene, width, height) {\n        const context2D = scene.context;\n        if (context2D == null) {\n            console.log('could not acquire 2d context');\n            return;\n        }\n        context2D.clearRect(0, 0, width, height);\n        context2D.drawImage(this.canvas3D, 0, 0, width, height, 0, 0, width, height);\n        scene.canvas.classList.add('show');\n    }\n    /**\n     * Returns an array version of this.scenes where the non-visible ones are\n     * first. This allows eager scenes to be rendered before they are visible,\n     * without needing the multi-canvas render path.\n     */\n    orderedScenes() {\n        const scenes = [];\n        for (const visible of [false, true]) {\n            for (const scene of this.scenes) {\n                if (scene.element.modelIsVisible === visible) {\n                    scenes.push(scene);\n                }\n            }\n        }\n        return scenes;\n    }\n    get isPresenting() {\n        return this.arRenderer.isPresenting;\n    }\n    /**\n     * This method takes care of updating the element and renderer state based on\n     * the time that has passed since the last rendered frame.\n     */\n    preRender(scene, t, delta) {\n        const { element, exposure } = scene;\n        element[_model_viewer_base_js__WEBPACK_IMPORTED_MODULE_1__.$tick](t, delta);\n        const exposureIsNumber = typeof exposure === 'number' && !Number.isNaN(exposure);\n        this.threeRenderer.toneMappingExposure = exposureIsNumber ? exposure : 1.0;\n    }\n    render(t, frame) {\n        if (frame != null) {\n            this.arRenderer.onWebXRFrame(t, frame);\n            return;\n        }\n        const delta = t - this.lastTick;\n        this.lastTick = t;\n        if (!this.canRender || this.isPresenting) {\n            return;\n        }\n        this.countVisibleScenes();\n        this.updateRendererSize();\n        if (this.renderedLastFrame) {\n            this.updateRendererScale(delta);\n            this.renderedLastFrame = false;\n        }\n        const { canvas3D } = this;\n        for (const scene of this.orderedScenes()) {\n            const { element } = scene;\n            if (!element.loaded ||\n                (!element.modelIsVisible && scene.renderCount > 0)) {\n                continue;\n            }\n            this.preRender(scene, t, delta);\n            if (!this.shouldRender(scene)) {\n                continue;\n            }\n            if (scene.externalRenderer != null) {\n                const camera = scene.getCamera();\n                camera.updateMatrix();\n                const { matrix, projectionMatrix } = camera;\n                const viewMatrix = matrix.elements.slice();\n                const target = scene.getTarget();\n                viewMatrix[12] += target.x;\n                viewMatrix[13] += target.y;\n                viewMatrix[14] += target.z;\n                scene.externalRenderer.render({\n                    viewMatrix: viewMatrix,\n                    projectionMatrix: projectionMatrix.elements\n                });\n                continue;\n            }\n            if (!element.modelIsVisible && !this.multipleScenesVisible) {\n                // Here we are pre-rendering on the visible canvas, so we must mark the\n                // visible scene dirty to ensure it overwrites us.\n                for (const visibleScene of this.scenes) {\n                    if (visibleScene.element.modelIsVisible) {\n                        visibleScene.queueRender();\n                    }\n                }\n            }\n            const { width, height } = this.sceneSize(scene);\n            scene.renderShadow(this.threeRenderer);\n            // Need to set the render target in order to prevent\n            // clearing the depth from a different buffer\n            this.threeRenderer.setRenderTarget(null);\n            this.threeRenderer.setViewport(0, Math.ceil(this.height * this.dpr) - height, width, height);\n            this.threeRenderer.render(scene, scene.camera);\n            if (this.multipleScenesVisible || scene.renderCount === 0) {\n                this.copyPixels(scene, width, height);\n            }\n            else {\n                if (canvas3D.parentElement !== scene.canvas.parentElement) {\n                    scene.canvas.parentElement.appendChild(canvas3D);\n                    scene.canvas.classList.remove('show');\n                }\n            }\n            scene.hasRendered();\n            ++scene.renderCount;\n            this.renderedLastFrame = true;\n        }\n    }\n    dispose() {\n        if (this.textureUtils != null) {\n            this.textureUtils.dispose();\n        }\n        if (this.threeRenderer != null) {\n            this.threeRenderer.dispose();\n        }\n        this.textureUtils = null;\n        this.threeRenderer = null;\n        const elements = [];\n        for (const scene of this.scenes) {\n            elements.push(scene.element);\n        }\n        this.canvas3D.removeEventListener('webglcontextlost', this.onWebGLContextLost);\n        this.canvas3D.removeEventListener('webglcontextrestored', this.onWebGLContextRestored);\n        return elements;\n    }\n}\nRenderer._singleton = new Renderer({\n    powerPreference: (self.ModelViewerElement || {})\n        .powerPreference ||\n        DEFAULT_POWER_PREFERENCE,\n    debug: (0,_utilities_js__WEBPACK_IMPORTED_MODULE_2__.isDebugMode)()\n});\n//# sourceMappingURL=Renderer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvUmVuZGVyZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3FHO0FBQ3JDO0FBQ007QUFDTDtBQUNwQjtBQUNjO0FBQ2xCO0FBQzRDO0FBQ3hDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sdUJBQXVCLGtEQUFlO0FBQzdDO0FBQ0E7QUFDQSwwQkFBMEIsb0VBQWlCLENBQUMsOEZBQXVCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx5Q0FBeUM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0RBQVk7QUFDaEQ7QUFDQSw4QkFBOEIsd0VBQWtCO0FBQ2hEO0FBQ0E7QUFDQSxtQkFBbUIseURBQVU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZ0RBQWE7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdEQUFnRCwrQ0FBWTtBQUM1RDtBQUNBLGlEQUFpRDtBQUNqRCxrREFBa0Qsa0RBQVE7QUFDMUQseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQSw2Q0FBNkMsd0RBQXFCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFVO0FBQ3hDO0FBQ0EsaUNBQWlDLHdEQUFZO0FBQzdDLFFBQVEsb0VBQWlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQSxtQkFBbUIsMERBQVc7QUFDOUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMENBQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCwwREFBTztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFdBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlEQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsVUFBVTtBQUNsQyx3QkFBd0IsOERBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0RBQUs7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCLHlCQUF5QixNQUFNO0FBQy9CLDBCQUEwQixPQUFPO0FBQ2pDLHVDQUF1QyxNQUFNO0FBQzdDLHdDQUF3QyxPQUFPO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isb0JBQW9CO0FBQ3BDLGdCQUFnQix3REFBSztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixXQUFXO0FBQzNCO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwyQkFBMkI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBLFdBQVcsMERBQVc7QUFDdEIsQ0FBQztBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9SZW5kZXJlci5qcz8zNTQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEFDRVNGaWxtaWNUb25lTWFwcGluZywgRXZlbnREaXNwYXRjaGVyLCBzUkdCRW5jb2RpbmcsIFZlY3RvcjIsIFdlYkdMUmVuZGVyZXIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyAkdXBkYXRlRW52aXJvbm1lbnQgfSBmcm9tICcuLi9mZWF0dXJlcy9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyAkY2FudmFzLCAkdGljaywgJHVwZGF0ZVNpemUgfSBmcm9tICcuLi9tb2RlbC12aWV3ZXItYmFzZS5qcyc7XG5pbXBvcnQgeyBjbGFtcCwgaXNEZWJ1Z01vZGUsIHJlc29sdmVEcHIgfSBmcm9tICcuLi91dGlsaXRpZXMuanMnO1xuaW1wb3J0IHsgQVJSZW5kZXJlciB9IGZyb20gJy4vQVJSZW5kZXJlci5qcyc7XG5pbXBvcnQgeyBDYWNoaW5nR0xURkxvYWRlciB9IGZyb20gJy4vQ2FjaGluZ0dMVEZMb2FkZXIuanMnO1xuaW1wb3J0IHsgRGVidWdnZXIgfSBmcm9tICcuL0RlYnVnZ2VyLmpzJztcbmltcG9ydCB7IE1vZGVsVmlld2VyR0xURkluc3RhbmNlIH0gZnJvbSAnLi9nbHRmLWluc3RhbmNlL01vZGVsVmlld2VyR0xURkluc3RhbmNlLmpzJztcbmltcG9ydCBUZXh0dXJlVXRpbHMgZnJvbSAnLi9UZXh0dXJlVXRpbHMuanMnO1xuLy8gQmV0d2VlbiAwIGFuZCAxOiBsYXJnZXIgbWVhbnMgdGhlIGF2ZXJhZ2UgcmVzcG9uZHMgZmFzdGVyIGFuZCBpcyBsZXNzIHNtb290aC5cbmNvbnN0IERVUkFUSU9OX0RFQ0FZID0gMC4yO1xuY29uc3QgTE9XX0ZSQU1FX0RVUkFUSU9OX01TID0gNDA7XG5jb25zdCBISUdIX0ZSQU1FX0RVUkFUSU9OX01TID0gNjA7XG5jb25zdCBNQVhfQVZHX0NIQU5HRV9NUyA9IDU7XG5jb25zdCBTQ0FMRV9TVEVQUyA9IFsxLCAwLjc5LCAwLjYyLCAwLjUsIDAuNCwgMC4zMSwgMC4yNV07XG5jb25zdCBERUZBVUxUX0xBU1RfU1RFUCA9IDM7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1dFUl9QUkVGRVJFTkNFID0gJ2hpZ2gtcGVyZm9ybWFuY2UnO1xuLyoqXG4gKiBSZWdpc3RlcnMgY2FudmFzZXMgd2l0aCBDYW52YXMyRFJlbmRlcmluZ0NvbnRleHRzIGFuZCByZW5kZXJzIHRoZW1cbiAqIGFsbCBpbiB0aGUgc2FtZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHNwaXR0aW5nIG91dCB0ZXh0dXJlcyB0byBhcHBseVxuICogdG8gdGhlIGNhbnZhc2VzLiBDcmVhdGVzIGEgZnVsbHNjcmVlbiBXZWJHTCBjYW52YXMgdGhhdCBpcyBub3QgYWRkZWRcbiAqIHRvIHRoZSBET00sIGFuZCBvbiBlYWNoIGZyYW1lLCByZW5kZXJzIGVhY2ggcmVnaXN0ZXJlZCBjYW52YXMgb24gYSBwb3J0aW9uXG4gKiBvZiB0aGUgV2ViR0wgY2FudmFzLCBhbmQgYXBwbGllcyB0aGUgdGV4dHVyZSBvbiB0aGUgcmVnaXN0ZXJlZCBjYW52YXMuXG4gKlxuICogSW4gdGhlIGZ1dHVyZSwgY2FuIHVzZSBJbWFnZUJpdG1hcFJlbmRlcmluZ0NvbnRleHQgaW5zdGVhZCBvZlxuICogQ2FudmFzMkRSZW5kZXJpbmdDb250ZXh0IGlmIHN1cHBvcnRlZCBmb3IgY2hlYXBlciB0cmFuc2ZlcnJpbmcgb2ZcbiAqIHRoZSB0ZXh0dXJlLlxuICovXG5leHBvcnQgY2xhc3MgUmVuZGVyZXIgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBuZXcgQ2FjaGluZ0dMVEZMb2FkZXIoTW9kZWxWaWV3ZXJHTFRGSW5zdGFuY2UpO1xuICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLmRwciA9IDE7XG4gICAgICAgIHRoaXMuZGVidWdnZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNjZW5lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5tdWx0aXBsZVNjZW5lc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB0aGlzLnJlbmRlcmVkTGFzdEZyYW1lID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NhbGVTdGVwID0gMDtcbiAgICAgICAgdGhpcy5sYXN0U3RlcCA9IERFRkFVTFRfTEFTVF9TVEVQO1xuICAgICAgICB0aGlzLmF2Z0ZyYW1lRHVyYXRpb24gPSAoSElHSF9GUkFNRV9EVVJBVElPTl9NUyArIExPV19GUkFNRV9EVVJBVElPTl9NUykgLyAyO1xuICAgICAgICB0aGlzLm9uV2ViR0xDb250ZXh0TG9zdCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ2NvbnRleHRsb3N0Jywgc291cmNlRXZlbnQ6IGV2ZW50IH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uV2ViR0xDb250ZXh0UmVzdG9yZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLnRleHR1cmVVdGlscykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVV0aWxzID0gbmV3IFRleHR1cmVVdGlscyh0aGlzLnRocmVlUmVuZGVyZXIpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiB0aGlzLnNjZW5lcykge1xuICAgICAgICAgICAgICAgIHNjZW5lLmVsZW1lbnRbJHVwZGF0ZUVudmlyb25tZW50XSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRwciA9IHJlc29sdmVEcHIoKTtcbiAgICAgICAgdGhpcy5jYW52YXMzRCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLmNhbnZhczNELmlkID0gJ3dlYmdsLWNhbnZhcyc7XG4gICAgICAgIHRoaXMuY2FudmFzM0QuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyID0gbmV3IFdlYkdMUmVuZGVyZXIoe1xuICAgICAgICAgICAgICAgIGNhbnZhczogdGhpcy5jYW52YXMzRCxcbiAgICAgICAgICAgICAgICBhbHBoYTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiBvcHRpb25zLnBvd2VyUHJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLmF1dG9DbGVhciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIucGh5c2ljYWxseUNvcnJlY3RMaWdodHMgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldFBpeGVsUmF0aW8oMSk7IC8vIGhhbmRsZSBwaXhlbCByYXRpbyBleHRlcm5hbGx5XG4gICAgICAgICAgICB0aGlzLmRlYnVnZ2VyID0gISFvcHRpb25zLmRlYnVnID8gbmV3IERlYnVnZ2VyKHRoaXMpIDogbnVsbDtcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5kZWJ1ZyA9IHsgY2hlY2tTaGFkZXJFcnJvcnM6ICEhdGhpcy5kZWJ1Z2dlciB9O1xuICAgICAgICAgICAgLy8gQUNFU0ZpbG1pY1RvbmVNYXBwaW5nIGFwcGVhcnMgdG8gYmUgdGhlIG1vc3QgXCJzYXR1cmF0ZWRcIixcbiAgICAgICAgICAgIC8vIGFuZCBzaW1pbGFyIHRvIEZpbGFtZW50J3MgZ2x0Zi12aWV3ZXIuXG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIudG9uZU1hcHBpbmcgPSBBQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXJSZW5kZXJlciA9IG5ldyBBUlJlbmRlcmVyKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVVdGlscyA9XG4gICAgICAgICAgICB0aGlzLmNhblJlbmRlciA/IG5ldyBUZXh0dXJlVXRpbHModGhpcy50aHJlZVJlbmRlcmVyKSA6IG51bGw7XG4gICAgICAgIENhY2hpbmdHTFRGTG9hZGVyLmluaXRpYWxpemVLVFgyTG9hZGVyKHRoaXMudGhyZWVSZW5kZXJlcik7XG4gICAgICAgIHRoaXMuY2FudmFzM0QuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMub25XZWJHTENvbnRleHRMb3N0KTtcbiAgICAgICAgdGhpcy5jYW52YXMzRC5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMub25XZWJHTENvbnRleHRSZXN0b3JlZCk7XG4gICAgICAgIHRoaXMudXBkYXRlUmVuZGVyZXJTaXplKCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgc2luZ2xldG9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2luZ2xldG9uO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzZXRTaW5nbGV0b24oKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5fc2luZ2xldG9uLmRpc3Bvc2UoKTtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBlbGVtZW50LmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2luZ2xldG9uID0gbmV3IFJlbmRlcmVyKHtcbiAgICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogKHNlbGYuTW9kZWxWaWV3ZXJFbGVtZW50IHx8IHt9KVxuICAgICAgICAgICAgICAgIC5wb3dlclByZWZlcmVuY2UgfHxcbiAgICAgICAgICAgICAgICBERUZBVUxUX1BPV0VSX1BSRUZFUkVOQ0UsXG4gICAgICAgICAgICBkZWJ1ZzogaXNEZWJ1Z01vZGUoKVxuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGNhblJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhyZWVSZW5kZXJlciAhPSBudWxsO1xuICAgIH1cbiAgICBnZXQgc2NhbGVGYWN0b3IoKSB7XG4gICAgICAgIHJldHVybiBTQ0FMRV9TVEVQU1t0aGlzLnNjYWxlU3RlcF07XG4gICAgfVxuICAgIHNldCBtaW5TY2FsZShzY2FsZSkge1xuICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgIHdoaWxlIChpIDwgU0NBTEVfU1RFUFMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoU0NBTEVfU1RFUFNbaV0gPCBzY2FsZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKytpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdFN0ZXAgPSBpIC0gMTtcbiAgICB9XG4gICAgcmVnaXN0ZXJTY2VuZShzY2VuZSkge1xuICAgICAgICB0aGlzLnNjZW5lcy5hZGQoc2NlbmUpO1xuICAgICAgICBzY2VuZS5mb3JjZVJlc2NhbGUoKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IG5ldyBWZWN0b3IyKCk7XG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5nZXRTaXplKHNpemUpO1xuICAgICAgICBzY2VuZS5jYW52YXMud2lkdGggPSBzaXplLng7XG4gICAgICAgIHNjZW5lLmNhbnZhcy5oZWlnaHQgPSBzaXplLnk7XG4gICAgICAgIGlmICh0aGlzLmNhblJlbmRlciAmJiB0aGlzLnNjZW5lcy5zaXplID4gMCkge1xuICAgICAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyLnNldEFuaW1hdGlvbkxvb3AoKHRpbWUsIGZyYW1lKSA9PiB0aGlzLnJlbmRlcih0aW1lLCBmcmFtZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlYnVnZ2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdnZXIuYWRkU2NlbmUoc2NlbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVucmVnaXN0ZXJTY2VuZShzY2VuZSkge1xuICAgICAgICB0aGlzLnNjZW5lcy5kZWxldGUoc2NlbmUpO1xuICAgICAgICBpZiAodGhpcy5jYW52YXMzRC5wYXJlbnRFbGVtZW50ID09PSBzY2VuZS5jYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgc2NlbmUuY2FudmFzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMzRCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2FuUmVuZGVyICYmIHRoaXMuc2NlbmVzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRBbmltYXRpb25Mb29wKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRlYnVnZ2VyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGVidWdnZXIucmVtb3ZlU2NlbmUoc2NlbmUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3BsYXlDYW52YXMoc2NlbmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbGVTY2VuZXNWaXNpYmxlID8gc2NlbmUuZWxlbWVudFskY2FudmFzXSA6IHRoaXMuY2FudmFzM0Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiBlbmFibGVzIGFuIG9wdGltaXphdGlvbiwgd2hlcmUgd2hlbiB0aGVyZSBpcyBvbmx5IGEgc2luZ2xlXG4gICAgICogPG1vZGVsLXZpZXdlcj4gZWxlbWVudCwgd2UgY2FuIHVzZSB0aGUgcmVuZGVyZXIncyAzRCBjYW52YXMgZGlyZWN0bHkgZm9yXG4gICAgICogZGlzcGxheS4gT3RoZXJ3aXNlIHdlIG5lZWQgdG8gdXNlIHRoZSBlbGVtZW50J3MgMkQgY2FudmFzIGFuZCBjb3B5IHRoZVxuICAgICAqIHJlbmRlcmVyJ3MgcmVzdWx0IGludG8gaXQuXG4gICAgICovXG4gICAgY291bnRWaXNpYmxlU2NlbmVzKCkge1xuICAgICAgICBjb25zdCB7IGNhbnZhczNEIH0gPSB0aGlzO1xuICAgICAgICBsZXQgdmlzaWJsZVNjZW5lcyA9IDA7XG4gICAgICAgIGxldCBjYW52YXMzRFNjZW5lID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiB0aGlzLnNjZW5lcykge1xuICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSBzY2VuZTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lm1vZGVsSXNWaXNpYmxlICYmIHNjZW5lLmV4dGVybmFsUmVuZGVyZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICsrdmlzaWJsZVNjZW5lcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW52YXMzRC5wYXJlbnRFbGVtZW50ID09PSBzY2VuZS5jYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNhbnZhczNEU2NlbmUgPSBzY2VuZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtdWx0aXBsZVNjZW5lc1Zpc2libGUgPSB2aXNpYmxlU2NlbmVzID4gMTtcbiAgICAgICAgaWYgKGNhbnZhczNEU2NlbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgbmV3bHlNdWx0aXBsZSA9IG11bHRpcGxlU2NlbmVzVmlzaWJsZSAmJiAhdGhpcy5tdWx0aXBsZVNjZW5lc1Zpc2libGU7XG4gICAgICAgICAgICBjb25zdCBkaXNhcHBlYXJpbmcgPSAhY2FudmFzM0RTY2VuZS5lbGVtZW50Lm1vZGVsSXNWaXNpYmxlO1xuICAgICAgICAgICAgaWYgKG5ld2x5TXVsdGlwbGUgfHwgZGlzYXBwZWFyaW5nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjZW5lU2l6ZShjYW52YXMzRFNjZW5lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlQaXhlbHMoY2FudmFzM0RTY2VuZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgY2FudmFzM0QucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChjYW52YXMzRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tdWx0aXBsZVNjZW5lc1Zpc2libGUgPSBtdWx0aXBsZVNjZW5lc1Zpc2libGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHJlbmRlcmVyJ3Mgc2l6ZSBiYXNlZCBvbiB0aGUgbGFyZ2VzdCBzY2VuZSBhbmQgYW55IGNoYW5nZXMgdG9cbiAgICAgKiBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICovXG4gICAgdXBkYXRlUmVuZGVyZXJTaXplKCkge1xuICAgICAgICBjb25zdCBkcHIgPSByZXNvbHZlRHByKCk7XG4gICAgICAgIGlmIChkcHIgIT09IHRoaXMuZHByKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZGV2aWNlIHBpeGVsIHJhdGlvIGhhcyBjaGFuZ2VkIGR1ZSB0byBwYWdlIHpvb20sIGVsZW1lbnRzXG4gICAgICAgICAgICAvLyBzcGVjaWZpZWQgYnkgJSB3aWR0aCBkbyBub3QgZmlyZSBhIHJlc2l6ZSBldmVudCBldmVuIHRob3VnaCB0aGVpciBDU1NcbiAgICAgICAgICAgIC8vIHBpeGVsIGRpbWVuc2lvbnMgY2hhbmdlLCBzbyB3ZSBmb3JjZSB0aGVtIHRvIHVwZGF0ZSB0aGVpciBzaXplIGhlcmUuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNjZW5lIG9mIHRoaXMuc2NlbmVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSBzY2VuZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50WyR1cGRhdGVTaXplXShlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNYWtlIHRoZSByZW5kZXJlciB0aGUgc2l6ZSBvZiB0aGUgbGFyZ2VzdCBzY2VuZVxuICAgICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiB0aGlzLnNjZW5lcykge1xuICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgc2NlbmUud2lkdGgpO1xuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBzY2VuZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aWR0aCA9PT0gdGhpcy53aWR0aCAmJiBoZWlnaHQgPT09IHRoaXMuaGVpZ2h0ICYmIGRwciA9PT0gdGhpcy5kcHIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLmRwciA9IGRwcjtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGggKiBkcHIpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0ICogZHByKTtcbiAgICAgICAgaWYgKHRoaXMuY2FuUmVuZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWFjaCBzY2VuZSdzIGNhbnZhcyBtdXN0IG1hdGNoIHRoZSByZW5kZXJlciBzaXplLiBJbiBnZW5lcmFsIHRoZXkgY2FuIGJlXG4gICAgICAgIC8vIGxhcmdlciB0aGFuIHRoZSBlbGVtZW50IHRoYXQgY29udGFpbnMgdGhlbSwgYnV0IHRoZSBvdmVyZmxvdyBpcyBoaWRkZW5cbiAgICAgICAgLy8gYW5kIG9ubHkgdGhlIHBvcnRpb24gdGhhdCBpcyBzaG93biBpcyBjb3BpZWQgb3Zlci5cbiAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiB0aGlzLnNjZW5lcykge1xuICAgICAgICAgICAgY29uc3QgeyBjYW52YXMgfSA9IHNjZW5lO1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgc2NlbmUuZm9yY2VSZXNjYWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlUmVuZGVyZXJTY2FsZShkZWx0YSkge1xuICAgICAgICBjb25zdCBzY2FsZVN0ZXAgPSB0aGlzLnNjYWxlU3RlcDtcbiAgICAgICAgdGhpcy5hdmdGcmFtZUR1cmF0aW9uICs9IGNsYW1wKERVUkFUSU9OX0RFQ0FZICogKGRlbHRhIC0gdGhpcy5hdmdGcmFtZUR1cmF0aW9uKSwgLU1BWF9BVkdfQ0hBTkdFX01TLCBNQVhfQVZHX0NIQU5HRV9NUyk7XG4gICAgICAgIGlmICh0aGlzLmF2Z0ZyYW1lRHVyYXRpb24gPiBISUdIX0ZSQU1FX0RVUkFUSU9OX01TKSB7XG4gICAgICAgICAgICArK3RoaXMuc2NhbGVTdGVwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYXZnRnJhbWVEdXJhdGlvbiA8IExPV19GUkFNRV9EVVJBVElPTl9NUyAmJiB0aGlzLnNjYWxlU3RlcCA+IDApIHtcbiAgICAgICAgICAgIC0tdGhpcy5zY2FsZVN0ZXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2FsZVN0ZXAgPSBNYXRoLm1pbih0aGlzLnNjYWxlU3RlcCwgdGhpcy5sYXN0U3RlcCk7XG4gICAgICAgIGlmIChzY2FsZVN0ZXAgIT09IHRoaXMuc2NhbGVTdGVwKSB7XG4gICAgICAgICAgICB0aGlzLmF2Z0ZyYW1lRHVyYXRpb24gPVxuICAgICAgICAgICAgICAgIChISUdIX0ZSQU1FX0RVUkFUSU9OX01TICsgTE9XX0ZSQU1FX0RVUkFUSU9OX01TKSAvIDI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2hvdWxkUmVuZGVyKHNjZW5lKSB7XG4gICAgICAgIGlmICghc2NlbmUuc2hvdWxkUmVuZGVyKCkpIHtcbiAgICAgICAgICAgIC8vIFRoZSBmaXJzdCBmcmFtZSB3ZSBzdG9wIHJlbmRlcmluZyB0aGUgc2NlbmUgKGJlY2F1c2UgaXQgc3RvcHMgbW92aW5nKSxcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgb25lIGV4dHJhIHJlbmRlciBhdCBmdWxsIHNjYWxlLlxuICAgICAgICAgICAgaWYgKHNjZW5lLnNjYWxlU3RlcCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgc2NlbmUuc2NhbGVTdGVwID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2NhbGVDYW52YXMoc2NlbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjZW5lLnNjYWxlU3RlcCAhPSB0aGlzLnNjYWxlU3RlcCkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIHJlbmRlciBzY2FsZVxuICAgICAgICAgICAgc2NlbmUuc2NhbGVTdGVwID0gdGhpcy5zY2FsZVN0ZXA7XG4gICAgICAgICAgICB0aGlzLnJlc2NhbGVDYW52YXMoc2NlbmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXNjYWxlQ2FudmFzKHNjZW5lKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gU0NBTEVfU1RFUFNbc2NlbmUuc2NhbGVTdGVwXTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLmNlaWwodGhpcy53aWR0aCAvIHNjYWxlKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuaGVpZ2h0IC8gc2NhbGUpO1xuICAgICAgICBjb25zdCB7IHN0eWxlIH0gPSBzY2VuZS5jYW52YXM7XG4gICAgICAgIHN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICBzdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICB0aGlzLmNhbnZhczNELnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzLmNhbnZhczNELnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVkRHByID0gdGhpcy5kcHIgKiBzY2FsZTtcbiAgICAgICAgY29uc3QgcmVhc29uID0gc2NhbGUgPCAxID8gJ0dQVSB0aHJvdHRsaW5nJyA6XG4gICAgICAgICAgICB0aGlzLmRwciAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gPyAnTm8gbWV0YSB2aWV3cG9ydCB0YWcnIDpcbiAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgc2NlbmUuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncmVuZGVyLXNjYWxlJywge1xuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgcmVwb3J0ZWREcHI6IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgIHJlbmRlcmVkRHByOiByZW5kZXJlZERwcixcbiAgICAgICAgICAgICAgICBtaW5pbXVtRHByOiB0aGlzLmRwciAqIFNDQUxFX1NURVBTW3RoaXMubGFzdFN0ZXBdLFxuICAgICAgICAgICAgICAgIHBpeGVsV2lkdGg6IE1hdGguY2VpbChzY2VuZS53aWR0aCAqIHJlbmRlcmVkRHByKSxcbiAgICAgICAgICAgICAgICBwaXhlbEhlaWdodDogTWF0aC5jZWlsKHNjZW5lLmhlaWdodCAqIHJlbmRlcmVkRHByKSxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlYXNvblxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHNjZW5lU2l6ZShzY2VuZSkge1xuICAgICAgICBjb25zdCB7IGRwciB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc2NhbGVGYWN0b3IgPSBTQ0FMRV9TVEVQU1tzY2VuZS5zY2FsZVN0ZXBdO1xuICAgICAgICAvLyBXZSBhdm9pZCB1c2luZyB0aGUgVGhyZWUuanMgUGl4ZWxSYXRpbyBhbmQgaGFuZGxlIGl0IG91cnNlbHZlcyBoZXJlIHNvXG4gICAgICAgIC8vIHRoYXQgd2UgY2FuIGRvIHByb3BlciByb3VuZGluZyBhbmQgYXZvaWQgd2hpdGUgYm91bmRhcnkgcGl4ZWxzLlxuICAgICAgICBjb25zdCB3aWR0aCA9IE1hdGgubWluKE1hdGguY2VpbChzY2VuZS53aWR0aCAqIHNjYWxlRmFjdG9yICogZHByKSwgdGhpcy5jYW52YXMzRC53aWR0aCk7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWluKE1hdGguY2VpbChzY2VuZS5oZWlnaHQgKiBzY2FsZUZhY3RvciAqIGRwciksIHRoaXMuY2FudmFzM0QuaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCB9O1xuICAgIH1cbiAgICBjb3B5UGl4ZWxzKHNjZW5lLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQyRCA9IHNjZW5lLmNvbnRleHQ7XG4gICAgICAgIGlmIChjb250ZXh0MkQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NvdWxkIG5vdCBhY3F1aXJlIDJkIGNvbnRleHQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0MkQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBjb250ZXh0MkQuZHJhd0ltYWdlKHRoaXMuY2FudmFzM0QsIDAsIDAsIHdpZHRoLCBoZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBzY2VuZS5jYW52YXMuY2xhc3NMaXN0LmFkZCgnc2hvdycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IHZlcnNpb24gb2YgdGhpcy5zY2VuZXMgd2hlcmUgdGhlIG5vbi12aXNpYmxlIG9uZXMgYXJlXG4gICAgICogZmlyc3QuIFRoaXMgYWxsb3dzIGVhZ2VyIHNjZW5lcyB0byBiZSByZW5kZXJlZCBiZWZvcmUgdGhleSBhcmUgdmlzaWJsZSxcbiAgICAgKiB3aXRob3V0IG5lZWRpbmcgdGhlIG11bHRpLWNhbnZhcyByZW5kZXIgcGF0aC5cbiAgICAgKi9cbiAgICBvcmRlcmVkU2NlbmVzKCkge1xuICAgICAgICBjb25zdCBzY2VuZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB2aXNpYmxlIG9mIFtmYWxzZSwgdHJ1ZV0pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NlbmUuZWxlbWVudC5tb2RlbElzVmlzaWJsZSA9PT0gdmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBzY2VuZXMucHVzaChzY2VuZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2VuZXM7XG4gICAgfVxuICAgIGdldCBpc1ByZXNlbnRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyUmVuZGVyZXIuaXNQcmVzZW50aW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBjYXJlIG9mIHVwZGF0aW5nIHRoZSBlbGVtZW50IGFuZCByZW5kZXJlciBzdGF0ZSBiYXNlZCBvblxuICAgICAqIHRoZSB0aW1lIHRoYXQgaGFzIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCByZW5kZXJlZCBmcmFtZS5cbiAgICAgKi9cbiAgICBwcmVSZW5kZXIoc2NlbmUsIHQsIGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudCwgZXhwb3N1cmUgfSA9IHNjZW5lO1xuICAgICAgICBlbGVtZW50WyR0aWNrXSh0LCBkZWx0YSk7XG4gICAgICAgIGNvbnN0IGV4cG9zdXJlSXNOdW1iZXIgPSB0eXBlb2YgZXhwb3N1cmUgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4oZXhwb3N1cmUpO1xuICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IGV4cG9zdXJlSXNOdW1iZXIgPyBleHBvc3VyZSA6IDEuMDtcbiAgICB9XG4gICAgcmVuZGVyKHQsIGZyYW1lKSB7XG4gICAgICAgIGlmIChmcmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFyUmVuZGVyZXIub25XZWJYUkZyYW1lKHQsIGZyYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWx0YSA9IHQgLSB0aGlzLmxhc3RUaWNrO1xuICAgICAgICB0aGlzLmxhc3RUaWNrID0gdDtcbiAgICAgICAgaWYgKCF0aGlzLmNhblJlbmRlciB8fCB0aGlzLmlzUHJlc2VudGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY291bnRWaXNpYmxlU2NlbmVzKCk7XG4gICAgICAgIHRoaXMudXBkYXRlUmVuZGVyZXJTaXplKCk7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVkTGFzdEZyYW1lKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVJlbmRlcmVyU2NhbGUoZGVsdGEpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlZExhc3RGcmFtZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY2FudmFzM0QgfSA9IHRoaXM7XG4gICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgdGhpcy5vcmRlcmVkU2NlbmVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gc2NlbmU7XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQubG9hZGVkIHx8XG4gICAgICAgICAgICAgICAgKCFlbGVtZW50Lm1vZGVsSXNWaXNpYmxlICYmIHNjZW5lLnJlbmRlckNvdW50ID4gMCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHJlUmVuZGVyKHNjZW5lLCB0LCBkZWx0YSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2hvdWxkUmVuZGVyKHNjZW5lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjZW5lLmV4dGVybmFsUmVuZGVyZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbWVyYSA9IHNjZW5lLmdldENhbWVyYSgpO1xuICAgICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVNYXRyaXgoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG1hdHJpeCwgcHJvamVjdGlvbk1hdHJpeCB9ID0gY2FtZXJhO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdNYXRyaXggPSBtYXRyaXguZWxlbWVudHMuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBzY2VuZS5nZXRUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICB2aWV3TWF0cml4WzEyXSArPSB0YXJnZXQueDtcbiAgICAgICAgICAgICAgICB2aWV3TWF0cml4WzEzXSArPSB0YXJnZXQueTtcbiAgICAgICAgICAgICAgICB2aWV3TWF0cml4WzE0XSArPSB0YXJnZXQuejtcbiAgICAgICAgICAgICAgICBzY2VuZS5leHRlcm5hbFJlbmRlcmVyLnJlbmRlcih7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdNYXRyaXg6IHZpZXdNYXRyaXgsXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IHByb2plY3Rpb25NYXRyaXguZWxlbWVudHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZWxlbWVudC5tb2RlbElzVmlzaWJsZSAmJiAhdGhpcy5tdWx0aXBsZVNjZW5lc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIGFyZSBwcmUtcmVuZGVyaW5nIG9uIHRoZSB2aXNpYmxlIGNhbnZhcywgc28gd2UgbXVzdCBtYXJrIHRoZVxuICAgICAgICAgICAgICAgIC8vIHZpc2libGUgc2NlbmUgZGlydHkgdG8gZW5zdXJlIGl0IG92ZXJ3cml0ZXMgdXMuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB2aXNpYmxlU2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpc2libGVTY2VuZS5lbGVtZW50Lm1vZGVsSXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlU2NlbmUucXVldWVSZW5kZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2VuZVNpemUoc2NlbmUpO1xuICAgICAgICAgICAgc2NlbmUucmVuZGVyU2hhZG93KHRoaXMudGhyZWVSZW5kZXJlcik7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIHNldCB0aGUgcmVuZGVyIHRhcmdldCBpbiBvcmRlciB0byBwcmV2ZW50XG4gICAgICAgICAgICAvLyBjbGVhcmluZyB0aGUgZGVwdGggZnJvbSBhIGRpZmZlcmVudCBidWZmZXJcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQobnVsbCk7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0Vmlld3BvcnQoMCwgTWF0aC5jZWlsKHRoaXMuaGVpZ2h0ICogdGhpcy5kcHIpIC0gaGVpZ2h0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMudGhyZWVSZW5kZXJlci5yZW5kZXIoc2NlbmUsIHNjZW5lLmNhbWVyYSk7XG4gICAgICAgICAgICBpZiAodGhpcy5tdWx0aXBsZVNjZW5lc1Zpc2libGUgfHwgc2NlbmUucmVuZGVyQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvcHlQaXhlbHMoc2NlbmUsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbnZhczNELnBhcmVudEVsZW1lbnQgIT09IHNjZW5lLmNhbnZhcy5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNjZW5lLmNhbnZhcy5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGNhbnZhczNEKTtcbiAgICAgICAgICAgICAgICAgICAgc2NlbmUuY2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY2VuZS5oYXNSZW5kZXJlZCgpO1xuICAgICAgICAgICAgKytzY2VuZS5yZW5kZXJDb3VudDtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZWRMYXN0RnJhbWUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHR1cmVVdGlscyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVVdGlscy5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGhyZWVSZW5kZXJlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnRocmVlUmVuZGVyZXIuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGV4dHVyZVV0aWxzID0gbnVsbDtcbiAgICAgICAgdGhpcy50aHJlZVJlbmRlcmVyID0gbnVsbDtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzY2VuZSBvZiB0aGlzLnNjZW5lcykge1xuICAgICAgICAgICAgZWxlbWVudHMucHVzaChzY2VuZS5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbnZhczNELnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLm9uV2ViR0xDb250ZXh0TG9zdCk7XG4gICAgICAgIHRoaXMuY2FudmFzM0QucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLm9uV2ViR0xDb250ZXh0UmVzdG9yZWQpO1xuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxufVxuUmVuZGVyZXIuX3NpbmdsZXRvbiA9IG5ldyBSZW5kZXJlcih7XG4gICAgcG93ZXJQcmVmZXJlbmNlOiAoc2VsZi5Nb2RlbFZpZXdlckVsZW1lbnQgfHwge30pXG4gICAgICAgIC5wb3dlclByZWZlcmVuY2UgfHxcbiAgICAgICAgREVGQVVMVF9QT1dFUl9QUkVGRVJFTkNFLFxuICAgIGRlYnVnOiBpc0RlYnVnTW9kZSgpXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlcmVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Renderer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/Shadow.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/Shadow.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Shadow: () => (/* binding */ Shadow)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_shaders_HorizontalBlurShader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/shaders/HorizontalBlurShader.js */ \"(ssr)/./node_modules/three/examples/jsm/shaders/HorizontalBlurShader.js\");\n/* harmony import */ var three_examples_jsm_shaders_VerticalBlurShader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/shaders/VerticalBlurShader.js */ \"(ssr)/./node_modules/three/examples/jsm/shaders/VerticalBlurShader.js\");\n/* harmony import */ var three_src_math_MathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/src/math/MathUtils.js */ \"(ssr)/./node_modules/three/src/math/MathUtils.js\");\n/* @license\n * Copyright 2022 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n// The softness [0, 1] of the shadow is mapped to a resolution between\n// 2^LOG_MAX_RESOLUTION and 2^LOG_MIN_RESOLUTION.\nconst LOG_MAX_RESOLUTION = 9;\nconst LOG_MIN_RESOLUTION = 6;\n// Animated models are not in general contained in their bounding box, as this\n// is calculated only for their resting pose. We create a cubic shadow volume\n// for animated models sized to their largest bounding box dimension multiplied\n// by this scale factor.\nconst ANIMATION_SCALING = 2;\n// Since hard shadows are not lightened by blurring and depth, set a lower\n// default intensity to make them more perceptually similar to the intensity of\n// the soft shadows.\nconst DEFAULT_HARD_INTENSITY = 0.3;\n/**\n * The Shadow class creates a shadow that fits a given scene and follows a\n * target. This shadow will follow the scene without any updates needed so long\n * as the shadow and scene are both parented to the same object (call it the\n * scene) and this scene is passed as the target parameter to the shadow's\n * constructor. We also must constrain the scene to motion within the horizontal\n * plane and call the setRotation() method whenever the scene's Y-axis rotation\n * changes. For motion outside of the horizontal plane, this.needsUpdate must be\n * set to true.\n *\n * The softness of the shadow is controlled by changing its resolution, making\n * softer shadows faster, but less precise.\n */\nclass Shadow extends three__WEBPACK_IMPORTED_MODULE_0__.Object3D {\n    constructor(scene, softness, side) {\n        super();\n        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__.OrthographicCamera();\n        // private cameraHelper = new CameraHelper(this.camera);\n        this.renderTarget = null;\n        this.renderTargetBlur = null;\n        this.depthMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshDepthMaterial();\n        this.horizontalBlurMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(three_examples_jsm_shaders_HorizontalBlurShader_js__WEBPACK_IMPORTED_MODULE_1__.HorizontalBlurShader);\n        this.verticalBlurMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial(three_examples_jsm_shaders_VerticalBlurShader_js__WEBPACK_IMPORTED_MODULE_2__.VerticalBlurShader);\n        this.intensity = 0;\n        this.softness = 1;\n        this.boundingBox = new three__WEBPACK_IMPORTED_MODULE_0__.Box3;\n        this.size = new three__WEBPACK_IMPORTED_MODULE_0__.Vector3;\n        this.maxDimension = 0;\n        this.isAnimated = false;\n        this.needsUpdate = false;\n        const { camera } = this;\n        camera.rotation.x = Math.PI / 2;\n        camera.left = -0.5;\n        camera.right = 0.5;\n        camera.bottom = -0.5;\n        camera.top = 0.5;\n        this.add(camera);\n        // this.add(this.cameraHelper);\n        // this.cameraHelper.updateMatrixWorld = function() {\n        //   this.matrixWorld = this.camera.matrixWorld;\n        // };\n        const plane = new three__WEBPACK_IMPORTED_MODULE_0__.PlaneGeometry();\n        const shadowMaterial = new three__WEBPACK_IMPORTED_MODULE_0__.MeshBasicMaterial({\n            // color: new Color(1, 0, 0),\n            opacity: 1,\n            transparent: true,\n            side: three__WEBPACK_IMPORTED_MODULE_0__.BackSide,\n        });\n        this.floor = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(plane, shadowMaterial);\n        this.floor.userData.shadow = true;\n        camera.add(this.floor);\n        // the plane onto which to blur the texture\n        this.blurPlane = new three__WEBPACK_IMPORTED_MODULE_0__.Mesh(plane);\n        this.blurPlane.visible = false;\n        camera.add(this.blurPlane);\n        scene.target.add(this);\n        // like MeshDepthMaterial, but goes from black to transparent\n        this.depthMaterial.onBeforeCompile = function (shader) {\n            shader.fragmentShader = shader.fragmentShader.replace('gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );', 'gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );');\n        };\n        this.horizontalBlurMaterial.depthTest = false;\n        this.verticalBlurMaterial.depthTest = false;\n        this.setScene(scene, softness, side);\n    }\n    /**\n     * Update the shadow's size and position for a new scene. Softness is also\n     * needed, as this controls the shadow's resolution.\n     */\n    setScene(scene, softness, side) {\n        const { boundingBox, size, rotation, position } = this;\n        this.isAnimated = scene.animationNames.length > 0;\n        this.boundingBox.copy(scene.boundingBox);\n        this.size.copy(scene.size);\n        this.maxDimension = Math.max(size.x, size.y, size.z) *\n            (this.isAnimated ? ANIMATION_SCALING : 1);\n        this.boundingBox.getCenter(position);\n        if (side === 'back') {\n            const { min, max } = boundingBox;\n            [min.y, min.z] = [min.z, min.y];\n            [max.y, max.z] = [max.z, max.y];\n            [size.y, size.z] = [size.z, size.y];\n            rotation.x = Math.PI / 2;\n            rotation.y = Math.PI;\n        }\n        else {\n            rotation.x = 0;\n            rotation.y = 0;\n        }\n        if (this.isAnimated) {\n            const minY = boundingBox.min.y;\n            const maxY = boundingBox.max.y;\n            size.y = this.maxDimension;\n            boundingBox.expandByVector(size.subScalar(this.maxDimension).multiplyScalar(-0.5));\n            boundingBox.min.y = minY;\n            boundingBox.max.y = maxY;\n            size.set(this.maxDimension, maxY - minY, this.maxDimension);\n        }\n        if (side === 'bottom') {\n            position.y = boundingBox.min.y;\n        }\n        else {\n            position.z = boundingBox.min.y;\n        }\n        this.setSoftness(softness);\n    }\n    /**\n     * Update the shadow's resolution based on softness (between 0 and 1). Should\n     * not be called frequently, as this results in reallocation.\n     */\n    setSoftness(softness) {\n        this.softness = softness;\n        const { size, camera } = this;\n        const scaleY = (this.isAnimated ? ANIMATION_SCALING : 1);\n        const resolution = scaleY *\n            Math.pow(2, LOG_MAX_RESOLUTION -\n                softness * (LOG_MAX_RESOLUTION - LOG_MIN_RESOLUTION));\n        this.setMapSize(resolution);\n        const softFar = size.y / 2;\n        const hardFar = size.y * scaleY;\n        camera.near = 0;\n        camera.far = (0,three_src_math_MathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(hardFar, softFar, softness);\n        // we have co-opted opacity to scale the depth to clip\n        this.depthMaterial.opacity = 1.0 / softness;\n        camera.updateProjectionMatrix();\n        // this.cameraHelper.update();\n        this.setIntensity(this.intensity);\n        this.setOffset(0);\n    }\n    /**\n     * Lower-level version of the above function.\n     */\n    setMapSize(maxMapSize) {\n        const { size } = this;\n        if (this.isAnimated) {\n            maxMapSize *= ANIMATION_SCALING;\n        }\n        const baseWidth = Math.floor(size.x > size.z ? maxMapSize : maxMapSize * size.x / size.z);\n        const baseHeight = Math.floor(size.x > size.z ? maxMapSize * size.z / size.x : maxMapSize);\n        // width of blur filter in pixels (not adjustable)\n        const TAP_WIDTH = 10;\n        const width = TAP_WIDTH + baseWidth;\n        const height = TAP_WIDTH + baseHeight;\n        if (this.renderTarget != null &&\n            (this.renderTarget.width !== width ||\n                this.renderTarget.height !== height)) {\n            this.renderTarget.dispose();\n            this.renderTarget = null;\n            this.renderTargetBlur.dispose();\n            this.renderTargetBlur = null;\n        }\n        if (this.renderTarget == null) {\n            const params = { format: three__WEBPACK_IMPORTED_MODULE_0__.RGBAFormat };\n            this.renderTarget = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget(width, height, params);\n            this.renderTargetBlur = new three__WEBPACK_IMPORTED_MODULE_0__.WebGLRenderTarget(width, height, params);\n            this.floor.material.map =\n                this.renderTarget.texture;\n        }\n        // These pads account for the softening radius around the shadow.\n        this.camera.scale.set(size.x * (1 + TAP_WIDTH / baseWidth), size.z * (1 + TAP_WIDTH / baseHeight), 1);\n        this.needsUpdate = true;\n    }\n    /**\n     * Set the shadow's intensity (0 to 1), which is just its opacity. Turns off\n     * shadow rendering if zero.\n     */\n    setIntensity(intensity) {\n        this.intensity = intensity;\n        if (intensity > 0) {\n            this.visible = true;\n            this.floor.visible = true;\n            this.floor.material.opacity = intensity *\n                (0,three_src_math_MathUtils_js__WEBPACK_IMPORTED_MODULE_3__.lerp)(DEFAULT_HARD_INTENSITY, 1, this.softness * this.softness);\n        }\n        else {\n            this.visible = false;\n            this.floor.visible = false;\n        }\n    }\n    getIntensity() {\n        return this.intensity;\n    }\n    /**\n     * An offset can be specified to move the\n     * shadow vertically relative to the bottom of the scene. Positive is up, so\n     * values are generally negative. A small offset keeps our shadow from\n     * z-fighting with any baked-in shadow plane.\n     */\n    setOffset(offset) {\n        this.floor.position.z = -offset + 0.001 * this.maxDimension;\n    }\n    render(renderer, scene) {\n        // this.cameraHelper.visible = false;\n        // force the depthMaterial to everything\n        scene.overrideMaterial = this.depthMaterial;\n        // set renderer clear alpha\n        const initialClearAlpha = renderer.getClearAlpha();\n        renderer.setClearAlpha(0);\n        this.floor.visible = false;\n        // disable XR for offscreen rendering\n        const xrEnabled = renderer.xr.enabled;\n        renderer.xr.enabled = false;\n        // render to the render target to get the depths\n        const oldRenderTarget = renderer.getRenderTarget();\n        renderer.setRenderTarget(this.renderTarget);\n        renderer.render(scene, this.camera);\n        // and reset the override material\n        scene.overrideMaterial = null;\n        this.floor.visible = true;\n        this.blurShadow(renderer);\n        // reset and render the normal scene\n        renderer.xr.enabled = xrEnabled;\n        renderer.setRenderTarget(oldRenderTarget);\n        renderer.setClearAlpha(initialClearAlpha);\n        // this.cameraHelper.visible = true;\n    }\n    blurShadow(renderer) {\n        const { camera, horizontalBlurMaterial, verticalBlurMaterial, renderTarget, renderTargetBlur, blurPlane } = this;\n        blurPlane.visible = true;\n        // blur horizontally and draw in the renderTargetBlur\n        blurPlane.material = horizontalBlurMaterial;\n        horizontalBlurMaterial.uniforms.h.value = 1 / this.renderTarget.width;\n        horizontalBlurMaterial.uniforms.tDiffuse.value = this.renderTarget.texture;\n        renderer.setRenderTarget(renderTargetBlur);\n        renderer.render(blurPlane, camera);\n        // blur vertically and draw in the main renderTarget\n        blurPlane.material = verticalBlurMaterial;\n        verticalBlurMaterial.uniforms.v.value = 1 / this.renderTarget.height;\n        verticalBlurMaterial.uniforms.tDiffuse.value =\n            this.renderTargetBlur.texture;\n        renderer.setRenderTarget(renderTarget);\n        renderer.render(blurPlane, camera);\n        blurPlane.visible = false;\n    }\n    dispose() {\n        if (this.renderTarget != null) {\n            this.renderTarget.dispose();\n        }\n        if (this.renderTargetBlur != null) {\n            this.renderTargetBlur.dispose();\n        }\n        this.depthMaterial.dispose();\n        this.horizontalBlurMaterial.dispose();\n        this.verticalBlurMaterial.dispose();\n        this.floor.material.dispose();\n        this.floor.geometry.dispose();\n        this.blurPlane.geometry.dispose();\n        this.removeFromParent();\n    }\n}\n//# sourceMappingURL=Shadow.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvU2hhZG93LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN3TDtBQUM5RjtBQUNKO0FBQ25DO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsMkNBQVE7QUFDcEM7QUFDQTtBQUNBLDBCQUEwQixxREFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG9EQUFpQjtBQUNsRCwwQ0FBMEMsaURBQWMsQ0FBQyxvR0FBb0I7QUFDN0Usd0NBQXdDLGlEQUFjLENBQUMsZ0dBQWtCO0FBQ3pFO0FBQ0E7QUFDQSwrQkFBK0IsdUNBQUk7QUFDbkMsd0JBQXdCLDBDQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGdEQUFhO0FBQ3ZDLG1DQUFtQyxvREFBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDJDQUFRO0FBQzFCLFNBQVM7QUFDVCx5QkFBeUIsdUNBQUk7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVDQUFJO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0SEFBNEgsdUVBQXVFO0FBQ25NO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdDQUF3QztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixXQUFXO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixlQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUVBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixRQUFRLDZDQUFVO0FBQy9DLG9DQUFvQyxvREFBaUI7QUFDckQsd0NBQXdDLG9EQUFpQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGlFQUFJO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0dBQWtHO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvU2hhZG93LmpzPzQ2YzgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQmFja1NpZGUsIEJveDMsIE1lc2gsIE1lc2hCYXNpY01hdGVyaWFsLCBNZXNoRGVwdGhNYXRlcmlhbCwgT2JqZWN0M0QsIE9ydGhvZ3JhcGhpY0NhbWVyYSwgUGxhbmVHZW9tZXRyeSwgUkdCQUZvcm1hdCwgU2hhZGVyTWF0ZXJpYWwsIFZlY3RvcjMsIFdlYkdMUmVuZGVyVGFyZ2V0IH0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHsgSG9yaXpvbnRhbEJsdXJTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9Ib3Jpem9udGFsQmx1clNoYWRlci5qcyc7XG5pbXBvcnQgeyBWZXJ0aWNhbEJsdXJTaGFkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vc2hhZGVycy9WZXJ0aWNhbEJsdXJTaGFkZXIuanMnO1xuaW1wb3J0IHsgbGVycCB9IGZyb20gJ3RocmVlL3NyYy9tYXRoL01hdGhVdGlscy5qcyc7XG4vLyBUaGUgc29mdG5lc3MgWzAsIDFdIG9mIHRoZSBzaGFkb3cgaXMgbWFwcGVkIHRvIGEgcmVzb2x1dGlvbiBiZXR3ZWVuXG4vLyAyXkxPR19NQVhfUkVTT0xVVElPTiBhbmQgMl5MT0dfTUlOX1JFU09MVVRJT04uXG5jb25zdCBMT0dfTUFYX1JFU09MVVRJT04gPSA5O1xuY29uc3QgTE9HX01JTl9SRVNPTFVUSU9OID0gNjtcbi8vIEFuaW1hdGVkIG1vZGVscyBhcmUgbm90IGluIGdlbmVyYWwgY29udGFpbmVkIGluIHRoZWlyIGJvdW5kaW5nIGJveCwgYXMgdGhpc1xuLy8gaXMgY2FsY3VsYXRlZCBvbmx5IGZvciB0aGVpciByZXN0aW5nIHBvc2UuIFdlIGNyZWF0ZSBhIGN1YmljIHNoYWRvdyB2b2x1bWVcbi8vIGZvciBhbmltYXRlZCBtb2RlbHMgc2l6ZWQgdG8gdGhlaXIgbGFyZ2VzdCBib3VuZGluZyBib3ggZGltZW5zaW9uIG11bHRpcGxpZWRcbi8vIGJ5IHRoaXMgc2NhbGUgZmFjdG9yLlxuY29uc3QgQU5JTUFUSU9OX1NDQUxJTkcgPSAyO1xuLy8gU2luY2UgaGFyZCBzaGFkb3dzIGFyZSBub3QgbGlnaHRlbmVkIGJ5IGJsdXJyaW5nIGFuZCBkZXB0aCwgc2V0IGEgbG93ZXJcbi8vIGRlZmF1bHQgaW50ZW5zaXR5IHRvIG1ha2UgdGhlbSBtb3JlIHBlcmNlcHR1YWxseSBzaW1pbGFyIHRvIHRoZSBpbnRlbnNpdHkgb2Zcbi8vIHRoZSBzb2Z0IHNoYWRvd3MuXG5jb25zdCBERUZBVUxUX0hBUkRfSU5URU5TSVRZID0gMC4zO1xuLyoqXG4gKiBUaGUgU2hhZG93IGNsYXNzIGNyZWF0ZXMgYSBzaGFkb3cgdGhhdCBmaXRzIGEgZ2l2ZW4gc2NlbmUgYW5kIGZvbGxvd3MgYVxuICogdGFyZ2V0LiBUaGlzIHNoYWRvdyB3aWxsIGZvbGxvdyB0aGUgc2NlbmUgd2l0aG91dCBhbnkgdXBkYXRlcyBuZWVkZWQgc28gbG9uZ1xuICogYXMgdGhlIHNoYWRvdyBhbmQgc2NlbmUgYXJlIGJvdGggcGFyZW50ZWQgdG8gdGhlIHNhbWUgb2JqZWN0IChjYWxsIGl0IHRoZVxuICogc2NlbmUpIGFuZCB0aGlzIHNjZW5lIGlzIHBhc3NlZCBhcyB0aGUgdGFyZ2V0IHBhcmFtZXRlciB0byB0aGUgc2hhZG93J3NcbiAqIGNvbnN0cnVjdG9yLiBXZSBhbHNvIG11c3QgY29uc3RyYWluIHRoZSBzY2VuZSB0byBtb3Rpb24gd2l0aGluIHRoZSBob3Jpem9udGFsXG4gKiBwbGFuZSBhbmQgY2FsbCB0aGUgc2V0Um90YXRpb24oKSBtZXRob2Qgd2hlbmV2ZXIgdGhlIHNjZW5lJ3MgWS1heGlzIHJvdGF0aW9uXG4gKiBjaGFuZ2VzLiBGb3IgbW90aW9uIG91dHNpZGUgb2YgdGhlIGhvcml6b250YWwgcGxhbmUsIHRoaXMubmVlZHNVcGRhdGUgbXVzdCBiZVxuICogc2V0IHRvIHRydWUuXG4gKlxuICogVGhlIHNvZnRuZXNzIG9mIHRoZSBzaGFkb3cgaXMgY29udHJvbGxlZCBieSBjaGFuZ2luZyBpdHMgcmVzb2x1dGlvbiwgbWFraW5nXG4gKiBzb2Z0ZXIgc2hhZG93cyBmYXN0ZXIsIGJ1dCBsZXNzIHByZWNpc2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFkb3cgZXh0ZW5kcyBPYmplY3QzRCB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHNvZnRuZXNzLCBzaWRlKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IE9ydGhvZ3JhcGhpY0NhbWVyYSgpO1xuICAgICAgICAvLyBwcml2YXRlIGNhbWVyYUhlbHBlciA9IG5ldyBDYW1lcmFIZWxwZXIodGhpcy5jYW1lcmEpO1xuICAgICAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0Qmx1ciA9IG51bGw7XG4gICAgICAgIHRoaXMuZGVwdGhNYXRlcmlhbCA9IG5ldyBNZXNoRGVwdGhNYXRlcmlhbCgpO1xuICAgICAgICB0aGlzLmhvcml6b250YWxCbHVyTWF0ZXJpYWwgPSBuZXcgU2hhZGVyTWF0ZXJpYWwoSG9yaXpvbnRhbEJsdXJTaGFkZXIpO1xuICAgICAgICB0aGlzLnZlcnRpY2FsQmx1ck1hdGVyaWFsID0gbmV3IFNoYWRlck1hdGVyaWFsKFZlcnRpY2FsQmx1clNoYWRlcik7XG4gICAgICAgIHRoaXMuaW50ZW5zaXR5ID0gMDtcbiAgICAgICAgdGhpcy5zb2Z0bmVzcyA9IDE7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgQm94MztcbiAgICAgICAgdGhpcy5zaXplID0gbmV3IFZlY3RvcjM7XG4gICAgICAgIHRoaXMubWF4RGltZW5zaW9uID0gMDtcbiAgICAgICAgdGhpcy5pc0FuaW1hdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgeyBjYW1lcmEgfSA9IHRoaXM7XG4gICAgICAgIGNhbWVyYS5yb3RhdGlvbi54ID0gTWF0aC5QSSAvIDI7XG4gICAgICAgIGNhbWVyYS5sZWZ0ID0gLTAuNTtcbiAgICAgICAgY2FtZXJhLnJpZ2h0ID0gMC41O1xuICAgICAgICBjYW1lcmEuYm90dG9tID0gLTAuNTtcbiAgICAgICAgY2FtZXJhLnRvcCA9IDAuNTtcbiAgICAgICAgdGhpcy5hZGQoY2FtZXJhKTtcbiAgICAgICAgLy8gdGhpcy5hZGQodGhpcy5jYW1lcmFIZWxwZXIpO1xuICAgICAgICAvLyB0aGlzLmNhbWVyYUhlbHBlci51cGRhdGVNYXRyaXhXb3JsZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyAgIHRoaXMubWF0cml4V29ybGQgPSB0aGlzLmNhbWVyYS5tYXRyaXhXb3JsZDtcbiAgICAgICAgLy8gfTtcbiAgICAgICAgY29uc3QgcGxhbmUgPSBuZXcgUGxhbmVHZW9tZXRyeSgpO1xuICAgICAgICBjb25zdCBzaGFkb3dNYXRlcmlhbCA9IG5ldyBNZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgICAvLyBjb2xvcjogbmV3IENvbG9yKDEsIDAsIDApLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHRyYW5zcGFyZW50OiB0cnVlLFxuICAgICAgICAgICAgc2lkZTogQmFja1NpZGUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmZsb29yID0gbmV3IE1lc2gocGxhbmUsIHNoYWRvd01hdGVyaWFsKTtcbiAgICAgICAgdGhpcy5mbG9vci51c2VyRGF0YS5zaGFkb3cgPSB0cnVlO1xuICAgICAgICBjYW1lcmEuYWRkKHRoaXMuZmxvb3IpO1xuICAgICAgICAvLyB0aGUgcGxhbmUgb250byB3aGljaCB0byBibHVyIHRoZSB0ZXh0dXJlXG4gICAgICAgIHRoaXMuYmx1clBsYW5lID0gbmV3IE1lc2gocGxhbmUpO1xuICAgICAgICB0aGlzLmJsdXJQbGFuZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGNhbWVyYS5hZGQodGhpcy5ibHVyUGxhbmUpO1xuICAgICAgICBzY2VuZS50YXJnZXQuYWRkKHRoaXMpO1xuICAgICAgICAvLyBsaWtlIE1lc2hEZXB0aE1hdGVyaWFsLCBidXQgZ29lcyBmcm9tIGJsYWNrIHRvIHRyYW5zcGFyZW50XG4gICAgICAgIHRoaXMuZGVwdGhNYXRlcmlhbC5vbkJlZm9yZUNvbXBpbGUgPSBmdW5jdGlvbiAoc2hhZGVyKSB7XG4gICAgICAgICAgICBzaGFkZXIuZnJhZ21lbnRTaGFkZXIgPSBzaGFkZXIuZnJhZ21lbnRTaGFkZXIucmVwbGFjZSgnZ2xfRnJhZ0NvbG9yID0gdmVjNCggdmVjMyggMS4wIC0gZnJhZ0Nvb3JkWiApLCBvcGFjaXR5ICk7JywgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoIHZlYzMoIDAuMCApLCAoIDEuMCAtIGZyYWdDb29yZFogKSAqIG9wYWNpdHkgKTsnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsQmx1ck1hdGVyaWFsLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnZlcnRpY2FsQmx1ck1hdGVyaWFsLmRlcHRoVGVzdCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFNjZW5lKHNjZW5lLCBzb2Z0bmVzcywgc2lkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgc2hhZG93J3Mgc2l6ZSBhbmQgcG9zaXRpb24gZm9yIGEgbmV3IHNjZW5lLiBTb2Z0bmVzcyBpcyBhbHNvXG4gICAgICogbmVlZGVkLCBhcyB0aGlzIGNvbnRyb2xzIHRoZSBzaGFkb3cncyByZXNvbHV0aW9uLlxuICAgICAqL1xuICAgIHNldFNjZW5lKHNjZW5lLCBzb2Z0bmVzcywgc2lkZSkge1xuICAgICAgICBjb25zdCB7IGJvdW5kaW5nQm94LCBzaXplLCByb3RhdGlvbiwgcG9zaXRpb24gfSA9IHRoaXM7XG4gICAgICAgIHRoaXMuaXNBbmltYXRlZCA9IHNjZW5lLmFuaW1hdGlvbk5hbWVzLmxlbmd0aCA+IDA7XG4gICAgICAgIHRoaXMuYm91bmRpbmdCb3guY29weShzY2VuZS5ib3VuZGluZ0JveCk7XG4gICAgICAgIHRoaXMuc2l6ZS5jb3B5KHNjZW5lLnNpemUpO1xuICAgICAgICB0aGlzLm1heERpbWVuc2lvbiA9IE1hdGgubWF4KHNpemUueCwgc2l6ZS55LCBzaXplLnopICpcbiAgICAgICAgICAgICh0aGlzLmlzQW5pbWF0ZWQgPyBBTklNQVRJT05fU0NBTElORyA6IDEpO1xuICAgICAgICB0aGlzLmJvdW5kaW5nQm94LmdldENlbnRlcihwb3NpdGlvbik7XG4gICAgICAgIGlmIChzaWRlID09PSAnYmFjaycpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbWluLCBtYXggfSA9IGJvdW5kaW5nQm94O1xuICAgICAgICAgICAgW21pbi55LCBtaW4uel0gPSBbbWluLnosIG1pbi55XTtcbiAgICAgICAgICAgIFttYXgueSwgbWF4LnpdID0gW21heC56LCBtYXgueV07XG4gICAgICAgICAgICBbc2l6ZS55LCBzaXplLnpdID0gW3NpemUueiwgc2l6ZS55XTtcbiAgICAgICAgICAgIHJvdGF0aW9uLnggPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIHJvdGF0aW9uLnkgPSBNYXRoLlBJO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcm90YXRpb24ueCA9IDA7XG4gICAgICAgICAgICByb3RhdGlvbi55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc0FuaW1hdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBtaW5ZID0gYm91bmRpbmdCb3gubWluLnk7XG4gICAgICAgICAgICBjb25zdCBtYXhZID0gYm91bmRpbmdCb3gubWF4Lnk7XG4gICAgICAgICAgICBzaXplLnkgPSB0aGlzLm1heERpbWVuc2lvbjtcbiAgICAgICAgICAgIGJvdW5kaW5nQm94LmV4cGFuZEJ5VmVjdG9yKHNpemUuc3ViU2NhbGFyKHRoaXMubWF4RGltZW5zaW9uKS5tdWx0aXBseVNjYWxhcigtMC41KSk7XG4gICAgICAgICAgICBib3VuZGluZ0JveC5taW4ueSA9IG1pblk7XG4gICAgICAgICAgICBib3VuZGluZ0JveC5tYXgueSA9IG1heFk7XG4gICAgICAgICAgICBzaXplLnNldCh0aGlzLm1heERpbWVuc2lvbiwgbWF4WSAtIG1pblksIHRoaXMubWF4RGltZW5zaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2lkZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uLnkgPSBib3VuZGluZ0JveC5taW4ueTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBvc2l0aW9uLnogPSBib3VuZGluZ0JveC5taW4ueTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFNvZnRuZXNzKHNvZnRuZXNzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBzaGFkb3cncyByZXNvbHV0aW9uIGJhc2VkIG9uIHNvZnRuZXNzIChiZXR3ZWVuIDAgYW5kIDEpLiBTaG91bGRcbiAgICAgKiBub3QgYmUgY2FsbGVkIGZyZXF1ZW50bHksIGFzIHRoaXMgcmVzdWx0cyBpbiByZWFsbG9jYXRpb24uXG4gICAgICovXG4gICAgc2V0U29mdG5lc3Moc29mdG5lc3MpIHtcbiAgICAgICAgdGhpcy5zb2Z0bmVzcyA9IHNvZnRuZXNzO1xuICAgICAgICBjb25zdCB7IHNpemUsIGNhbWVyYSB9ID0gdGhpcztcbiAgICAgICAgY29uc3Qgc2NhbGVZID0gKHRoaXMuaXNBbmltYXRlZCA/IEFOSU1BVElPTl9TQ0FMSU5HIDogMSk7XG4gICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBzY2FsZVkgKlxuICAgICAgICAgICAgTWF0aC5wb3coMiwgTE9HX01BWF9SRVNPTFVUSU9OIC1cbiAgICAgICAgICAgICAgICBzb2Z0bmVzcyAqIChMT0dfTUFYX1JFU09MVVRJT04gLSBMT0dfTUlOX1JFU09MVVRJT04pKTtcbiAgICAgICAgdGhpcy5zZXRNYXBTaXplKHJlc29sdXRpb24pO1xuICAgICAgICBjb25zdCBzb2Z0RmFyID0gc2l6ZS55IC8gMjtcbiAgICAgICAgY29uc3QgaGFyZEZhciA9IHNpemUueSAqIHNjYWxlWTtcbiAgICAgICAgY2FtZXJhLm5lYXIgPSAwO1xuICAgICAgICBjYW1lcmEuZmFyID0gbGVycChoYXJkRmFyLCBzb2Z0RmFyLCBzb2Z0bmVzcyk7XG4gICAgICAgIC8vIHdlIGhhdmUgY28tb3B0ZWQgb3BhY2l0eSB0byBzY2FsZSB0aGUgZGVwdGggdG8gY2xpcFxuICAgICAgICB0aGlzLmRlcHRoTWF0ZXJpYWwub3BhY2l0eSA9IDEuMCAvIHNvZnRuZXNzO1xuICAgICAgICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICAvLyB0aGlzLmNhbWVyYUhlbHBlci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5zZXRJbnRlbnNpdHkodGhpcy5pbnRlbnNpdHkpO1xuICAgICAgICB0aGlzLnNldE9mZnNldCgwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG93ZXItbGV2ZWwgdmVyc2lvbiBvZiB0aGUgYWJvdmUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgc2V0TWFwU2l6ZShtYXhNYXBTaXplKSB7XG4gICAgICAgIGNvbnN0IHsgc2l6ZSB9ID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuaXNBbmltYXRlZCkge1xuICAgICAgICAgICAgbWF4TWFwU2l6ZSAqPSBBTklNQVRJT05fU0NBTElORztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYXNlV2lkdGggPSBNYXRoLmZsb29yKHNpemUueCA+IHNpemUueiA/IG1heE1hcFNpemUgOiBtYXhNYXBTaXplICogc2l6ZS54IC8gc2l6ZS56KTtcbiAgICAgICAgY29uc3QgYmFzZUhlaWdodCA9IE1hdGguZmxvb3Ioc2l6ZS54ID4gc2l6ZS56ID8gbWF4TWFwU2l6ZSAqIHNpemUueiAvIHNpemUueCA6IG1heE1hcFNpemUpO1xuICAgICAgICAvLyB3aWR0aCBvZiBibHVyIGZpbHRlciBpbiBwaXhlbHMgKG5vdCBhZGp1c3RhYmxlKVxuICAgICAgICBjb25zdCBUQVBfV0lEVEggPSAxMDtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBUQVBfV0lEVEggKyBiYXNlV2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IFRBUF9XSURUSCArIGJhc2VIZWlnaHQ7XG4gICAgICAgIGlmICh0aGlzLnJlbmRlclRhcmdldCAhPSBudWxsICYmXG4gICAgICAgICAgICAodGhpcy5yZW5kZXJUYXJnZXQud2lkdGggIT09IHdpZHRoIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXQuaGVpZ2h0ICE9PSBoZWlnaHQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldEJsdXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUYXJnZXRCbHVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJUYXJnZXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0geyBmb3JtYXQ6IFJHQkFGb3JtYXQgfTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbmV3IFdlYkdMUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQsIHBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldEJsdXIgPSBuZXcgV2ViR0xSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgcGFyYW1zKTtcbiAgICAgICAgICAgIHRoaXMuZmxvb3IubWF0ZXJpYWwubWFwID1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclRhcmdldC50ZXh0dXJlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXNlIHBhZHMgYWNjb3VudCBmb3IgdGhlIHNvZnRlbmluZyByYWRpdXMgYXJvdW5kIHRoZSBzaGFkb3cuXG4gICAgICAgIHRoaXMuY2FtZXJhLnNjYWxlLnNldChzaXplLnggKiAoMSArIFRBUF9XSURUSCAvIGJhc2VXaWR0aCksIHNpemUueiAqICgxICsgVEFQX1dJRFRIIC8gYmFzZUhlaWdodCksIDEpO1xuICAgICAgICB0aGlzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzaGFkb3cncyBpbnRlbnNpdHkgKDAgdG8gMSksIHdoaWNoIGlzIGp1c3QgaXRzIG9wYWNpdHkuIFR1cm5zIG9mZlxuICAgICAqIHNoYWRvdyByZW5kZXJpbmcgaWYgemVyby5cbiAgICAgKi9cbiAgICBzZXRJbnRlbnNpdHkoaW50ZW5zaXR5KSB7XG4gICAgICAgIHRoaXMuaW50ZW5zaXR5ID0gaW50ZW5zaXR5O1xuICAgICAgICBpZiAoaW50ZW5zaXR5ID4gMCkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZmxvb3IudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZsb29yLm1hdGVyaWFsLm9wYWNpdHkgPSBpbnRlbnNpdHkgKlxuICAgICAgICAgICAgICAgIGxlcnAoREVGQVVMVF9IQVJEX0lOVEVOU0lUWSwgMSwgdGhpcy5zb2Z0bmVzcyAqIHRoaXMuc29mdG5lc3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZsb29yLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRJbnRlbnNpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVuc2l0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQW4gb2Zmc2V0IGNhbiBiZSBzcGVjaWZpZWQgdG8gbW92ZSB0aGVcbiAgICAgKiBzaGFkb3cgdmVydGljYWxseSByZWxhdGl2ZSB0byB0aGUgYm90dG9tIG9mIHRoZSBzY2VuZS4gUG9zaXRpdmUgaXMgdXAsIHNvXG4gICAgICogdmFsdWVzIGFyZSBnZW5lcmFsbHkgbmVnYXRpdmUuIEEgc21hbGwgb2Zmc2V0IGtlZXBzIG91ciBzaGFkb3cgZnJvbVxuICAgICAqIHotZmlnaHRpbmcgd2l0aCBhbnkgYmFrZWQtaW4gc2hhZG93IHBsYW5lLlxuICAgICAqL1xuICAgIHNldE9mZnNldChvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5mbG9vci5wb3NpdGlvbi56ID0gLW9mZnNldCArIDAuMDAxICogdGhpcy5tYXhEaW1lbnNpb247XG4gICAgfVxuICAgIHJlbmRlcihyZW5kZXJlciwgc2NlbmUpIHtcbiAgICAgICAgLy8gdGhpcy5jYW1lcmFIZWxwZXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyBmb3JjZSB0aGUgZGVwdGhNYXRlcmlhbCB0byBldmVyeXRoaW5nXG4gICAgICAgIHNjZW5lLm92ZXJyaWRlTWF0ZXJpYWwgPSB0aGlzLmRlcHRoTWF0ZXJpYWw7XG4gICAgICAgIC8vIHNldCByZW5kZXJlciBjbGVhciBhbHBoYVxuICAgICAgICBjb25zdCBpbml0aWFsQ2xlYXJBbHBoYSA9IHJlbmRlcmVyLmdldENsZWFyQWxwaGEoKTtcbiAgICAgICAgcmVuZGVyZXIuc2V0Q2xlYXJBbHBoYSgwKTtcbiAgICAgICAgdGhpcy5mbG9vci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIC8vIGRpc2FibGUgWFIgZm9yIG9mZnNjcmVlbiByZW5kZXJpbmdcbiAgICAgICAgY29uc3QgeHJFbmFibGVkID0gcmVuZGVyZXIueHIuZW5hYmxlZDtcbiAgICAgICAgcmVuZGVyZXIueHIuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAvLyByZW5kZXIgdG8gdGhlIHJlbmRlciB0YXJnZXQgdG8gZ2V0IHRoZSBkZXB0aHNcbiAgICAgICAgY29uc3Qgb2xkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuZ2V0UmVuZGVyVGFyZ2V0KCk7XG4gICAgICAgIHJlbmRlcmVyLnNldFJlbmRlclRhcmdldCh0aGlzLnJlbmRlclRhcmdldCk7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgdGhpcy5jYW1lcmEpO1xuICAgICAgICAvLyBhbmQgcmVzZXQgdGhlIG92ZXJyaWRlIG1hdGVyaWFsXG4gICAgICAgIHNjZW5lLm92ZXJyaWRlTWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmZsb29yLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsdXJTaGFkb3cocmVuZGVyZXIpO1xuICAgICAgICAvLyByZXNldCBhbmQgcmVuZGVyIHRoZSBub3JtYWwgc2NlbmVcbiAgICAgICAgcmVuZGVyZXIueHIuZW5hYmxlZCA9IHhyRW5hYmxlZDtcbiAgICAgICAgcmVuZGVyZXIuc2V0UmVuZGVyVGFyZ2V0KG9sZFJlbmRlclRhcmdldCk7XG4gICAgICAgIHJlbmRlcmVyLnNldENsZWFyQWxwaGEoaW5pdGlhbENsZWFyQWxwaGEpO1xuICAgICAgICAvLyB0aGlzLmNhbWVyYUhlbHBlci52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgYmx1clNoYWRvdyhyZW5kZXJlcikge1xuICAgICAgICBjb25zdCB7IGNhbWVyYSwgaG9yaXpvbnRhbEJsdXJNYXRlcmlhbCwgdmVydGljYWxCbHVyTWF0ZXJpYWwsIHJlbmRlclRhcmdldCwgcmVuZGVyVGFyZ2V0Qmx1ciwgYmx1clBsYW5lIH0gPSB0aGlzO1xuICAgICAgICBibHVyUGxhbmUudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIC8vIGJsdXIgaG9yaXpvbnRhbGx5IGFuZCBkcmF3IGluIHRoZSByZW5kZXJUYXJnZXRCbHVyXG4gICAgICAgIGJsdXJQbGFuZS5tYXRlcmlhbCA9IGhvcml6b250YWxCbHVyTWF0ZXJpYWw7XG4gICAgICAgIGhvcml6b250YWxCbHVyTWF0ZXJpYWwudW5pZm9ybXMuaC52YWx1ZSA9IDEgLyB0aGlzLnJlbmRlclRhcmdldC53aWR0aDtcbiAgICAgICAgaG9yaXpvbnRhbEJsdXJNYXRlcmlhbC51bmlmb3Jtcy50RGlmZnVzZS52YWx1ZSA9IHRoaXMucmVuZGVyVGFyZ2V0LnRleHR1cmU7XG4gICAgICAgIHJlbmRlcmVyLnNldFJlbmRlclRhcmdldChyZW5kZXJUYXJnZXRCbHVyKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyKGJsdXJQbGFuZSwgY2FtZXJhKTtcbiAgICAgICAgLy8gYmx1ciB2ZXJ0aWNhbGx5IGFuZCBkcmF3IGluIHRoZSBtYWluIHJlbmRlclRhcmdldFxuICAgICAgICBibHVyUGxhbmUubWF0ZXJpYWwgPSB2ZXJ0aWNhbEJsdXJNYXRlcmlhbDtcbiAgICAgICAgdmVydGljYWxCbHVyTWF0ZXJpYWwudW5pZm9ybXMudi52YWx1ZSA9IDEgLyB0aGlzLnJlbmRlclRhcmdldC5oZWlnaHQ7XG4gICAgICAgIHZlcnRpY2FsQmx1ck1hdGVyaWFsLnVuaWZvcm1zLnREaWZmdXNlLnZhbHVlID1cbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0Qmx1ci50ZXh0dXJlO1xuICAgICAgICByZW5kZXJlci5zZXRSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyKGJsdXJQbGFuZSwgY2FtZXJhKTtcbiAgICAgICAgYmx1clBsYW5lLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyVGFyZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZW5kZXJUYXJnZXRCbHVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGFyZ2V0Qmx1ci5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXB0aE1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsQmx1ck1hdGVyaWFsLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52ZXJ0aWNhbEJsdXJNYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZmxvb3IubWF0ZXJpYWwuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmZsb29yLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5ibHVyUGxhbmUuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLnJlbW92ZUZyb21QYXJlbnQoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFkb3cuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/Shadow.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChangeSource: () => (/* binding */ ChangeSource),\n/* harmony export */   DEFAULT_OPTIONS: () => (/* binding */ DEFAULT_OPTIONS),\n/* harmony export */   KeyCode: () => (/* binding */ KeyCode),\n/* harmony export */   SmoothControls: () => (/* binding */ SmoothControls)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _features_controls_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../features/controls.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/features/controls.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _Damper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Damper.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/Damper.js\");\n/* @license\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\nconst PAN_SENSITIVITY = 0.018;\nconst TAP_DISTANCE = 2;\nconst TAP_MS = 300;\nconst vector2 = new three__WEBPACK_IMPORTED_MODULE_3__.Vector2();\nconst vector3 = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3();\nconst DEFAULT_OPTIONS = Object.freeze({\n    minimumRadius: 0,\n    maximumRadius: Infinity,\n    minimumPolarAngle: Math.PI / 8,\n    maximumPolarAngle: Math.PI - Math.PI / 8,\n    minimumAzimuthalAngle: -Infinity,\n    maximumAzimuthalAngle: Infinity,\n    minimumFieldOfView: 10,\n    maximumFieldOfView: 45,\n    touchAction: 'none'\n});\n// Constants\nconst KEYBOARD_ORBIT_INCREMENT = Math.PI / 8;\nconst ZOOM_SENSITIVITY = 0.04;\n// The move size on pan key event\nconst PAN_KEY_INCREMENT = 10;\nconst KeyCode = {\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40\n};\nconst ChangeSource = {\n    USER_INTERACTION: 'user-interaction',\n    NONE: 'none',\n    AUTOMATIC: 'automatic'\n};\n/**\n * SmoothControls is a Three.js helper for adding delightful pointer and\n * keyboard-based input to a staged Three.js scene. Its API is very similar to\n * OrbitControls, but it offers more opinionated (subjectively more delightful)\n * defaults, easy extensibility and subjectively better out-of-the-box keyboard\n * support.\n *\n * One important change compared to OrbitControls is that the `update` method\n * of SmoothControls must be invoked on every frame, otherwise the controls\n * will not have an effect.\n *\n * Another notable difference compared to OrbitControls is that SmoothControls\n * does not currently support panning (but probably will in a future revision).\n *\n * Like OrbitControls, SmoothControls assumes that the orientation of the camera\n * has been set in terms of position, rotation and scale, so it is important to\n * ensure that the camera's matrixWorld is in sync before using SmoothControls.\n */\nclass SmoothControls extends three__WEBPACK_IMPORTED_MODULE_3__.EventDispatcher {\n    constructor(camera, element, scene) {\n        super();\n        this.camera = camera;\n        this.element = element;\n        this.scene = scene;\n        this.orbitSensitivity = 1;\n        this.inputSensitivity = 1;\n        this.changeSource = ChangeSource.NONE;\n        this._interactionEnabled = false;\n        this._disableZoom = false;\n        this.isUserPointing = false;\n        // Pan state\n        this.enablePan = true;\n        this.enableTap = true;\n        this.panProjection = new three__WEBPACK_IMPORTED_MODULE_3__.Matrix3();\n        this.panPerPixel = 0;\n        // Internal orbital position state\n        this.spherical = new three__WEBPACK_IMPORTED_MODULE_3__.Spherical();\n        this.goalSpherical = new three__WEBPACK_IMPORTED_MODULE_3__.Spherical();\n        this.thetaDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        this.phiDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        this.radiusDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        this.logFov = Math.log(DEFAULT_OPTIONS.maximumFieldOfView);\n        this.goalLogFov = this.logFov;\n        this.fovDamper = new _Damper_js__WEBPACK_IMPORTED_MODULE_2__.Damper();\n        // Pointer state\n        this.touchMode = null;\n        this.pointers = [];\n        this.startTime = 0;\n        this.startPointerPosition = { clientX: 0, clientY: 0 };\n        this.lastSeparation = 0;\n        this.touchDecided = false;\n        this.onContext = (event) => {\n            if (this.enablePan) {\n                event.preventDefault();\n            }\n            else {\n                for (const pointer of this.pointers) {\n                    // Required because of a common browser bug where the context menu never\n                    // fires a pointercancel event.\n                    this.onPointerUp(new PointerEvent('pointercancel', Object.assign(Object.assign({}, this.startPointerPosition), { pointerId: pointer.id })));\n                }\n            }\n        };\n        this.touchModeZoom = (dx, dy) => {\n            if (!this._disableZoom) {\n                const touchDistance = this.twoTouchDistance(this.pointers[0], this.pointers[1]);\n                const deltaZoom = ZOOM_SENSITIVITY *\n                    (this.lastSeparation - touchDistance) * 50 / this.scene.height;\n                this.lastSeparation = touchDistance;\n                this.userAdjustOrbit(0, 0, deltaZoom);\n            }\n            if (this.panPerPixel > 0) {\n                this.movePan(dx, dy);\n            }\n        };\n        // We implement our own version of the browser's CSS touch-action, enforced by\n        // this function, because the iOS implementation of pan-y is bad and doesn't\n        // match Android. Specifically, even if a touch gesture begins by panning X,\n        // iOS will switch to scrolling as soon as the gesture moves in the Y, rather\n        // than staying in the same mode until the end of the gesture.\n        this.disableScroll = (event) => {\n            event.preventDefault();\n        };\n        this.touchModeRotate = (dx, dy) => {\n            const { touchAction } = this._options;\n            if (!this.touchDecided && touchAction !== 'none') {\n                this.touchDecided = true;\n                const dxMag = Math.abs(dx);\n                const dyMag = Math.abs(dy);\n                // If motion is mostly vertical, assume scrolling is the intent.\n                if (this.changeSource === ChangeSource.USER_INTERACTION &&\n                    ((touchAction === 'pan-y' && dyMag > dxMag) ||\n                        (touchAction === 'pan-x' && dxMag > dyMag))) {\n                    this.touchMode = null;\n                    return;\n                }\n                else {\n                    this.element.addEventListener('touchmove', this.disableScroll, { passive: false });\n                }\n            }\n            this.handleSinglePointerMove(dx, dy);\n        };\n        this.onPointerDown = (event) => {\n            if (this.pointers.length > 2) {\n                return;\n            }\n            const { element } = this;\n            if (this.pointers.length === 0) {\n                element.addEventListener('pointermove', this.onPointerMove);\n                element.addEventListener('pointerup', this.onPointerUp);\n                this.touchMode = null;\n                this.touchDecided = false;\n                this.startPointerPosition.clientX = event.clientX;\n                this.startPointerPosition.clientY = event.clientY;\n                this.startTime = performance.now();\n            }\n            try {\n                element.setPointerCapture(event.pointerId);\n            }\n            catch (_a) {\n            }\n            this.pointers.push({ clientX: event.clientX, clientY: event.clientY, id: event.pointerId });\n            this.isUserPointing = false;\n            if (event.pointerType === 'touch') {\n                this.changeSource = event.altKey ? // set by interact() in controls.ts\n                    ChangeSource.AUTOMATIC :\n                    ChangeSource.USER_INTERACTION;\n                this.onTouchChange(event);\n            }\n            else {\n                this.changeSource = ChangeSource.USER_INTERACTION;\n                this.onMouseDown(event);\n            }\n        };\n        this.onPointerMove = (event) => {\n            const pointer = this.pointers.find((pointer) => pointer.id === event.pointerId);\n            if (pointer == null) {\n                return;\n            }\n            const numTouches = this.pointers.length;\n            const dx = (event.clientX - pointer.clientX) / numTouches;\n            const dy = (event.clientY - pointer.clientY) / numTouches;\n            if (dx === 0 && dy === 0) {\n                return;\n            }\n            pointer.clientX = event.clientX;\n            pointer.clientY = event.clientY;\n            if (event.pointerType === 'touch') {\n                this.changeSource = event.altKey ? // set by interact() in controls.ts\n                    ChangeSource.AUTOMATIC :\n                    ChangeSource.USER_INTERACTION;\n                if (this.touchMode !== null) {\n                    this.touchMode(dx, dy);\n                }\n            }\n            else {\n                this.changeSource = ChangeSource.USER_INTERACTION;\n                if (this.panPerPixel > 0) {\n                    this.movePan(dx, dy);\n                }\n                else {\n                    this.handleSinglePointerMove(dx, dy);\n                }\n            }\n        };\n        this.onPointerUp = (event) => {\n            const { element } = this;\n            const index = this.pointers.findIndex((pointer) => pointer.id === event.pointerId);\n            if (index !== -1) {\n                this.pointers.splice(index, 1);\n            }\n            // altKey indicates an interaction prompt; don't reset radius in this case\n            // as it will cause the camera to drift.\n            if (this.panPerPixel > 0 && !event.altKey) {\n                this.resetRadius();\n            }\n            if (this.pointers.length === 0) {\n                element.removeEventListener('pointermove', this.onPointerMove);\n                element.removeEventListener('pointerup', this.onPointerUp);\n                element.removeEventListener('touchmove', this.disableScroll);\n                if (this.enablePan && this.enableTap) {\n                    this.recenter(event);\n                }\n            }\n            else if (this.touchMode !== null) {\n                this.onTouchChange(event);\n            }\n            this.scene.element[_features_controls_js__WEBPACK_IMPORTED_MODULE_0__.$panElement].style.opacity = 0;\n            element.style.cursor = 'grab';\n            this.panPerPixel = 0;\n            if (this.isUserPointing) {\n                this.dispatchEvent({ type: 'pointer-change-end' });\n            }\n        };\n        this.onWheel = (event) => {\n            this.changeSource = ChangeSource.USER_INTERACTION;\n            const deltaZoom = event.deltaY *\n                (event.deltaMode == 1 ? 18 : 1) * ZOOM_SENSITIVITY / 30;\n            this.userAdjustOrbit(0, 0, deltaZoom);\n            event.preventDefault();\n        };\n        this.onKeyDown = (event) => {\n            // We track if the key is actually one we respond to, so as not to\n            // accidentally clobber unrelated key inputs when the <model-viewer> has\n            // focus.\n            const { changeSource } = this;\n            this.changeSource = ChangeSource.USER_INTERACTION;\n            const relevantKey = (event.shiftKey && this.enablePan) ?\n                this.panKeyCodeHandler(event) :\n                this.orbitZoomKeyCodeHandler(event);\n            if (relevantKey) {\n                event.preventDefault();\n            }\n            else {\n                this.changeSource = changeSource;\n            }\n        };\n        this._options = Object.assign({}, DEFAULT_OPTIONS);\n        this.setOrbit(0, Math.PI / 2, 1);\n        this.setFieldOfView(100);\n        this.jumpToGoal();\n    }\n    get interactionEnabled() {\n        return this._interactionEnabled;\n    }\n    enableInteraction() {\n        if (this._interactionEnabled === false) {\n            const { element } = this;\n            element.addEventListener('pointerdown', this.onPointerDown);\n            element.addEventListener('pointercancel', this.onPointerUp);\n            if (!this._disableZoom) {\n                element.addEventListener('wheel', this.onWheel);\n            }\n            element.addEventListener('keydown', this.onKeyDown);\n            // This little beauty is to work around a WebKit bug that otherwise makes\n            // touch events randomly not cancelable.\n            element.addEventListener('touchmove', () => { }, { passive: false });\n            element.addEventListener('contextmenu', this.onContext);\n            this.element.style.cursor = 'grab';\n            this._interactionEnabled = true;\n            this.updateTouchActionStyle();\n        }\n    }\n    disableInteraction() {\n        if (this._interactionEnabled === true) {\n            const { element } = this;\n            element.removeEventListener('pointerdown', this.onPointerDown);\n            element.removeEventListener('pointermove', this.onPointerMove);\n            element.removeEventListener('pointerup', this.onPointerUp);\n            element.removeEventListener('pointercancel', this.onPointerUp);\n            element.removeEventListener('wheel', this.onWheel);\n            element.removeEventListener('keydown', this.onKeyDown);\n            element.removeEventListener('contextmenu', this.onContext);\n            element.style.cursor = '';\n            this.touchMode = null;\n            this._interactionEnabled = false;\n            this.updateTouchActionStyle();\n        }\n    }\n    /**\n     * The options that are currently configured for the controls instance.\n     */\n    get options() {\n        return this._options;\n    }\n    set disableZoom(disable) {\n        if (this._disableZoom != disable) {\n            this._disableZoom = disable;\n            if (disable === true) {\n                this.element.removeEventListener('wheel', this.onWheel);\n            }\n            else {\n                this.element.addEventListener('wheel', this.onWheel);\n            }\n            this.updateTouchActionStyle();\n        }\n    }\n    /**\n     * Copy the spherical values that represent the current camera orbital\n     * position relative to the configured target into a provided Spherical\n     * instance. If no Spherical is provided, a new Spherical will be allocated\n     * to copy the values into. The Spherical that values are copied into is\n     * returned.\n     */\n    getCameraSpherical(target = new three__WEBPACK_IMPORTED_MODULE_3__.Spherical()) {\n        return target.copy(this.spherical);\n    }\n    /**\n     * Returns the camera's current vertical field of view in degrees.\n     */\n    getFieldOfView() {\n        return this.camera.fov;\n    }\n    /**\n     * Configure the _options of the controls. Configured _options will be\n     * merged with whatever _options have already been configured for this\n     * controls instance.\n     */\n    applyOptions(_options) {\n        Object.assign(this._options, _options);\n        // Re-evaluates clamping based on potentially new values for min/max\n        // polar, azimuth and radius:\n        this.setOrbit();\n        this.setFieldOfView(Math.exp(this.goalLogFov));\n    }\n    /**\n     * Sets the near and far planes of the camera.\n     */\n    updateNearFar(nearPlane, farPlane) {\n        this.camera.near = Math.max(nearPlane, farPlane / 1000);\n        this.camera.far = farPlane;\n        this.camera.updateProjectionMatrix();\n    }\n    /**\n     * Sets the aspect ratio of the camera\n     */\n    updateAspect(aspect) {\n        this.camera.aspect = aspect;\n        this.camera.updateProjectionMatrix();\n    }\n    /**\n     * Set the absolute orbital goal of the camera. The change will be\n     * applied over a number of frames depending on configured acceleration and\n     * dampening _options.\n     *\n     * Returns true if invoking the method will result in the camera changing\n     * position and/or rotation, otherwise false.\n     */\n    setOrbit(goalTheta = this.goalSpherical.theta, goalPhi = this.goalSpherical.phi, goalRadius = this.goalSpherical.radius) {\n        const { minimumAzimuthalAngle, maximumAzimuthalAngle, minimumPolarAngle, maximumPolarAngle, minimumRadius, maximumRadius } = this._options;\n        const { theta, phi, radius } = this.goalSpherical;\n        const nextTheta = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(goalTheta, minimumAzimuthalAngle, maximumAzimuthalAngle);\n        if (!isFinite(minimumAzimuthalAngle) &&\n            !isFinite(maximumAzimuthalAngle)) {\n            this.spherical.theta =\n                this.wrapAngle(this.spherical.theta - nextTheta) + nextTheta;\n        }\n        const nextPhi = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(goalPhi, minimumPolarAngle, maximumPolarAngle);\n        const nextRadius = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(goalRadius, minimumRadius, maximumRadius);\n        if (nextTheta === theta && nextPhi === phi && nextRadius === radius) {\n            return false;\n        }\n        this.goalSpherical.theta = nextTheta;\n        this.goalSpherical.phi = nextPhi;\n        this.goalSpherical.radius = nextRadius;\n        this.goalSpherical.makeSafe();\n        return true;\n    }\n    /**\n     * Subset of setOrbit() above, which only sets the camera's radius.\n     */\n    setRadius(radius) {\n        this.goalSpherical.radius = radius;\n        this.setOrbit();\n    }\n    /**\n     * Sets the goal field of view for the camera\n     */\n    setFieldOfView(fov) {\n        const { minimumFieldOfView, maximumFieldOfView } = this._options;\n        fov = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(fov, minimumFieldOfView, maximumFieldOfView);\n        this.goalLogFov = Math.log(fov);\n    }\n    /**\n     * Sets the smoothing decay time.\n     */\n    setDamperDecayTime(decayMilliseconds) {\n        this.thetaDamper.setDecayTime(decayMilliseconds);\n        this.phiDamper.setDecayTime(decayMilliseconds);\n        this.radiusDamper.setDecayTime(decayMilliseconds);\n        this.fovDamper.setDecayTime(decayMilliseconds);\n    }\n    /**\n     * Adjust the orbital position of the camera relative to its current orbital\n     * position. Does not let the theta goal get more than pi ahead of the current\n     * theta, which ensures interpolation continues in the direction of the delta.\n     * The deltaZoom parameter adjusts both the field of view and the orbit radius\n     * such that they progress across their allowed ranges in sync.\n     */\n    adjustOrbit(deltaTheta, deltaPhi, deltaZoom) {\n        const { theta, phi, radius } = this.goalSpherical;\n        const { minimumRadius, maximumRadius, minimumFieldOfView, maximumFieldOfView } = this._options;\n        const dTheta = this.spherical.theta - theta;\n        const dThetaLimit = Math.PI - 0.001;\n        const goalTheta = theta - (0,_utilities_js__WEBPACK_IMPORTED_MODULE_1__.clamp)(deltaTheta, -dThetaLimit - dTheta, dThetaLimit - dTheta);\n        const goalPhi = phi - deltaPhi;\n        const deltaRatio = deltaZoom === 0 ?\n            0 :\n            ((deltaZoom > 0 ? maximumRadius : minimumRadius) - radius) /\n                (Math.log(deltaZoom > 0 ? maximumFieldOfView : minimumFieldOfView) -\n                    this.goalLogFov);\n        const goalRadius = radius +\n            deltaZoom *\n                (isFinite(deltaRatio) ? deltaRatio :\n                    (maximumRadius - minimumRadius) * 2);\n        this.setOrbit(goalTheta, goalPhi, goalRadius);\n        if (deltaZoom !== 0) {\n            const goalLogFov = this.goalLogFov + deltaZoom;\n            this.setFieldOfView(Math.exp(goalLogFov));\n        }\n    }\n    /**\n     * Move the camera instantly instead of accelerating toward the goal\n     * parameters.\n     */\n    jumpToGoal() {\n        this.update(0, _Damper_js__WEBPACK_IMPORTED_MODULE_2__.SETTLING_TIME);\n    }\n    /**\n     * Update controls. In most cases, this will result in the camera\n     * interpolating its position and rotation until it lines up with the\n     * designated goal orbital position.\n     *\n     * Time and delta are measured in milliseconds.\n     */\n    update(_time, delta) {\n        if (this.isStationary()) {\n            return;\n        }\n        const { maximumPolarAngle, maximumRadius } = this._options;\n        const dTheta = this.spherical.theta - this.goalSpherical.theta;\n        if (Math.abs(dTheta) > Math.PI &&\n            !isFinite(this._options.minimumAzimuthalAngle) &&\n            !isFinite(this._options.maximumAzimuthalAngle)) {\n            this.spherical.theta -= Math.sign(dTheta) * 2 * Math.PI;\n        }\n        this.spherical.theta = this.thetaDamper.update(this.spherical.theta, this.goalSpherical.theta, delta, Math.PI);\n        this.spherical.phi = this.phiDamper.update(this.spherical.phi, this.goalSpherical.phi, delta, maximumPolarAngle);\n        this.spherical.radius = this.radiusDamper.update(this.spherical.radius, this.goalSpherical.radius, delta, maximumRadius);\n        this.logFov = this.fovDamper.update(this.logFov, this.goalLogFov, delta, 1);\n        this.moveCamera();\n    }\n    updateTouchActionStyle() {\n        const { style } = this.element;\n        if (this._interactionEnabled) {\n            const { touchAction } = this._options;\n            if (this._disableZoom && touchAction !== 'none') {\n                style.touchAction = 'manipulation';\n            }\n            else {\n                style.touchAction = touchAction;\n            }\n        }\n        else {\n            style.touchAction = '';\n        }\n    }\n    isStationary() {\n        return this.goalSpherical.theta === this.spherical.theta &&\n            this.goalSpherical.phi === this.spherical.phi &&\n            this.goalSpherical.radius === this.spherical.radius &&\n            this.goalLogFov === this.logFov;\n    }\n    dispatchChange() {\n        this.dispatchEvent({ type: 'change', source: this.changeSource });\n    }\n    moveCamera() {\n        // Derive the new camera position from the updated spherical:\n        this.spherical.makeSafe();\n        this.camera.position.setFromSpherical(this.spherical);\n        this.camera.setRotationFromEuler(new three__WEBPACK_IMPORTED_MODULE_3__.Euler(this.spherical.phi - Math.PI / 2, this.spherical.theta, 0, 'YXZ'));\n        if (this.camera.fov !== Math.exp(this.logFov)) {\n            this.camera.fov = Math.exp(this.logFov);\n            this.camera.updateProjectionMatrix();\n        }\n        this.dispatchChange();\n    }\n    userAdjustOrbit(deltaTheta, deltaPhi, deltaZoom) {\n        this.adjustOrbit(deltaTheta * this.orbitSensitivity * this.inputSensitivity, deltaPhi * this.orbitSensitivity * this.inputSensitivity, deltaZoom * this.inputSensitivity);\n        // Always make sure that an initial event is triggered in case there is\n        // contention between user interaction and imperative changes. This initial\n        // event will give external observers that chance to observe that\n        // interaction occurred at all:\n        this.dispatchChange();\n    }\n    // Wraps to between -pi and pi\n    wrapAngle(radians) {\n        const normalized = (radians + Math.PI) / (2 * Math.PI);\n        const wrapped = normalized - Math.floor(normalized);\n        return wrapped * 2 * Math.PI - Math.PI;\n    }\n    pixelLengthToSphericalAngle(pixelLength) {\n        return 2 * Math.PI * pixelLength / this.element.clientHeight;\n    }\n    twoTouchDistance(touchOne, touchTwo) {\n        const { clientX: xOne, clientY: yOne } = touchOne;\n        const { clientX: xTwo, clientY: yTwo } = touchTwo;\n        const xDelta = xTwo - xOne;\n        const yDelta = yTwo - yOne;\n        return Math.sqrt(xDelta * xDelta + yDelta * yDelta);\n    }\n    handleSinglePointerMove(dx, dy) {\n        const deltaTheta = this.pixelLengthToSphericalAngle(dx);\n        const deltaPhi = this.pixelLengthToSphericalAngle(dy);\n        if (this.isUserPointing === false) {\n            this.isUserPointing = true;\n            this.dispatchEvent({ type: 'pointer-change-start' });\n        }\n        this.userAdjustOrbit(deltaTheta, deltaPhi, 0);\n    }\n    initializePan() {\n        const { theta, phi } = this.spherical;\n        const psi = theta - this.scene.yaw;\n        this.panPerPixel = PAN_SENSITIVITY / this.scene.height;\n        this.panProjection.set(-Math.cos(psi), -Math.cos(phi) * Math.sin(psi), 0, 0, Math.sin(phi), 0, Math.sin(psi), -Math.cos(phi) * Math.cos(psi), 0);\n    }\n    movePan(dx, dy) {\n        const { scene } = this;\n        const dxy = vector3.set(dx, dy, 0).multiplyScalar(this.inputSensitivity);\n        const metersPerPixel = this.spherical.radius * Math.exp(this.logFov) * this.panPerPixel;\n        dxy.multiplyScalar(metersPerPixel);\n        const target = scene.getTarget();\n        target.add(dxy.applyMatrix3(this.panProjection));\n        scene.boundingSphere.clampPoint(target, target);\n        scene.setTarget(target.x, target.y, target.z);\n        this.dispatchChange();\n    }\n    recenter(pointer) {\n        if (performance.now() > this.startTime + TAP_MS ||\n            Math.abs(pointer.clientX - this.startPointerPosition.clientX) >\n                TAP_DISTANCE ||\n            Math.abs(pointer.clientY - this.startPointerPosition.clientY) >\n                TAP_DISTANCE) {\n            return;\n        }\n        const { scene } = this;\n        const hit = scene.positionAndNormalFromPoint(scene.getNDC(pointer.clientX, pointer.clientY));\n        if (hit == null) {\n            const { cameraTarget } = scene.element;\n            scene.element.cameraTarget = '';\n            scene.element.cameraTarget = cameraTarget;\n            // Zoom all the way out.\n            this.userAdjustOrbit(0, 0, 1);\n        }\n        else {\n            scene.target.worldToLocal(hit.position);\n            scene.setTarget(hit.position.x, hit.position.y, hit.position.z);\n        }\n    }\n    resetRadius() {\n        const { scene } = this;\n        const hit = scene.positionAndNormalFromPoint(vector2.set(0, 0));\n        if (hit == null) {\n            return;\n        }\n        scene.target.worldToLocal(hit.position);\n        const goalTarget = scene.getTarget();\n        const { theta, phi } = this.spherical;\n        // Set target to surface hit point, except the target is still settling,\n        // so offset the goal accordingly so the transition is smooth even though\n        // this will drift the target slightly away from the hit point.\n        const psi = theta - scene.yaw;\n        const n = vector3.set(Math.sin(phi) * Math.sin(psi), Math.cos(phi), Math.sin(phi) * Math.cos(psi));\n        const dr = n.dot(hit.position.sub(goalTarget));\n        goalTarget.add(n.multiplyScalar(dr));\n        scene.setTarget(goalTarget.x, goalTarget.y, goalTarget.z);\n        // Change the camera radius to match the change in target so that the\n        // camera itself does not move, unless it hits a radius bound.\n        this.setOrbit(undefined, undefined, this.goalSpherical.radius - dr);\n    }\n    onTouchChange(event) {\n        if (this.pointers.length === 1) {\n            this.touchMode = this.touchModeRotate;\n        }\n        else {\n            if (this._disableZoom) {\n                this.touchMode = null;\n                this.element.removeEventListener('touchmove', this.disableScroll);\n                return;\n            }\n            this.touchMode = (this.touchDecided && this.touchMode === null) ?\n                null :\n                this.touchModeZoom;\n            this.touchDecided = true;\n            this.element.addEventListener('touchmove', this.disableScroll, { passive: false });\n            this.lastSeparation =\n                this.twoTouchDistance(this.pointers[0], this.pointers[1]);\n            if (this.enablePan && this.touchMode != null) {\n                this.initializePan();\n                if (!event.altKey) { // user interaction, not prompt\n                    this.scene.element[_features_controls_js__WEBPACK_IMPORTED_MODULE_0__.$panElement].style.opacity = 1;\n                }\n            }\n        }\n    }\n    onMouseDown(event) {\n        this.panPerPixel = 0;\n        if (this.enablePan &&\n            (event.button === 2 || event.ctrlKey || event.metaKey ||\n                event.shiftKey)) {\n            this.initializePan();\n            this.scene.element[_features_controls_js__WEBPACK_IMPORTED_MODULE_0__.$panElement].style.opacity = 1;\n        }\n        this.element.style.cursor = 'grabbing';\n    }\n    /**\n     * Handles the orbit and Zoom key presses\n     * Uses constants for the increment.\n     * @param event The keyboard event for the .key value\n     * @returns boolean to indicate if the key event has been handled\n     */\n    orbitZoomKeyCodeHandler(event) {\n        let relevantKey = true;\n        switch (event.key) {\n            case 'PageUp':\n                this.userAdjustOrbit(0, 0, ZOOM_SENSITIVITY);\n                break;\n            case 'PageDown':\n                this.userAdjustOrbit(0, 0, -1 * ZOOM_SENSITIVITY);\n                break;\n            case 'ArrowUp':\n                this.userAdjustOrbit(0, -KEYBOARD_ORBIT_INCREMENT, 0);\n                break;\n            case 'ArrowDown':\n                this.userAdjustOrbit(0, KEYBOARD_ORBIT_INCREMENT, 0);\n                break;\n            case 'ArrowLeft':\n                this.userAdjustOrbit(-KEYBOARD_ORBIT_INCREMENT, 0, 0);\n                break;\n            case 'ArrowRight':\n                this.userAdjustOrbit(KEYBOARD_ORBIT_INCREMENT, 0, 0);\n                break;\n            default:\n                relevantKey = false;\n                break;\n        }\n        return relevantKey;\n    }\n    /**\n     * Handles the Pan key presses\n     * Uses constants for the increment.\n     * @param event The keyboard event for the .key value\n     * @returns boolean to indicate if the key event has been handled\n     */\n    panKeyCodeHandler(event) {\n        this.initializePan();\n        let relevantKey = true;\n        switch (event.key) {\n            case 'ArrowUp':\n                this.movePan(0, -1 * PAN_KEY_INCREMENT); // This is the negative one so that the\n                // model appears to move as the arrow\n                // direction rather than the view moving\n                break;\n            case 'ArrowDown':\n                this.movePan(0, PAN_KEY_INCREMENT);\n                break;\n            case 'ArrowLeft':\n                this.movePan(-1 * PAN_KEY_INCREMENT, 0);\n                break;\n            case 'ArrowRight':\n                this.movePan(PAN_KEY_INCREMENT, 0);\n                break;\n            default:\n                relevantKey = false;\n                break;\n        }\n        return relevantKey;\n    }\n}\n//# sourceMappingURL=SmoothControls.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvU21vb3RoQ29udHJvbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNxRjtBQUMvQjtBQUNkO0FBQ1k7QUFDcEQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBDQUFPO0FBQzNCLG9CQUFvQiwwQ0FBTztBQUNwQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIsa0RBQWU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQywwQ0FBTztBQUN4QztBQUNBO0FBQ0EsNkJBQTZCLDRDQUFTO0FBQ3RDLGlDQUFpQyw0Q0FBUztBQUMxQywrQkFBK0IsOENBQU07QUFDckMsNkJBQTZCLDhDQUFNO0FBQ25DLGdDQUFnQyw4Q0FBTTtBQUN0QztBQUNBO0FBQ0EsNkJBQTZCLDhDQUFNO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUdBQXFHLGdDQUFnQyx1QkFBdUI7QUFDNUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLGdCQUFnQjtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFVBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxRUFBcUU7QUFDdEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw4REFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNEJBQTRCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELElBQUksZ0JBQWdCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDRDQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUhBQW1IO0FBQ25JLGdCQUFnQixxQkFBcUI7QUFDckMsMEJBQTBCLG9EQUFLO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQUs7QUFDN0IsMkJBQTJCLG9EQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pELGNBQWMsb0RBQUs7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscUJBQXFCO0FBQ3JDLGdCQUFnQix1RUFBdUU7QUFDdkY7QUFDQTtBQUNBLGtDQUFrQyxvREFBSztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscURBQWE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1DQUFtQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDJDQUEyQztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHdDQUFLO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwrQkFBK0I7QUFDL0MsZ0JBQWdCLCtCQUErQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOEJBQThCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixRQUFRO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RUFBNkUsZ0JBQWdCO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDLHVDQUF1Qyw4REFBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw4REFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL1Ntb290aENvbnRyb2xzLmpzPzIxN2EiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBFdWxlciwgRXZlbnREaXNwYXRjaGVyLCBNYXRyaXgzLCBTcGhlcmljYWwsIFZlY3RvcjIsIFZlY3RvcjMgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyAkcGFuRWxlbWVudCB9IGZyb20gJy4uL2ZlYXR1cmVzL2NvbnRyb2xzLmpzJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCB7IERhbXBlciwgU0VUVExJTkdfVElNRSB9IGZyb20gJy4vRGFtcGVyLmpzJztcbmNvbnN0IFBBTl9TRU5TSVRJVklUWSA9IDAuMDE4O1xuY29uc3QgVEFQX0RJU1RBTkNFID0gMjtcbmNvbnN0IFRBUF9NUyA9IDMwMDtcbmNvbnN0IHZlY3RvcjIgPSBuZXcgVmVjdG9yMigpO1xuY29uc3QgdmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7XG5leHBvcnQgY29uc3QgREVGQVVMVF9PUFRJT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgbWluaW11bVJhZGl1czogMCxcbiAgICBtYXhpbXVtUmFkaXVzOiBJbmZpbml0eSxcbiAgICBtaW5pbXVtUG9sYXJBbmdsZTogTWF0aC5QSSAvIDgsXG4gICAgbWF4aW11bVBvbGFyQW5nbGU6IE1hdGguUEkgLSBNYXRoLlBJIC8gOCxcbiAgICBtaW5pbXVtQXppbXV0aGFsQW5nbGU6IC1JbmZpbml0eSxcbiAgICBtYXhpbXVtQXppbXV0aGFsQW5nbGU6IEluZmluaXR5LFxuICAgIG1pbmltdW1GaWVsZE9mVmlldzogMTAsXG4gICAgbWF4aW11bUZpZWxkT2ZWaWV3OiA0NSxcbiAgICB0b3VjaEFjdGlvbjogJ25vbmUnXG59KTtcbi8vIENvbnN0YW50c1xuY29uc3QgS0VZQk9BUkRfT1JCSVRfSU5DUkVNRU5UID0gTWF0aC5QSSAvIDg7XG5jb25zdCBaT09NX1NFTlNJVElWSVRZID0gMC4wNDtcbi8vIFRoZSBtb3ZlIHNpemUgb24gcGFuIGtleSBldmVudFxuY29uc3QgUEFOX0tFWV9JTkNSRU1FTlQgPSAxMDtcbmV4cG9ydCBjb25zdCBLZXlDb2RlID0ge1xuICAgIFBBR0VfVVA6IDMzLFxuICAgIFBBR0VfRE9XTjogMzQsXG4gICAgTEVGVDogMzcsXG4gICAgVVA6IDM4LFxuICAgIFJJR0hUOiAzOSxcbiAgICBET1dOOiA0MFxufTtcbmV4cG9ydCBjb25zdCBDaGFuZ2VTb3VyY2UgPSB7XG4gICAgVVNFUl9JTlRFUkFDVElPTjogJ3VzZXItaW50ZXJhY3Rpb24nLFxuICAgIE5PTkU6ICdub25lJyxcbiAgICBBVVRPTUFUSUM6ICdhdXRvbWF0aWMnXG59O1xuLyoqXG4gKiBTbW9vdGhDb250cm9scyBpcyBhIFRocmVlLmpzIGhlbHBlciBmb3IgYWRkaW5nIGRlbGlnaHRmdWwgcG9pbnRlciBhbmRcbiAqIGtleWJvYXJkLWJhc2VkIGlucHV0IHRvIGEgc3RhZ2VkIFRocmVlLmpzIHNjZW5lLiBJdHMgQVBJIGlzIHZlcnkgc2ltaWxhciB0b1xuICogT3JiaXRDb250cm9scywgYnV0IGl0IG9mZmVycyBtb3JlIG9waW5pb25hdGVkIChzdWJqZWN0aXZlbHkgbW9yZSBkZWxpZ2h0ZnVsKVxuICogZGVmYXVsdHMsIGVhc3kgZXh0ZW5zaWJpbGl0eSBhbmQgc3ViamVjdGl2ZWx5IGJldHRlciBvdXQtb2YtdGhlLWJveCBrZXlib2FyZFxuICogc3VwcG9ydC5cbiAqXG4gKiBPbmUgaW1wb3J0YW50IGNoYW5nZSBjb21wYXJlZCB0byBPcmJpdENvbnRyb2xzIGlzIHRoYXQgdGhlIGB1cGRhdGVgIG1ldGhvZFxuICogb2YgU21vb3RoQ29udHJvbHMgbXVzdCBiZSBpbnZva2VkIG9uIGV2ZXJ5IGZyYW1lLCBvdGhlcndpc2UgdGhlIGNvbnRyb2xzXG4gKiB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdC5cbiAqXG4gKiBBbm90aGVyIG5vdGFibGUgZGlmZmVyZW5jZSBjb21wYXJlZCB0byBPcmJpdENvbnRyb2xzIGlzIHRoYXQgU21vb3RoQ29udHJvbHNcbiAqIGRvZXMgbm90IGN1cnJlbnRseSBzdXBwb3J0IHBhbm5pbmcgKGJ1dCBwcm9iYWJseSB3aWxsIGluIGEgZnV0dXJlIHJldmlzaW9uKS5cbiAqXG4gKiBMaWtlIE9yYml0Q29udHJvbHMsIFNtb290aENvbnRyb2xzIGFzc3VtZXMgdGhhdCB0aGUgb3JpZW50YXRpb24gb2YgdGhlIGNhbWVyYVxuICogaGFzIGJlZW4gc2V0IGluIHRlcm1zIG9mIHBvc2l0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGUsIHNvIGl0IGlzIGltcG9ydGFudCB0b1xuICogZW5zdXJlIHRoYXQgdGhlIGNhbWVyYSdzIG1hdHJpeFdvcmxkIGlzIGluIHN5bmMgYmVmb3JlIHVzaW5nIFNtb290aENvbnRyb2xzLlxuICovXG5leHBvcnQgY2xhc3MgU21vb3RoQ29udHJvbHMgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGNhbWVyYSwgZWxlbWVudCwgc2NlbmUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICAgICAgdGhpcy5vcmJpdFNlbnNpdGl2aXR5ID0gMTtcbiAgICAgICAgdGhpcy5pbnB1dFNlbnNpdGl2aXR5ID0gMTtcbiAgICAgICAgdGhpcy5jaGFuZ2VTb3VyY2UgPSBDaGFuZ2VTb3VyY2UuTk9ORTtcbiAgICAgICAgdGhpcy5faW50ZXJhY3Rpb25FbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVab29tID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNVc2VyUG9pbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gUGFuIHN0YXRlXG4gICAgICAgIHRoaXMuZW5hYmxlUGFuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbmFibGVUYXAgPSB0cnVlO1xuICAgICAgICB0aGlzLnBhblByb2plY3Rpb24gPSBuZXcgTWF0cml4MygpO1xuICAgICAgICB0aGlzLnBhblBlclBpeGVsID0gMDtcbiAgICAgICAgLy8gSW50ZXJuYWwgb3JiaXRhbCBwb3NpdGlvbiBzdGF0ZVxuICAgICAgICB0aGlzLnNwaGVyaWNhbCA9IG5ldyBTcGhlcmljYWwoKTtcbiAgICAgICAgdGhpcy5nb2FsU3BoZXJpY2FsID0gbmV3IFNwaGVyaWNhbCgpO1xuICAgICAgICB0aGlzLnRoZXRhRGFtcGVyID0gbmV3IERhbXBlcigpO1xuICAgICAgICB0aGlzLnBoaURhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgdGhpcy5yYWRpdXNEYW1wZXIgPSBuZXcgRGFtcGVyKCk7XG4gICAgICAgIHRoaXMubG9nRm92ID0gTWF0aC5sb2coREVGQVVMVF9PUFRJT05TLm1heGltdW1GaWVsZE9mVmlldyk7XG4gICAgICAgIHRoaXMuZ29hbExvZ0ZvdiA9IHRoaXMubG9nRm92O1xuICAgICAgICB0aGlzLmZvdkRhbXBlciA9IG5ldyBEYW1wZXIoKTtcbiAgICAgICAgLy8gUG9pbnRlciBzdGF0ZVxuICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0UG9pbnRlclBvc2l0aW9uID0geyBjbGllbnRYOiAwLCBjbGllbnRZOiAwIH07XG4gICAgICAgIHRoaXMubGFzdFNlcGFyYXRpb24gPSAwO1xuICAgICAgICB0aGlzLnRvdWNoRGVjaWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29udGV4dCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlUGFuKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcG9pbnRlciBvZiB0aGlzLnBvaW50ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcXVpcmVkIGJlY2F1c2Ugb2YgYSBjb21tb24gYnJvd3NlciBidWcgd2hlcmUgdGhlIGNvbnRleHQgbWVudSBuZXZlclxuICAgICAgICAgICAgICAgICAgICAvLyBmaXJlcyBhIHBvaW50ZXJjYW5jZWwgZXZlbnQuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Qb2ludGVyVXAobmV3IFBvaW50ZXJFdmVudCgncG9pbnRlcmNhbmNlbCcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGFydFBvaW50ZXJQb3NpdGlvbiksIHsgcG9pbnRlcklkOiBwb2ludGVyLmlkIH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRvdWNoTW9kZVpvb20gPSAoZHgsIGR5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Rpc2FibGVab29tKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2hEaXN0YW5jZSA9IHRoaXMudHdvVG91Y2hEaXN0YW5jZSh0aGlzLnBvaW50ZXJzWzBdLCB0aGlzLnBvaW50ZXJzWzFdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVpvb20gPSBaT09NX1NFTlNJVElWSVRZICpcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMubGFzdFNlcGFyYXRpb24gLSB0b3VjaERpc3RhbmNlKSAqIDUwIC8gdGhpcy5zY2VuZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0U2VwYXJhdGlvbiA9IHRvdWNoRGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyQWRqdXN0T3JiaXQoMCwgMCwgZGVsdGFab29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBhblBlclBpeGVsID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhbihkeCwgZHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBXZSBpbXBsZW1lbnQgb3VyIG93biB2ZXJzaW9uIG9mIHRoZSBicm93c2VyJ3MgQ1NTIHRvdWNoLWFjdGlvbiwgZW5mb3JjZWQgYnlcbiAgICAgICAgLy8gdGhpcyBmdW5jdGlvbiwgYmVjYXVzZSB0aGUgaU9TIGltcGxlbWVudGF0aW9uIG9mIHBhbi15IGlzIGJhZCBhbmQgZG9lc24ndFxuICAgICAgICAvLyBtYXRjaCBBbmRyb2lkLiBTcGVjaWZpY2FsbHksIGV2ZW4gaWYgYSB0b3VjaCBnZXN0dXJlIGJlZ2lucyBieSBwYW5uaW5nIFgsXG4gICAgICAgIC8vIGlPUyB3aWxsIHN3aXRjaCB0byBzY3JvbGxpbmcgYXMgc29vbiBhcyB0aGUgZ2VzdHVyZSBtb3ZlcyBpbiB0aGUgWSwgcmF0aGVyXG4gICAgICAgIC8vIHRoYW4gc3RheWluZyBpbiB0aGUgc2FtZSBtb2RlIHVudGlsIHRoZSBlbmQgb2YgdGhlIGdlc3R1cmUuXG4gICAgICAgIHRoaXMuZGlzYWJsZVNjcm9sbCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50b3VjaE1vZGVSb3RhdGUgPSAoZHgsIGR5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHRvdWNoQWN0aW9uIH0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRvdWNoRGVjaWRlZCAmJiB0b3VjaEFjdGlvbiAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaERlY2lkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR4TWFnID0gTWF0aC5hYnMoZHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGR5TWFnID0gTWF0aC5hYnMoZHkpO1xuICAgICAgICAgICAgICAgIC8vIElmIG1vdGlvbiBpcyBtb3N0bHkgdmVydGljYWwsIGFzc3VtZSBzY3JvbGxpbmcgaXMgdGhlIGludGVudC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFuZ2VTb3VyY2UgPT09IENoYW5nZVNvdXJjZS5VU0VSX0lOVEVSQUNUSU9OICYmXG4gICAgICAgICAgICAgICAgICAgICgodG91Y2hBY3Rpb24gPT09ICdwYW4teScgJiYgZHlNYWcgPiBkeE1hZykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0b3VjaEFjdGlvbiA9PT0gJ3Bhbi14JyAmJiBkeE1hZyA+IGR5TWFnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b3VjaE1vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5kaXNhYmxlU2Nyb2xsLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU2luZ2xlUG9pbnRlck1vdmUoZHgsIGR5KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVycy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaERlY2lkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UG9pbnRlclBvc2l0aW9uLmNsaWVudFggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb2ludGVyUG9zaXRpb24uY2xpZW50WSA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBvaW50ZXJzLnB1c2goeyBjbGllbnRYOiBldmVudC5jbGllbnRYLCBjbGllbnRZOiBldmVudC5jbGllbnRZLCBpZDogZXZlbnQucG9pbnRlcklkIH0pO1xuICAgICAgICAgICAgdGhpcy5pc1VzZXJQb2ludGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTb3VyY2UgPSBldmVudC5hbHRLZXkgPyAvLyBzZXQgYnkgaW50ZXJhY3QoKSBpbiBjb250cm9scy50c1xuICAgICAgICAgICAgICAgICAgICBDaGFuZ2VTb3VyY2UuQVVUT01BVElDIDpcbiAgICAgICAgICAgICAgICAgICAgQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICAgICAgdGhpcy5vblRvdWNoQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlRG93bihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRlciA9IHRoaXMucG9pbnRlcnMuZmluZCgocG9pbnRlcikgPT4gcG9pbnRlci5pZCA9PT0gZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIGlmIChwb2ludGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBudW1Ub3VjaGVzID0gdGhpcy5wb2ludGVycy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBkeCA9IChldmVudC5jbGllbnRYIC0gcG9pbnRlci5jbGllbnRYKSAvIG51bVRvdWNoZXM7XG4gICAgICAgICAgICBjb25zdCBkeSA9IChldmVudC5jbGllbnRZIC0gcG9pbnRlci5jbGllbnRZKSAvIG51bVRvdWNoZXM7XG4gICAgICAgICAgICBpZiAoZHggPT09IDAgJiYgZHkgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2ludGVyLmNsaWVudFggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgICAgcG9pbnRlci5jbGllbnRZID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gZXZlbnQuYWx0S2V5ID8gLy8gc2V0IGJ5IGludGVyYWN0KCkgaW4gY29udHJvbHMudHNcbiAgICAgICAgICAgICAgICAgICAgQ2hhbmdlU291cmNlLkFVVE9NQVRJQyA6XG4gICAgICAgICAgICAgICAgICAgIENoYW5nZVNvdXJjZS5VU0VSX0lOVEVSQUNUSU9OO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRvdWNoTW9kZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdWNoTW9kZShkeCwgZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFuUGVyUGl4ZWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhbihkeCwgZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTaW5nbGVQb2ludGVyTW92ZShkeCwgZHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBvaW50ZXJzLmZpbmRJbmRleCgocG9pbnRlcikgPT4gcG9pbnRlci5pZCA9PT0gZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhbHRLZXkgaW5kaWNhdGVzIGFuIGludGVyYWN0aW9uIHByb21wdDsgZG9uJ3QgcmVzZXQgcmFkaXVzIGluIHRoaXMgY2FzZVxuICAgICAgICAgICAgLy8gYXMgaXQgd2lsbCBjYXVzZSB0aGUgY2FtZXJhIHRvIGRyaWZ0LlxuICAgICAgICAgICAgaWYgKHRoaXMucGFuUGVyUGl4ZWwgPiAwICYmICFldmVudC5hbHRLZXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0UmFkaXVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wb2ludGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMub25Qb2ludGVyVXApO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5kaXNhYmxlU2Nyb2xsKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbmFibGVQYW4gJiYgdGhpcy5lbmFibGVUYXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNlbnRlcihldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy50b3VjaE1vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVG91Y2hDaGFuZ2UoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5lbGVtZW50WyRwYW5FbGVtZW50XS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJ2dyYWInO1xuICAgICAgICAgICAgdGhpcy5wYW5QZXJQaXhlbCA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1VzZXJQb2ludGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICdwb2ludGVyLWNoYW5nZS1lbmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uV2hlZWwgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gQ2hhbmdlU291cmNlLlVTRVJfSU5URVJBQ1RJT047XG4gICAgICAgICAgICBjb25zdCBkZWx0YVpvb20gPSBldmVudC5kZWx0YVkgKlxuICAgICAgICAgICAgICAgIChldmVudC5kZWx0YU1vZGUgPT0gMSA/IDE4IDogMSkgKiBaT09NX1NFTlNJVElWSVRZIC8gMzA7XG4gICAgICAgICAgICB0aGlzLnVzZXJBZGp1c3RPcmJpdCgwLCAwLCBkZWx0YVpvb20pO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vbktleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIC8vIFdlIHRyYWNrIGlmIHRoZSBrZXkgaXMgYWN0dWFsbHkgb25lIHdlIHJlc3BvbmQgdG8sIHNvIGFzIG5vdCB0b1xuICAgICAgICAgICAgLy8gYWNjaWRlbnRhbGx5IGNsb2JiZXIgdW5yZWxhdGVkIGtleSBpbnB1dHMgd2hlbiB0aGUgPG1vZGVsLXZpZXdlcj4gaGFzXG4gICAgICAgICAgICAvLyBmb2N1cy5cbiAgICAgICAgICAgIGNvbnN0IHsgY2hhbmdlU291cmNlIH0gPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTb3VyY2UgPSBDaGFuZ2VTb3VyY2UuVVNFUl9JTlRFUkFDVElPTjtcbiAgICAgICAgICAgIGNvbnN0IHJlbGV2YW50S2V5ID0gKGV2ZW50LnNoaWZ0S2V5ICYmIHRoaXMuZW5hYmxlUGFuKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5wYW5LZXlDb2RlSGFuZGxlcihldmVudCkgOlxuICAgICAgICAgICAgICAgIHRoaXMub3JiaXRab29tS2V5Q29kZUhhbmRsZXIoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKHJlbGV2YW50S2V5KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU291cmNlID0gY2hhbmdlU291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9PUFRJT05TKTtcbiAgICAgICAgdGhpcy5zZXRPcmJpdCgwLCBNYXRoLlBJIC8gMiwgMSk7XG4gICAgICAgIHRoaXMuc2V0RmllbGRPZlZpZXcoMTAwKTtcbiAgICAgICAgdGhpcy5qdW1wVG9Hb2FsKCk7XG4gICAgfVxuICAgIGdldCBpbnRlcmFjdGlvbkVuYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGlvbkVuYWJsZWQ7XG4gICAgfVxuICAgIGVuYWJsZUludGVyYWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3Rpb25FbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93bik7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlclVwKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGlzYWJsZVpvb20pIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duKTtcbiAgICAgICAgICAgIC8vIFRoaXMgbGl0dGxlIGJlYXV0eSBpcyB0byB3b3JrIGFyb3VuZCBhIFdlYktpdCBidWcgdGhhdCBvdGhlcndpc2UgbWFrZXNcbiAgICAgICAgICAgIC8vIHRvdWNoIGV2ZW50cyByYW5kb21seSBub3QgY2FuY2VsYWJsZS5cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKCkgPT4geyB9LCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMub25Db250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnZ3JhYic7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcmFjdGlvbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3VjaEFjdGlvblN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzYWJsZUludGVyYWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5faW50ZXJhY3Rpb25FbmFibGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQgfSA9IHRoaXM7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyVXApO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbCk7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLm9uS2V5RG93bik7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5vbkNvbnRleHQpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnJztcbiAgICAgICAgICAgIHRoaXMudG91Y2hNb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX2ludGVyYWN0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3VjaEFjdGlvblN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG9wdGlvbnMgdGhhdCBhcmUgY3VycmVudGx5IGNvbmZpZ3VyZWQgZm9yIHRoZSBjb250cm9scyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfVxuICAgIHNldCBkaXNhYmxlWm9vbShkaXNhYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlWm9vbSAhPSBkaXNhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNhYmxlWm9vbSA9IGRpc2FibGU7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25XaGVlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLm9uV2hlZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3VjaEFjdGlvblN0eWxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgc3BoZXJpY2FsIHZhbHVlcyB0aGF0IHJlcHJlc2VudCB0aGUgY3VycmVudCBjYW1lcmEgb3JiaXRhbFxuICAgICAqIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBjb25maWd1cmVkIHRhcmdldCBpbnRvIGEgcHJvdmlkZWQgU3BoZXJpY2FsXG4gICAgICogaW5zdGFuY2UuIElmIG5vIFNwaGVyaWNhbCBpcyBwcm92aWRlZCwgYSBuZXcgU3BoZXJpY2FsIHdpbGwgYmUgYWxsb2NhdGVkXG4gICAgICogdG8gY29weSB0aGUgdmFsdWVzIGludG8uIFRoZSBTcGhlcmljYWwgdGhhdCB2YWx1ZXMgYXJlIGNvcGllZCBpbnRvIGlzXG4gICAgICogcmV0dXJuZWQuXG4gICAgICovXG4gICAgZ2V0Q2FtZXJhU3BoZXJpY2FsKHRhcmdldCA9IG5ldyBTcGhlcmljYWwoKSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0LmNvcHkodGhpcy5zcGhlcmljYWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjYW1lcmEncyBjdXJyZW50IHZlcnRpY2FsIGZpZWxkIG9mIHZpZXcgaW4gZGVncmVlcy5cbiAgICAgKi9cbiAgICBnZXRGaWVsZE9mVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FtZXJhLmZvdjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIHRoZSBfb3B0aW9ucyBvZiB0aGUgY29udHJvbHMuIENvbmZpZ3VyZWQgX29wdGlvbnMgd2lsbCBiZVxuICAgICAqIG1lcmdlZCB3aXRoIHdoYXRldmVyIF9vcHRpb25zIGhhdmUgYWxyZWFkeSBiZWVuIGNvbmZpZ3VyZWQgZm9yIHRoaXNcbiAgICAgKiBjb250cm9scyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhcHBseU9wdGlvbnMoX29wdGlvbnMpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9vcHRpb25zLCBfb3B0aW9ucyk7XG4gICAgICAgIC8vIFJlLWV2YWx1YXRlcyBjbGFtcGluZyBiYXNlZCBvbiBwb3RlbnRpYWxseSBuZXcgdmFsdWVzIGZvciBtaW4vbWF4XG4gICAgICAgIC8vIHBvbGFyLCBhemltdXRoIGFuZCByYWRpdXM6XG4gICAgICAgIHRoaXMuc2V0T3JiaXQoKTtcbiAgICAgICAgdGhpcy5zZXRGaWVsZE9mVmlldyhNYXRoLmV4cCh0aGlzLmdvYWxMb2dGb3YpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbmVhciBhbmQgZmFyIHBsYW5lcyBvZiB0aGUgY2FtZXJhLlxuICAgICAqL1xuICAgIHVwZGF0ZU5lYXJGYXIobmVhclBsYW5lLCBmYXJQbGFuZSkge1xuICAgICAgICB0aGlzLmNhbWVyYS5uZWFyID0gTWF0aC5tYXgobmVhclBsYW5lLCBmYXJQbGFuZSAvIDEwMDApO1xuICAgICAgICB0aGlzLmNhbWVyYS5mYXIgPSBmYXJQbGFuZTtcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGNhbWVyYVxuICAgICAqL1xuICAgIHVwZGF0ZUFzcGVjdChhc3BlY3QpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEuYXNwZWN0ID0gYXNwZWN0O1xuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYWJzb2x1dGUgb3JiaXRhbCBnb2FsIG9mIHRoZSBjYW1lcmEuIFRoZSBjaGFuZ2Ugd2lsbCBiZVxuICAgICAqIGFwcGxpZWQgb3ZlciBhIG51bWJlciBvZiBmcmFtZXMgZGVwZW5kaW5nIG9uIGNvbmZpZ3VyZWQgYWNjZWxlcmF0aW9uIGFuZFxuICAgICAqIGRhbXBlbmluZyBfb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBpbnZva2luZyB0aGUgbWV0aG9kIHdpbGwgcmVzdWx0IGluIHRoZSBjYW1lcmEgY2hhbmdpbmdcbiAgICAgKiBwb3NpdGlvbiBhbmQvb3Igcm90YXRpb24sIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBzZXRPcmJpdChnb2FsVGhldGEgPSB0aGlzLmdvYWxTcGhlcmljYWwudGhldGEsIGdvYWxQaGkgPSB0aGlzLmdvYWxTcGhlcmljYWwucGhpLCBnb2FsUmFkaXVzID0gdGhpcy5nb2FsU3BoZXJpY2FsLnJhZGl1cykge1xuICAgICAgICBjb25zdCB7IG1pbmltdW1BemltdXRoYWxBbmdsZSwgbWF4aW11bUF6aW11dGhhbEFuZ2xlLCBtaW5pbXVtUG9sYXJBbmdsZSwgbWF4aW11bVBvbGFyQW5nbGUsIG1pbmltdW1SYWRpdXMsIG1heGltdW1SYWRpdXMgfSA9IHRoaXMuX29wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdGhldGEsIHBoaSwgcmFkaXVzIH0gPSB0aGlzLmdvYWxTcGhlcmljYWw7XG4gICAgICAgIGNvbnN0IG5leHRUaGV0YSA9IGNsYW1wKGdvYWxUaGV0YSwgbWluaW11bUF6aW11dGhhbEFuZ2xlLCBtYXhpbXVtQXppbXV0aGFsQW5nbGUpO1xuICAgICAgICBpZiAoIWlzRmluaXRlKG1pbmltdW1BemltdXRoYWxBbmdsZSkgJiZcbiAgICAgICAgICAgICFpc0Zpbml0ZShtYXhpbXVtQXppbXV0aGFsQW5nbGUpKSB7XG4gICAgICAgICAgICB0aGlzLnNwaGVyaWNhbC50aGV0YSA9XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwQW5nbGUodGhpcy5zcGhlcmljYWwudGhldGEgLSBuZXh0VGhldGEpICsgbmV4dFRoZXRhO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5leHRQaGkgPSBjbGFtcChnb2FsUGhpLCBtaW5pbXVtUG9sYXJBbmdsZSwgbWF4aW11bVBvbGFyQW5nbGUpO1xuICAgICAgICBjb25zdCBuZXh0UmFkaXVzID0gY2xhbXAoZ29hbFJhZGl1cywgbWluaW11bVJhZGl1cywgbWF4aW11bVJhZGl1cyk7XG4gICAgICAgIGlmIChuZXh0VGhldGEgPT09IHRoZXRhICYmIG5leHRQaGkgPT09IHBoaSAmJiBuZXh0UmFkaXVzID09PSByYWRpdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdvYWxTcGhlcmljYWwudGhldGEgPSBuZXh0VGhldGE7XG4gICAgICAgIHRoaXMuZ29hbFNwaGVyaWNhbC5waGkgPSBuZXh0UGhpO1xuICAgICAgICB0aGlzLmdvYWxTcGhlcmljYWwucmFkaXVzID0gbmV4dFJhZGl1cztcbiAgICAgICAgdGhpcy5nb2FsU3BoZXJpY2FsLm1ha2VTYWZlKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJzZXQgb2Ygc2V0T3JiaXQoKSBhYm92ZSwgd2hpY2ggb25seSBzZXRzIHRoZSBjYW1lcmEncyByYWRpdXMuXG4gICAgICovXG4gICAgc2V0UmFkaXVzKHJhZGl1cykge1xuICAgICAgICB0aGlzLmdvYWxTcGhlcmljYWwucmFkaXVzID0gcmFkaXVzO1xuICAgICAgICB0aGlzLnNldE9yYml0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdvYWwgZmllbGQgb2YgdmlldyBmb3IgdGhlIGNhbWVyYVxuICAgICAqL1xuICAgIHNldEZpZWxkT2ZWaWV3KGZvdikge1xuICAgICAgICBjb25zdCB7IG1pbmltdW1GaWVsZE9mVmlldywgbWF4aW11bUZpZWxkT2ZWaWV3IH0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBmb3YgPSBjbGFtcChmb3YsIG1pbmltdW1GaWVsZE9mVmlldywgbWF4aW11bUZpZWxkT2ZWaWV3KTtcbiAgICAgICAgdGhpcy5nb2FsTG9nRm92ID0gTWF0aC5sb2coZm92KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc21vb3RoaW5nIGRlY2F5IHRpbWUuXG4gICAgICovXG4gICAgc2V0RGFtcGVyRGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIHRoaXMudGhldGFEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5waGlEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5yYWRpdXNEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5mb3ZEYW1wZXIuc2V0RGVjYXlUaW1lKGRlY2F5TWlsbGlzZWNvbmRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRqdXN0IHRoZSBvcmJpdGFsIHBvc2l0aW9uIG9mIHRoZSBjYW1lcmEgcmVsYXRpdmUgdG8gaXRzIGN1cnJlbnQgb3JiaXRhbFxuICAgICAqIHBvc2l0aW9uLiBEb2VzIG5vdCBsZXQgdGhlIHRoZXRhIGdvYWwgZ2V0IG1vcmUgdGhhbiBwaSBhaGVhZCBvZiB0aGUgY3VycmVudFxuICAgICAqIHRoZXRhLCB3aGljaCBlbnN1cmVzIGludGVycG9sYXRpb24gY29udGludWVzIGluIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGRlbHRhLlxuICAgICAqIFRoZSBkZWx0YVpvb20gcGFyYW1ldGVyIGFkanVzdHMgYm90aCB0aGUgZmllbGQgb2YgdmlldyBhbmQgdGhlIG9yYml0IHJhZGl1c1xuICAgICAqIHN1Y2ggdGhhdCB0aGV5IHByb2dyZXNzIGFjcm9zcyB0aGVpciBhbGxvd2VkIHJhbmdlcyBpbiBzeW5jLlxuICAgICAqL1xuICAgIGFkanVzdE9yYml0KGRlbHRhVGhldGEsIGRlbHRhUGhpLCBkZWx0YVpvb20pIHtcbiAgICAgICAgY29uc3QgeyB0aGV0YSwgcGhpLCByYWRpdXMgfSA9IHRoaXMuZ29hbFNwaGVyaWNhbDtcbiAgICAgICAgY29uc3QgeyBtaW5pbXVtUmFkaXVzLCBtYXhpbXVtUmFkaXVzLCBtaW5pbXVtRmllbGRPZlZpZXcsIG1heGltdW1GaWVsZE9mVmlldyB9ID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgY29uc3QgZFRoZXRhID0gdGhpcy5zcGhlcmljYWwudGhldGEgLSB0aGV0YTtcbiAgICAgICAgY29uc3QgZFRoZXRhTGltaXQgPSBNYXRoLlBJIC0gMC4wMDE7XG4gICAgICAgIGNvbnN0IGdvYWxUaGV0YSA9IHRoZXRhIC0gY2xhbXAoZGVsdGFUaGV0YSwgLWRUaGV0YUxpbWl0IC0gZFRoZXRhLCBkVGhldGFMaW1pdCAtIGRUaGV0YSk7XG4gICAgICAgIGNvbnN0IGdvYWxQaGkgPSBwaGkgLSBkZWx0YVBoaTtcbiAgICAgICAgY29uc3QgZGVsdGFSYXRpbyA9IGRlbHRhWm9vbSA9PT0gMCA/XG4gICAgICAgICAgICAwIDpcbiAgICAgICAgICAgICgoZGVsdGFab29tID4gMCA/IG1heGltdW1SYWRpdXMgOiBtaW5pbXVtUmFkaXVzKSAtIHJhZGl1cykgL1xuICAgICAgICAgICAgICAgIChNYXRoLmxvZyhkZWx0YVpvb20gPiAwID8gbWF4aW11bUZpZWxkT2ZWaWV3IDogbWluaW11bUZpZWxkT2ZWaWV3KSAtXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29hbExvZ0Zvdik7XG4gICAgICAgIGNvbnN0IGdvYWxSYWRpdXMgPSByYWRpdXMgK1xuICAgICAgICAgICAgZGVsdGFab29tICpcbiAgICAgICAgICAgICAgICAoaXNGaW5pdGUoZGVsdGFSYXRpbykgPyBkZWx0YVJhdGlvIDpcbiAgICAgICAgICAgICAgICAgICAgKG1heGltdW1SYWRpdXMgLSBtaW5pbXVtUmFkaXVzKSAqIDIpO1xuICAgICAgICB0aGlzLnNldE9yYml0KGdvYWxUaGV0YSwgZ29hbFBoaSwgZ29hbFJhZGl1cyk7XG4gICAgICAgIGlmIChkZWx0YVpvb20gIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGdvYWxMb2dGb3YgPSB0aGlzLmdvYWxMb2dGb3YgKyBkZWx0YVpvb207XG4gICAgICAgICAgICB0aGlzLnNldEZpZWxkT2ZWaWV3KE1hdGguZXhwKGdvYWxMb2dGb3YpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBjYW1lcmEgaW5zdGFudGx5IGluc3RlYWQgb2YgYWNjZWxlcmF0aW5nIHRvd2FyZCB0aGUgZ29hbFxuICAgICAqIHBhcmFtZXRlcnMuXG4gICAgICovXG4gICAganVtcFRvR29hbCgpIHtcbiAgICAgICAgdGhpcy51cGRhdGUoMCwgU0VUVExJTkdfVElNRSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBjb250cm9scy4gSW4gbW9zdCBjYXNlcywgdGhpcyB3aWxsIHJlc3VsdCBpbiB0aGUgY2FtZXJhXG4gICAgICogaW50ZXJwb2xhdGluZyBpdHMgcG9zaXRpb24gYW5kIHJvdGF0aW9uIHVudGlsIGl0IGxpbmVzIHVwIHdpdGggdGhlXG4gICAgICogZGVzaWduYXRlZCBnb2FsIG9yYml0YWwgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBUaW1lIGFuZCBkZWx0YSBhcmUgbWVhc3VyZWQgaW4gbWlsbGlzZWNvbmRzLlxuICAgICAqL1xuICAgIHVwZGF0ZShfdGltZSwgZGVsdGEpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdGF0aW9uYXJ5KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IG1heGltdW1Qb2xhckFuZ2xlLCBtYXhpbXVtUmFkaXVzIH0gPSB0aGlzLl9vcHRpb25zO1xuICAgICAgICBjb25zdCBkVGhldGEgPSB0aGlzLnNwaGVyaWNhbC50aGV0YSAtIHRoaXMuZ29hbFNwaGVyaWNhbC50aGV0YTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGRUaGV0YSkgPiBNYXRoLlBJICYmXG4gICAgICAgICAgICAhaXNGaW5pdGUodGhpcy5fb3B0aW9ucy5taW5pbXVtQXppbXV0aGFsQW5nbGUpICYmXG4gICAgICAgICAgICAhaXNGaW5pdGUodGhpcy5fb3B0aW9ucy5tYXhpbXVtQXppbXV0aGFsQW5nbGUpKSB7XG4gICAgICAgICAgICB0aGlzLnNwaGVyaWNhbC50aGV0YSAtPSBNYXRoLnNpZ24oZFRoZXRhKSAqIDIgKiBNYXRoLlBJO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BoZXJpY2FsLnRoZXRhID0gdGhpcy50aGV0YURhbXBlci51cGRhdGUodGhpcy5zcGhlcmljYWwudGhldGEsIHRoaXMuZ29hbFNwaGVyaWNhbC50aGV0YSwgZGVsdGEsIE1hdGguUEkpO1xuICAgICAgICB0aGlzLnNwaGVyaWNhbC5waGkgPSB0aGlzLnBoaURhbXBlci51cGRhdGUodGhpcy5zcGhlcmljYWwucGhpLCB0aGlzLmdvYWxTcGhlcmljYWwucGhpLCBkZWx0YSwgbWF4aW11bVBvbGFyQW5nbGUpO1xuICAgICAgICB0aGlzLnNwaGVyaWNhbC5yYWRpdXMgPSB0aGlzLnJhZGl1c0RhbXBlci51cGRhdGUodGhpcy5zcGhlcmljYWwucmFkaXVzLCB0aGlzLmdvYWxTcGhlcmljYWwucmFkaXVzLCBkZWx0YSwgbWF4aW11bVJhZGl1cyk7XG4gICAgICAgIHRoaXMubG9nRm92ID0gdGhpcy5mb3ZEYW1wZXIudXBkYXRlKHRoaXMubG9nRm92LCB0aGlzLmdvYWxMb2dGb3YsIGRlbHRhLCAxKTtcbiAgICAgICAgdGhpcy5tb3ZlQ2FtZXJhKCk7XG4gICAgfVxuICAgIHVwZGF0ZVRvdWNoQWN0aW9uU3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IHsgc3R5bGUgfSA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuX2ludGVyYWN0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgY29uc3QgeyB0b3VjaEFjdGlvbiB9ID0gdGhpcy5fb3B0aW9ucztcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNhYmxlWm9vbSAmJiB0b3VjaEFjdGlvbiAhPT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUudG91Y2hBY3Rpb24gPSAnbWFuaXB1bGF0aW9uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlLnRvdWNoQWN0aW9uID0gdG91Y2hBY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS50b3VjaEFjdGlvbiA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzU3RhdGlvbmFyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ29hbFNwaGVyaWNhbC50aGV0YSA9PT0gdGhpcy5zcGhlcmljYWwudGhldGEgJiZcbiAgICAgICAgICAgIHRoaXMuZ29hbFNwaGVyaWNhbC5waGkgPT09IHRoaXMuc3BoZXJpY2FsLnBoaSAmJlxuICAgICAgICAgICAgdGhpcy5nb2FsU3BoZXJpY2FsLnJhZGl1cyA9PT0gdGhpcy5zcGhlcmljYWwucmFkaXVzICYmXG4gICAgICAgICAgICB0aGlzLmdvYWxMb2dGb3YgPT09IHRoaXMubG9nRm92O1xuICAgIH1cbiAgICBkaXNwYXRjaENoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ2NoYW5nZScsIHNvdXJjZTogdGhpcy5jaGFuZ2VTb3VyY2UgfSk7XG4gICAgfVxuICAgIG1vdmVDYW1lcmEoKSB7XG4gICAgICAgIC8vIERlcml2ZSB0aGUgbmV3IGNhbWVyYSBwb3NpdGlvbiBmcm9tIHRoZSB1cGRhdGVkIHNwaGVyaWNhbDpcbiAgICAgICAgdGhpcy5zcGhlcmljYWwubWFrZVNhZmUoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0RnJvbVNwaGVyaWNhbCh0aGlzLnNwaGVyaWNhbCk7XG4gICAgICAgIHRoaXMuY2FtZXJhLnNldFJvdGF0aW9uRnJvbUV1bGVyKG5ldyBFdWxlcih0aGlzLnNwaGVyaWNhbC5waGkgLSBNYXRoLlBJIC8gMiwgdGhpcy5zcGhlcmljYWwudGhldGEsIDAsICdZWFonKSk7XG4gICAgICAgIGlmICh0aGlzLmNhbWVyYS5mb3YgIT09IE1hdGguZXhwKHRoaXMubG9nRm92KSkge1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEuZm92ID0gTWF0aC5leHAodGhpcy5sb2dGb3YpO1xuICAgICAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hDaGFuZ2UoKTtcbiAgICB9XG4gICAgdXNlckFkanVzdE9yYml0KGRlbHRhVGhldGEsIGRlbHRhUGhpLCBkZWx0YVpvb20pIHtcbiAgICAgICAgdGhpcy5hZGp1c3RPcmJpdChkZWx0YVRoZXRhICogdGhpcy5vcmJpdFNlbnNpdGl2aXR5ICogdGhpcy5pbnB1dFNlbnNpdGl2aXR5LCBkZWx0YVBoaSAqIHRoaXMub3JiaXRTZW5zaXRpdml0eSAqIHRoaXMuaW5wdXRTZW5zaXRpdml0eSwgZGVsdGFab29tICogdGhpcy5pbnB1dFNlbnNpdGl2aXR5KTtcbiAgICAgICAgLy8gQWx3YXlzIG1ha2Ugc3VyZSB0aGF0IGFuIGluaXRpYWwgZXZlbnQgaXMgdHJpZ2dlcmVkIGluIGNhc2UgdGhlcmUgaXNcbiAgICAgICAgLy8gY29udGVudGlvbiBiZXR3ZWVuIHVzZXIgaW50ZXJhY3Rpb24gYW5kIGltcGVyYXRpdmUgY2hhbmdlcy4gVGhpcyBpbml0aWFsXG4gICAgICAgIC8vIGV2ZW50IHdpbGwgZ2l2ZSBleHRlcm5hbCBvYnNlcnZlcnMgdGhhdCBjaGFuY2UgdG8gb2JzZXJ2ZSB0aGF0XG4gICAgICAgIC8vIGludGVyYWN0aW9uIG9jY3VycmVkIGF0IGFsbDpcbiAgICAgICAgdGhpcy5kaXNwYXRjaENoYW5nZSgpO1xuICAgIH1cbiAgICAvLyBXcmFwcyB0byBiZXR3ZWVuIC1waSBhbmQgcGlcbiAgICB3cmFwQW5nbGUocmFkaWFucykge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkID0gKHJhZGlhbnMgKyBNYXRoLlBJKSAvICgyICogTWF0aC5QSSk7XG4gICAgICAgIGNvbnN0IHdyYXBwZWQgPSBub3JtYWxpemVkIC0gTWF0aC5mbG9vcihub3JtYWxpemVkKTtcbiAgICAgICAgcmV0dXJuIHdyYXBwZWQgKiAyICogTWF0aC5QSSAtIE1hdGguUEk7XG4gICAgfVxuICAgIHBpeGVsTGVuZ3RoVG9TcGhlcmljYWxBbmdsZShwaXhlbExlbmd0aCkge1xuICAgICAgICByZXR1cm4gMiAqIE1hdGguUEkgKiBwaXhlbExlbmd0aCAvIHRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgfVxuICAgIHR3b1RvdWNoRGlzdGFuY2UodG91Y2hPbmUsIHRvdWNoVHdvKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50WDogeE9uZSwgY2xpZW50WTogeU9uZSB9ID0gdG91Y2hPbmU7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50WDogeFR3bywgY2xpZW50WTogeVR3byB9ID0gdG91Y2hUd287XG4gICAgICAgIGNvbnN0IHhEZWx0YSA9IHhUd28gLSB4T25lO1xuICAgICAgICBjb25zdCB5RGVsdGEgPSB5VHdvIC0geU9uZTtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh4RGVsdGEgKiB4RGVsdGEgKyB5RGVsdGEgKiB5RGVsdGEpO1xuICAgIH1cbiAgICBoYW5kbGVTaW5nbGVQb2ludGVyTW92ZShkeCwgZHkpIHtcbiAgICAgICAgY29uc3QgZGVsdGFUaGV0YSA9IHRoaXMucGl4ZWxMZW5ndGhUb1NwaGVyaWNhbEFuZ2xlKGR4KTtcbiAgICAgICAgY29uc3QgZGVsdGFQaGkgPSB0aGlzLnBpeGVsTGVuZ3RoVG9TcGhlcmljYWxBbmdsZShkeSk7XG4gICAgICAgIGlmICh0aGlzLmlzVXNlclBvaW50aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5pc1VzZXJQb2ludGluZyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAncG9pbnRlci1jaGFuZ2Utc3RhcnQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KGRlbHRhVGhldGEsIGRlbHRhUGhpLCAwKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZVBhbigpIHtcbiAgICAgICAgY29uc3QgeyB0aGV0YSwgcGhpIH0gPSB0aGlzLnNwaGVyaWNhbDtcbiAgICAgICAgY29uc3QgcHNpID0gdGhldGEgLSB0aGlzLnNjZW5lLnlhdztcbiAgICAgICAgdGhpcy5wYW5QZXJQaXhlbCA9IFBBTl9TRU5TSVRJVklUWSAvIHRoaXMuc2NlbmUuaGVpZ2h0O1xuICAgICAgICB0aGlzLnBhblByb2plY3Rpb24uc2V0KC1NYXRoLmNvcyhwc2kpLCAtTWF0aC5jb3MocGhpKSAqIE1hdGguc2luKHBzaSksIDAsIDAsIE1hdGguc2luKHBoaSksIDAsIE1hdGguc2luKHBzaSksIC1NYXRoLmNvcyhwaGkpICogTWF0aC5jb3MocHNpKSwgMCk7XG4gICAgfVxuICAgIG1vdmVQYW4oZHgsIGR5KSB7XG4gICAgICAgIGNvbnN0IHsgc2NlbmUgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGR4eSA9IHZlY3RvcjMuc2V0KGR4LCBkeSwgMCkubXVsdGlwbHlTY2FsYXIodGhpcy5pbnB1dFNlbnNpdGl2aXR5KTtcbiAgICAgICAgY29uc3QgbWV0ZXJzUGVyUGl4ZWwgPSB0aGlzLnNwaGVyaWNhbC5yYWRpdXMgKiBNYXRoLmV4cCh0aGlzLmxvZ0ZvdikgKiB0aGlzLnBhblBlclBpeGVsO1xuICAgICAgICBkeHkubXVsdGlwbHlTY2FsYXIobWV0ZXJzUGVyUGl4ZWwpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBzY2VuZS5nZXRUYXJnZXQoKTtcbiAgICAgICAgdGFyZ2V0LmFkZChkeHkuYXBwbHlNYXRyaXgzKHRoaXMucGFuUHJvamVjdGlvbikpO1xuICAgICAgICBzY2VuZS5ib3VuZGluZ1NwaGVyZS5jbGFtcFBvaW50KHRhcmdldCwgdGFyZ2V0KTtcbiAgICAgICAgc2NlbmUuc2V0VGFyZ2V0KHRhcmdldC54LCB0YXJnZXQueSwgdGFyZ2V0LnopO1xuICAgICAgICB0aGlzLmRpc3BhdGNoQ2hhbmdlKCk7XG4gICAgfVxuICAgIHJlY2VudGVyKHBvaW50ZXIpIHtcbiAgICAgICAgaWYgKHBlcmZvcm1hbmNlLm5vdygpID4gdGhpcy5zdGFydFRpbWUgKyBUQVBfTVMgfHxcbiAgICAgICAgICAgIE1hdGguYWJzKHBvaW50ZXIuY2xpZW50WCAtIHRoaXMuc3RhcnRQb2ludGVyUG9zaXRpb24uY2xpZW50WCkgPlxuICAgICAgICAgICAgICAgIFRBUF9ESVNUQU5DRSB8fFxuICAgICAgICAgICAgTWF0aC5hYnMocG9pbnRlci5jbGllbnRZIC0gdGhpcy5zdGFydFBvaW50ZXJQb3NpdGlvbi5jbGllbnRZKSA+XG4gICAgICAgICAgICAgICAgVEFQX0RJU1RBTkNFKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzY2VuZSB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgaGl0ID0gc2NlbmUucG9zaXRpb25BbmROb3JtYWxGcm9tUG9pbnQoc2NlbmUuZ2V0TkRDKHBvaW50ZXIuY2xpZW50WCwgcG9pbnRlci5jbGllbnRZKSk7XG4gICAgICAgIGlmIChoaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgeyBjYW1lcmFUYXJnZXQgfSA9IHNjZW5lLmVsZW1lbnQ7XG4gICAgICAgICAgICBzY2VuZS5lbGVtZW50LmNhbWVyYVRhcmdldCA9ICcnO1xuICAgICAgICAgICAgc2NlbmUuZWxlbWVudC5jYW1lcmFUYXJnZXQgPSBjYW1lcmFUYXJnZXQ7XG4gICAgICAgICAgICAvLyBab29tIGFsbCB0aGUgd2F5IG91dC5cbiAgICAgICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KDAsIDAsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NlbmUudGFyZ2V0LndvcmxkVG9Mb2NhbChoaXQucG9zaXRpb24pO1xuICAgICAgICAgICAgc2NlbmUuc2V0VGFyZ2V0KGhpdC5wb3NpdGlvbi54LCBoaXQucG9zaXRpb24ueSwgaGl0LnBvc2l0aW9uLnopO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc2V0UmFkaXVzKCkge1xuICAgICAgICBjb25zdCB7IHNjZW5lIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBoaXQgPSBzY2VuZS5wb3NpdGlvbkFuZE5vcm1hbEZyb21Qb2ludCh2ZWN0b3IyLnNldCgwLCAwKSk7XG4gICAgICAgIGlmIChoaXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNjZW5lLnRhcmdldC53b3JsZFRvTG9jYWwoaGl0LnBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgZ29hbFRhcmdldCA9IHNjZW5lLmdldFRhcmdldCgpO1xuICAgICAgICBjb25zdCB7IHRoZXRhLCBwaGkgfSA9IHRoaXMuc3BoZXJpY2FsO1xuICAgICAgICAvLyBTZXQgdGFyZ2V0IHRvIHN1cmZhY2UgaGl0IHBvaW50LCBleGNlcHQgdGhlIHRhcmdldCBpcyBzdGlsbCBzZXR0bGluZyxcbiAgICAgICAgLy8gc28gb2Zmc2V0IHRoZSBnb2FsIGFjY29yZGluZ2x5IHNvIHRoZSB0cmFuc2l0aW9uIGlzIHNtb290aCBldmVuIHRob3VnaFxuICAgICAgICAvLyB0aGlzIHdpbGwgZHJpZnQgdGhlIHRhcmdldCBzbGlnaHRseSBhd2F5IGZyb20gdGhlIGhpdCBwb2ludC5cbiAgICAgICAgY29uc3QgcHNpID0gdGhldGEgLSBzY2VuZS55YXc7XG4gICAgICAgIGNvbnN0IG4gPSB2ZWN0b3IzLnNldChNYXRoLnNpbihwaGkpICogTWF0aC5zaW4ocHNpKSwgTWF0aC5jb3MocGhpKSwgTWF0aC5zaW4ocGhpKSAqIE1hdGguY29zKHBzaSkpO1xuICAgICAgICBjb25zdCBkciA9IG4uZG90KGhpdC5wb3NpdGlvbi5zdWIoZ29hbFRhcmdldCkpO1xuICAgICAgICBnb2FsVGFyZ2V0LmFkZChuLm11bHRpcGx5U2NhbGFyKGRyKSk7XG4gICAgICAgIHNjZW5lLnNldFRhcmdldChnb2FsVGFyZ2V0LngsIGdvYWxUYXJnZXQueSwgZ29hbFRhcmdldC56KTtcbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBjYW1lcmEgcmFkaXVzIHRvIG1hdGNoIHRoZSBjaGFuZ2UgaW4gdGFyZ2V0IHNvIHRoYXQgdGhlXG4gICAgICAgIC8vIGNhbWVyYSBpdHNlbGYgZG9lcyBub3QgbW92ZSwgdW5sZXNzIGl0IGhpdHMgYSByYWRpdXMgYm91bmQuXG4gICAgICAgIHRoaXMuc2V0T3JiaXQodW5kZWZpbmVkLCB1bmRlZmluZWQsIHRoaXMuZ29hbFNwaGVyaWNhbC5yYWRpdXMgLSBkcik7XG4gICAgfVxuICAgIG9uVG91Y2hDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucG9pbnRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoTW9kZSA9IHRoaXMudG91Y2hNb2RlUm90YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVab29tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaE1vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmRpc2FibGVTY3JvbGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudG91Y2hNb2RlID0gKHRoaXMudG91Y2hEZWNpZGVkICYmIHRoaXMudG91Y2hNb2RlID09PSBudWxsKSA/XG4gICAgICAgICAgICAgICAgbnVsbCA6XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaE1vZGVab29tO1xuICAgICAgICAgICAgdGhpcy50b3VjaERlY2lkZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuZGlzYWJsZVNjcm9sbCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHRoaXMubGFzdFNlcGFyYXRpb24gPVxuICAgICAgICAgICAgICAgIHRoaXMudHdvVG91Y2hEaXN0YW5jZSh0aGlzLnBvaW50ZXJzWzBdLCB0aGlzLnBvaW50ZXJzWzFdKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVBhbiAmJiB0aGlzLnRvdWNoTW9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUGFuKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudC5hbHRLZXkpIHsgLy8gdXNlciBpbnRlcmFjdGlvbiwgbm90IHByb21wdFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmVsZW1lbnRbJHBhbkVsZW1lbnRdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBvbk1vdXNlRG93bihldmVudCkge1xuICAgICAgICB0aGlzLnBhblBlclBpeGVsID0gMDtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlUGFuICYmXG4gICAgICAgICAgICAoZXZlbnQuYnV0dG9uID09PSAyIHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fFxuICAgICAgICAgICAgICAgIGV2ZW50LnNoaWZ0S2V5KSkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplUGFuKCk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmVsZW1lbnRbJHBhbkVsZW1lbnRdLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5jdXJzb3IgPSAnZ3JhYmJpbmcnO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBvcmJpdCBhbmQgWm9vbSBrZXkgcHJlc3Nlc1xuICAgICAqIFVzZXMgY29uc3RhbnRzIGZvciB0aGUgaW5jcmVtZW50LlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQgZm9yIHRoZSAua2V5IHZhbHVlXG4gICAgICogQHJldHVybnMgYm9vbGVhbiB0byBpbmRpY2F0ZSBpZiB0aGUga2V5IGV2ZW50IGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgKi9cbiAgICBvcmJpdFpvb21LZXlDb2RlSGFuZGxlcihldmVudCkge1xuICAgICAgICBsZXQgcmVsZXZhbnRLZXkgPSB0cnVlO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICAgICAgY2FzZSAnUGFnZVVwJzpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJBZGp1c3RPcmJpdCgwLCAwLCBaT09NX1NFTlNJVElWSVRZKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BhZ2VEb3duJzpcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJBZGp1c3RPcmJpdCgwLCAwLCAtMSAqIFpPT01fU0VOU0lUSVZJVFkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyQWRqdXN0T3JiaXQoMCwgLUtFWUJPQVJEX09SQklUX0lOQ1JFTUVOVCwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KDAsIEtFWUJPQVJEX09SQklUX0lOQ1JFTUVOVCwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMudXNlckFkanVzdE9yYml0KC1LRVlCT0FSRF9PUkJJVF9JTkNSRU1FTlQsIDAsIDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyQWRqdXN0T3JiaXQoS0VZQk9BUkRfT1JCSVRfSU5DUkVNRU5ULCAwLCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVsZXZhbnRLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVsZXZhbnRLZXk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgdGhlIFBhbiBrZXkgcHJlc3Nlc1xuICAgICAqIFVzZXMgY29uc3RhbnRzIGZvciB0aGUgaW5jcmVtZW50LlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQgZm9yIHRoZSAua2V5IHZhbHVlXG4gICAgICogQHJldHVybnMgYm9vbGVhbiB0byBpbmRpY2F0ZSBpZiB0aGUga2V5IGV2ZW50IGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgKi9cbiAgICBwYW5LZXlDb2RlSGFuZGxlcihldmVudCkge1xuICAgICAgICB0aGlzLmluaXRpYWxpemVQYW4oKTtcbiAgICAgICAgbGV0IHJlbGV2YW50S2V5ID0gdHJ1ZTtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVBhbigwLCAtMSAqIFBBTl9LRVlfSU5DUkVNRU5UKTsgLy8gVGhpcyBpcyB0aGUgbmVnYXRpdmUgb25lIHNvIHRoYXQgdGhlXG4gICAgICAgICAgICAgICAgLy8gbW9kZWwgYXBwZWFycyB0byBtb3ZlIGFzIHRoZSBhcnJvd1xuICAgICAgICAgICAgICAgIC8vIGRpcmVjdGlvbiByYXRoZXIgdGhhbiB0aGUgdmlldyBtb3ZpbmdcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUGFuKDAsIFBBTl9LRVlfSU5DUkVNRU5UKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUGFuKC0xICogUEFOX0tFWV9JTkNSRU1FTlQsIDApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlUGFuKFBBTl9LRVlfSU5DUkVNRU5ULCAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmVsZXZhbnRLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVsZXZhbnRLZXk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U21vb3RoQ29udHJvbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/SmoothControls.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TextureUtils)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/loaders/RGBELoader.js */ \"(ssr)/./node_modules/three/examples/jsm/loaders/RGBELoader.js\");\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* harmony import */ var _EnvironmentScene_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EnvironmentScene.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentScene.js\");\n/* harmony import */ var _EnvironmentSceneAlt_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EnvironmentSceneAlt.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/EnvironmentSceneAlt.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\n\n\nconst GENERATED_SIGMA = 0.04;\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\nconst HDR_FILE_RE = /\\.hdr(\\.js)?$/;\nconst ldrLoader = new three__WEBPACK_IMPORTED_MODULE_3__.TextureLoader();\nconst hdrLoader = new three_examples_jsm_loaders_RGBELoader_js__WEBPACK_IMPORTED_MODULE_4__.RGBELoader();\nhdrLoader.setDataType(three__WEBPACK_IMPORTED_MODULE_3__.HalfFloatType);\nclass TextureUtils extends three__WEBPACK_IMPORTED_MODULE_3__.EventDispatcher {\n    constructor(threeRenderer) {\n        super();\n        this.threeRenderer = threeRenderer;\n        this.generatedEnvironmentMap = null;\n        this.generatedEnvironmentMapAlt = null;\n        this.skyboxCache = new Map();\n        this.blurMaterial = null;\n        this.blurScene = null;\n    }\n    async load(url, progressCallback = () => { }) {\n        try {\n            const isHDR = HDR_FILE_RE.test(url);\n            const loader = isHDR ? hdrLoader : ldrLoader;\n            const texture = await new Promise((resolve, reject) => loader.load(url, resolve, (event) => {\n                progressCallback(event.loaded / event.total * 0.9);\n            }, reject));\n            progressCallback(1.0);\n            texture.name = url;\n            texture.mapping = three__WEBPACK_IMPORTED_MODULE_3__.EquirectangularReflectionMapping;\n            if (!isHDR) {\n                texture.encoding = three__WEBPACK_IMPORTED_MODULE_3__.sRGBEncoding;\n            }\n            return texture;\n        }\n        finally {\n            if (progressCallback) {\n                progressCallback(1);\n            }\n        }\n    }\n    /**\n     * Returns a { skybox, environmentMap } object with the targets/textures\n     * accordingly. `skybox` is a WebGLRenderCubeTarget, and `environmentMap`\n     * is a Texture from a WebGLRenderCubeTarget.\n     */\n    async generateEnvironmentMapAndSkybox(skyboxUrl = null, environmentMapUrl = null, progressCallback = () => { }) {\n        const useAltEnvironment = environmentMapUrl !== 'legacy';\n        if (environmentMapUrl === 'legacy' || environmentMapUrl === 'neutral') {\n            environmentMapUrl = null;\n        }\n        environmentMapUrl = (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.deserializeUrl)(environmentMapUrl);\n        let skyboxLoads = Promise.resolve(null);\n        let environmentMapLoads;\n        // If we have a skybox URL, attempt to load it as a cubemap\n        if (!!skyboxUrl) {\n            skyboxLoads = this.loadEquirectFromUrl(skyboxUrl, progressCallback);\n        }\n        if (!!environmentMapUrl) {\n            // We have an available environment map URL\n            environmentMapLoads =\n                this.loadEquirectFromUrl(environmentMapUrl, progressCallback);\n        }\n        else if (!!skyboxUrl) {\n            // Fallback to deriving the environment map from an available skybox\n            environmentMapLoads =\n                this.loadEquirectFromUrl(skyboxUrl, progressCallback);\n        }\n        else {\n            // Fallback to generating the environment map\n            environmentMapLoads = useAltEnvironment ?\n                this.loadGeneratedEnvironmentMapAlt() :\n                this.loadGeneratedEnvironmentMap();\n        }\n        const [environmentMap, skybox] = await Promise.all([environmentMapLoads, skyboxLoads]);\n        if (environmentMap == null) {\n            throw new Error('Failed to load environment map.');\n        }\n        return { environmentMap, skybox };\n    }\n    /**\n     * Loads an equirect Texture from a given URL, for use as a skybox.\n     */\n    async loadEquirectFromUrl(url, progressCallback) {\n        if (!this.skyboxCache.has(url)) {\n            const skyboxMapLoads = this.load(url, progressCallback);\n            this.skyboxCache.set(url, skyboxMapLoads);\n        }\n        return this.skyboxCache.get(url);\n    }\n    async GenerateEnvironmentMap(scene, name) {\n        await (0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.timePasses)();\n        const renderer = this.threeRenderer;\n        const cubeTarget = new three__WEBPACK_IMPORTED_MODULE_3__.WebGLCubeRenderTarget(256, {\n            generateMipmaps: false,\n            type: three__WEBPACK_IMPORTED_MODULE_3__.HalfFloatType,\n            format: three__WEBPACK_IMPORTED_MODULE_3__.RGBAFormat,\n            encoding: three__WEBPACK_IMPORTED_MODULE_3__.LinearEncoding,\n            depthBuffer: true\n        });\n        const cubeCamera = new three__WEBPACK_IMPORTED_MODULE_3__.CubeCamera(0.1, 100, cubeTarget);\n        const generatedEnvironmentMap = cubeCamera.renderTarget.texture;\n        generatedEnvironmentMap.name = name;\n        const outputEncoding = renderer.outputEncoding;\n        const toneMapping = renderer.toneMapping;\n        renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_3__.NoToneMapping;\n        renderer.outputEncoding = three__WEBPACK_IMPORTED_MODULE_3__.LinearEncoding;\n        cubeCamera.update(renderer, scene);\n        this.blurCubemap(cubeTarget, GENERATED_SIGMA);\n        renderer.toneMapping = toneMapping;\n        renderer.outputEncoding = outputEncoding;\n        return generatedEnvironmentMap;\n    }\n    /**\n     * Loads a dynamically generated environment map.\n     */\n    async loadGeneratedEnvironmentMap() {\n        if (this.generatedEnvironmentMap == null) {\n            this.generatedEnvironmentMap =\n                this.GenerateEnvironmentMap(new _EnvironmentScene_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](), 'legacy');\n        }\n        return this.generatedEnvironmentMap;\n    }\n    /**\n     * Loads a dynamically generated environment map, designed to be neutral and\n     * color-preserving. Shows less contrast around the different sides of the\n     * object.\n     */\n    async loadGeneratedEnvironmentMapAlt() {\n        if (this.generatedEnvironmentMapAlt == null) {\n            this.generatedEnvironmentMapAlt =\n                this.GenerateEnvironmentMap(new _EnvironmentSceneAlt_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](), 'neutral');\n        }\n        return this.generatedEnvironmentMapAlt;\n    }\n    blurCubemap(cubeTarget, sigma) {\n        if (this.blurMaterial == null) {\n            this.blurMaterial = this.getBlurShader(MAX_SAMPLES);\n            const box = new three__WEBPACK_IMPORTED_MODULE_3__.BoxGeometry();\n            const blurMesh = new three__WEBPACK_IMPORTED_MODULE_3__.Mesh(box, this.blurMaterial);\n            this.blurScene = new three__WEBPACK_IMPORTED_MODULE_3__.Scene();\n            this.blurScene.add(blurMesh);\n        }\n        const tempTarget = cubeTarget.clone();\n        this.halfblur(cubeTarget, tempTarget, sigma, 'latitudinal');\n        this.halfblur(tempTarget, cubeTarget, sigma, 'longitudinal');\n        // Disposing this target after we're done with it somehow corrupts Safari's\n        // whole graphics driver. It's random, but occurs more frequently on\n        // lower-powered GPUs (macbooks with intel graphics, older iPhones). It goes\n        // beyond just messing up the PMREM, as it also occasionally causes\n        // visible corruption on the canvas and even on the rest of the page.\n        /** tempTarget.dispose(); */\n    }\n    halfblur(targetIn, targetOut, sigmaRadians, direction) {\n        // Number of standard deviations at which to cut off the discrete\n        // approximation.\n        const STANDARD_DEVIATIONS = 3;\n        const pixels = targetIn.width;\n        const radiansPerPixel = isFinite(sigmaRadians) ?\n            Math.PI / (2 * pixels) :\n            2 * Math.PI / (2 * MAX_SAMPLES - 1);\n        const sigmaPixels = sigmaRadians / radiansPerPixel;\n        const samples = isFinite(sigmaRadians) ?\n            1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) :\n            MAX_SAMPLES;\n        if (samples > MAX_SAMPLES) {\n            console.warn(`sigmaRadians, ${sigmaRadians}, is too large and will clip, as it requested ${samples} samples when the maximum is set to ${MAX_SAMPLES}`);\n        }\n        const weights = [];\n        let sum = 0;\n        for (let i = 0; i < MAX_SAMPLES; ++i) {\n            const x = i / sigmaPixels;\n            const weight = Math.exp(-x * x / 2);\n            weights.push(weight);\n            if (i == 0) {\n                sum += weight;\n            }\n            else if (i < samples) {\n                sum += 2 * weight;\n            }\n        }\n        for (let i = 0; i < weights.length; i++) {\n            weights[i] = weights[i] / sum;\n        }\n        const blurUniforms = this.blurMaterial.uniforms;\n        blurUniforms['envMap'].value = targetIn.texture;\n        blurUniforms['samples'].value = samples;\n        blurUniforms['weights'].value = weights;\n        blurUniforms['latitudinal'].value = direction === 'latitudinal';\n        blurUniforms['dTheta'].value = radiansPerPixel;\n        const cubeCamera = new three__WEBPACK_IMPORTED_MODULE_3__.CubeCamera(0.1, 100, targetOut);\n        cubeCamera.update(this.threeRenderer, this.blurScene);\n    }\n    getBlurShader(maxSamples) {\n        const weights = new Float32Array(maxSamples);\n        const poleAxis = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0);\n        const shaderMaterial = new three__WEBPACK_IMPORTED_MODULE_3__.ShaderMaterial({\n            name: 'SphericalGaussianBlur',\n            defines: { 'n': maxSamples },\n            uniforms: {\n                'envMap': { value: null },\n                'samples': { value: 1 },\n                'weights': { value: weights },\n                'latitudinal': { value: false },\n                'dTheta': { value: 0 },\n                'poleAxis': { value: poleAxis }\n            },\n            vertexShader: /* glsl */ `\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    `,\n            fragmentShader: /* glsl */ `\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      `,\n            blending: three__WEBPACK_IMPORTED_MODULE_3__.NoBlending,\n            depthTest: false,\n            depthWrite: false,\n            side: three__WEBPACK_IMPORTED_MODULE_3__.BackSide\n        });\n        return shaderMaterial;\n    }\n    async dispose() {\n        for (const [, promise] of this.skyboxCache) {\n            const skybox = await promise;\n            skybox.dispose();\n        }\n        if (this.generatedEnvironmentMap != null) {\n            (await this.generatedEnvironmentMap).dispose();\n            this.generatedEnvironmentMap = null;\n        }\n        if (this.generatedEnvironmentMapAlt != null) {\n            (await this.generatedEnvironmentMapAlt).dispose();\n            this.generatedEnvironmentMapAlt = null;\n        }\n        if (this.blurMaterial != null) {\n            this.blurMaterial.dispose();\n        }\n    }\n}\n//# sourceMappingURL=TextureUtils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvVGV4dHVyZVV0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNlE7QUFDdk07QUFDVDtBQUNSO0FBQ007QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBYTtBQUNuQyxzQkFBc0IsZ0ZBQVU7QUFDaEMsc0JBQXNCLGdEQUFhO0FBQ3BCLDJCQUEyQixrREFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsOEJBQThCLG1FQUFnQztBQUM5RDtBQUNBLG1DQUFtQywrQ0FBWTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix5QkFBeUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0Esa0hBQWtIO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZEQUFjO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5REFBVTtBQUN4QjtBQUNBLCtCQUErQix3REFBcUI7QUFDcEQ7QUFDQSxrQkFBa0IsZ0RBQWE7QUFDL0Isb0JBQW9CLDZDQUFVO0FBQzlCLHNCQUFzQixpREFBYztBQUNwQztBQUNBLFNBQVM7QUFDVCwrQkFBK0IsNkNBQVU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0RBQWE7QUFDNUMsa0NBQWtDLGlEQUFjO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw0REFBZ0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCwrREFBbUI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhDQUFXO0FBQ3ZDLGlDQUFpQyx1Q0FBSTtBQUNyQyxpQ0FBaUMsd0NBQUs7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxhQUFhLGdEQUFnRCxTQUFTLHFDQUFxQyxZQUFZO0FBQ2pLO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpQkFBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0JBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkNBQVU7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsMENBQU87QUFDcEMsbUNBQW1DLGlEQUFjO0FBQ2pEO0FBQ0EsdUJBQXVCLGlCQUFpQjtBQUN4QztBQUNBLDRCQUE0QixhQUFhO0FBQ3pDLDZCQUE2QixVQUFVO0FBQ3ZDLDZCQUE2QixnQkFBZ0I7QUFDN0MsaUNBQWlDLGNBQWM7QUFDL0MsNEJBQTRCLFVBQVU7QUFDdEMsOEJBQThCO0FBQzlCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsT0FBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZDQUFVO0FBQ2hDO0FBQ0E7QUFDQSxrQkFBa0IsMkNBQVE7QUFDMUIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvVGV4dHVyZVV0aWxzLmpzP2QwYzAiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgQmFja1NpZGUsIEJveEdlb21ldHJ5LCBDdWJlQ2FtZXJhLCBFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZywgRXZlbnREaXNwYXRjaGVyLCBIYWxmRmxvYXRUeXBlLCBMaW5lYXJFbmNvZGluZywgTWVzaCwgTm9CbGVuZGluZywgTm9Ub25lTWFwcGluZywgUkdCQUZvcm1hdCwgU2NlbmUsIFNoYWRlck1hdGVyaWFsLCBzUkdCRW5jb2RpbmcsIFRleHR1cmVMb2FkZXIsIFZlY3RvcjMsIFdlYkdMQ3ViZVJlbmRlclRhcmdldCB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7IFJHQkVMb2FkZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbG9hZGVycy9SR0JFTG9hZGVyLmpzJztcbmltcG9ydCB7IGRlc2VyaWFsaXplVXJsLCB0aW1lUGFzc2VzIH0gZnJvbSAnLi4vdXRpbGl0aWVzLmpzJztcbmltcG9ydCBFbnZpcm9ubWVudFNjZW5lIGZyb20gJy4vRW52aXJvbm1lbnRTY2VuZS5qcyc7XG5pbXBvcnQgRW52aXJvbm1lbnRTY2VuZUFsdCBmcm9tICcuL0Vudmlyb25tZW50U2NlbmVBbHQuanMnO1xuY29uc3QgR0VORVJBVEVEX1NJR01BID0gMC4wNDtcbi8vIFRoZSBtYXhpbXVtIGxlbmd0aCBvZiB0aGUgYmx1ciBmb3IgbG9vcC4gU21hbGxlciBzaWdtYXMgd2lsbCB1c2UgZmV3ZXJcbi8vIHNhbXBsZXMgYW5kIGV4aXQgZWFybHksIGJ1dCBub3QgcmVjb21waWxlIHRoZSBzaGFkZXIuXG5jb25zdCBNQVhfU0FNUExFUyA9IDIwO1xuY29uc3QgSERSX0ZJTEVfUkUgPSAvXFwuaGRyKFxcLmpzKT8kLztcbmNvbnN0IGxkckxvYWRlciA9IG5ldyBUZXh0dXJlTG9hZGVyKCk7XG5jb25zdCBoZHJMb2FkZXIgPSBuZXcgUkdCRUxvYWRlcigpO1xuaGRyTG9hZGVyLnNldERhdGFUeXBlKEhhbGZGbG9hdFR5cGUpO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZVV0aWxzIGV4dGVuZHMgRXZlbnREaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0aHJlZVJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGhyZWVSZW5kZXJlciA9IHRocmVlUmVuZGVyZXI7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXAgPSBudWxsO1xuICAgICAgICB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwQWx0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5za3lib3hDYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5ibHVyTWF0ZXJpYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmJsdXJTY2VuZSA9IG51bGw7XG4gICAgfVxuICAgIGFzeW5jIGxvYWQodXJsLCBwcm9ncmVzc0NhbGxiYWNrID0gKCkgPT4geyB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBpc0hEUiA9IEhEUl9GSUxFX1JFLnRlc3QodXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRlciA9IGlzSERSID8gaGRyTG9hZGVyIDogbGRyTG9hZGVyO1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IGxvYWRlci5sb2FkKHVybCwgcmVzb2x2ZSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjayhldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCAqIDAuOSk7XG4gICAgICAgICAgICB9LCByZWplY3QpKTtcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2soMS4wKTtcbiAgICAgICAgICAgIHRleHR1cmUubmFtZSA9IHVybDtcbiAgICAgICAgICAgIHRleHR1cmUubWFwcGluZyA9IEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nO1xuICAgICAgICAgICAgaWYgKCFpc0hEUikge1xuICAgICAgICAgICAgICAgIHRleHR1cmUuZW5jb2RpbmcgPSBzUkdCRW5jb2Rpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NDYWxsYmFjaygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgeyBza3lib3gsIGVudmlyb25tZW50TWFwIH0gb2JqZWN0IHdpdGggdGhlIHRhcmdldHMvdGV4dHVyZXNcbiAgICAgKiBhY2NvcmRpbmdseS4gYHNreWJveGAgaXMgYSBXZWJHTFJlbmRlckN1YmVUYXJnZXQsIGFuZCBgZW52aXJvbm1lbnRNYXBgXG4gICAgICogaXMgYSBUZXh0dXJlIGZyb20gYSBXZWJHTFJlbmRlckN1YmVUYXJnZXQuXG4gICAgICovXG4gICAgYXN5bmMgZ2VuZXJhdGVFbnZpcm9ubWVudE1hcEFuZFNreWJveChza3lib3hVcmwgPSBudWxsLCBlbnZpcm9ubWVudE1hcFVybCA9IG51bGwsIHByb2dyZXNzQ2FsbGJhY2sgPSAoKSA9PiB7IH0pIHtcbiAgICAgICAgY29uc3QgdXNlQWx0RW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudE1hcFVybCAhPT0gJ2xlZ2FjeSc7XG4gICAgICAgIGlmIChlbnZpcm9ubWVudE1hcFVybCA9PT0gJ2xlZ2FjeScgfHwgZW52aXJvbm1lbnRNYXBVcmwgPT09ICduZXV0cmFsJykge1xuICAgICAgICAgICAgZW52aXJvbm1lbnRNYXBVcmwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVudmlyb25tZW50TWFwVXJsID0gZGVzZXJpYWxpemVVcmwoZW52aXJvbm1lbnRNYXBVcmwpO1xuICAgICAgICBsZXQgc2t5Ym94TG9hZHMgPSBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIGxldCBlbnZpcm9ubWVudE1hcExvYWRzO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgc2t5Ym94IFVSTCwgYXR0ZW1wdCB0byBsb2FkIGl0IGFzIGEgY3ViZW1hcFxuICAgICAgICBpZiAoISFza3lib3hVcmwpIHtcbiAgICAgICAgICAgIHNreWJveExvYWRzID0gdGhpcy5sb2FkRXF1aXJlY3RGcm9tVXJsKHNreWJveFVybCwgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhZW52aXJvbm1lbnRNYXBVcmwpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYW4gYXZhaWxhYmxlIGVudmlyb25tZW50IG1hcCBVUkxcbiAgICAgICAgICAgIGVudmlyb25tZW50TWFwTG9hZHMgPVxuICAgICAgICAgICAgICAgIHRoaXMubG9hZEVxdWlyZWN0RnJvbVVybChlbnZpcm9ubWVudE1hcFVybCwgcHJvZ3Jlc3NDYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoISFza3lib3hVcmwpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlcml2aW5nIHRoZSBlbnZpcm9ubWVudCBtYXAgZnJvbSBhbiBhdmFpbGFibGUgc2t5Ym94XG4gICAgICAgICAgICBlbnZpcm9ubWVudE1hcExvYWRzID1cbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRFcXVpcmVjdEZyb21Vcmwoc2t5Ym94VXJsLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGdlbmVyYXRpbmcgdGhlIGVudmlyb25tZW50IG1hcFxuICAgICAgICAgICAgZW52aXJvbm1lbnRNYXBMb2FkcyA9IHVzZUFsdEVudmlyb25tZW50ID9cbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRHZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdCgpIDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRHZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtlbnZpcm9ubWVudE1hcCwgc2t5Ym94XSA9IGF3YWl0IFByb21pc2UuYWxsKFtlbnZpcm9ubWVudE1hcExvYWRzLCBza3lib3hMb2Fkc10pO1xuICAgICAgICBpZiAoZW52aXJvbm1lbnRNYXAgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBlbnZpcm9ubWVudCBtYXAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZW52aXJvbm1lbnRNYXAsIHNreWJveCB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhbiBlcXVpcmVjdCBUZXh0dXJlIGZyb20gYSBnaXZlbiBVUkwsIGZvciB1c2UgYXMgYSBza3lib3guXG4gICAgICovXG4gICAgYXN5bmMgbG9hZEVxdWlyZWN0RnJvbVVybCh1cmwsIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgICAgICAgaWYgKCF0aGlzLnNreWJveENhY2hlLmhhcyh1cmwpKSB7XG4gICAgICAgICAgICBjb25zdCBza3lib3hNYXBMb2FkcyA9IHRoaXMubG9hZCh1cmwsIHByb2dyZXNzQ2FsbGJhY2spO1xuICAgICAgICAgICAgdGhpcy5za3lib3hDYWNoZS5zZXQodXJsLCBza3lib3hNYXBMb2Fkcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc2t5Ym94Q2FjaGUuZ2V0KHVybCk7XG4gICAgfVxuICAgIGFzeW5jIEdlbmVyYXRlRW52aXJvbm1lbnRNYXAoc2NlbmUsIG5hbWUpIHtcbiAgICAgICAgYXdhaXQgdGltZVBhc3NlcygpO1xuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMudGhyZWVSZW5kZXJlcjtcbiAgICAgICAgY29uc3QgY3ViZVRhcmdldCA9IG5ldyBXZWJHTEN1YmVSZW5kZXJUYXJnZXQoMjU2LCB7XG4gICAgICAgICAgICBnZW5lcmF0ZU1pcG1hcHM6IGZhbHNlLFxuICAgICAgICAgICAgdHlwZTogSGFsZkZsb2F0VHlwZSxcbiAgICAgICAgICAgIGZvcm1hdDogUkdCQUZvcm1hdCxcbiAgICAgICAgICAgIGVuY29kaW5nOiBMaW5lYXJFbmNvZGluZyxcbiAgICAgICAgICAgIGRlcHRoQnVmZmVyOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjdWJlQ2FtZXJhID0gbmV3IEN1YmVDYW1lcmEoMC4xLCAxMDAsIGN1YmVUYXJnZXQpO1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCA9IGN1YmVDYW1lcmEucmVuZGVyVGFyZ2V0LnRleHR1cmU7XG4gICAgICAgIGdlbmVyYXRlZEVudmlyb25tZW50TWFwLm5hbWUgPSBuYW1lO1xuICAgICAgICBjb25zdCBvdXRwdXRFbmNvZGluZyA9IHJlbmRlcmVyLm91dHB1dEVuY29kaW5nO1xuICAgICAgICBjb25zdCB0b25lTWFwcGluZyA9IHJlbmRlcmVyLnRvbmVNYXBwaW5nO1xuICAgICAgICByZW5kZXJlci50b25lTWFwcGluZyA9IE5vVG9uZU1hcHBpbmc7XG4gICAgICAgIHJlbmRlcmVyLm91dHB1dEVuY29kaW5nID0gTGluZWFyRW5jb2Rpbmc7XG4gICAgICAgIGN1YmVDYW1lcmEudXBkYXRlKHJlbmRlcmVyLCBzY2VuZSk7XG4gICAgICAgIHRoaXMuYmx1ckN1YmVtYXAoY3ViZVRhcmdldCwgR0VORVJBVEVEX1NJR01BKTtcbiAgICAgICAgcmVuZGVyZXIudG9uZU1hcHBpbmcgPSB0b25lTWFwcGluZztcbiAgICAgICAgcmVuZGVyZXIub3V0cHV0RW5jb2RpbmcgPSBvdXRwdXRFbmNvZGluZztcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEVudmlyb25tZW50TWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBlbnZpcm9ubWVudCBtYXAuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZEdlbmVyYXRlZEVudmlyb25tZW50TWFwKCkge1xuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwID1cbiAgICAgICAgICAgICAgICB0aGlzLkdlbmVyYXRlRW52aXJvbm1lbnRNYXAobmV3IEVudmlyb25tZW50U2NlbmUoKSwgJ2xlZ2FjeScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBlbnZpcm9ubWVudCBtYXAsIGRlc2lnbmVkIHRvIGJlIG5ldXRyYWwgYW5kXG4gICAgICogY29sb3ItcHJlc2VydmluZy4gU2hvd3MgbGVzcyBjb250cmFzdCBhcm91bmQgdGhlIGRpZmZlcmVudCBzaWRlcyBvZiB0aGVcbiAgICAgKiBvYmplY3QuXG4gICAgICovXG4gICAgYXN5bmMgbG9hZEdlbmVyYXRlZEVudmlyb25tZW50TWFwQWx0KCkge1xuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmdlbmVyYXRlZEVudmlyb25tZW50TWFwQWx0ID1cbiAgICAgICAgICAgICAgICB0aGlzLkdlbmVyYXRlRW52aXJvbm1lbnRNYXAobmV3IEVudmlyb25tZW50U2NlbmVBbHQoKSwgJ25ldXRyYWwnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcEFsdDtcbiAgICB9XG4gICAgYmx1ckN1YmVtYXAoY3ViZVRhcmdldCwgc2lnbWEpIHtcbiAgICAgICAgaWYgKHRoaXMuYmx1ck1hdGVyaWFsID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYmx1ck1hdGVyaWFsID0gdGhpcy5nZXRCbHVyU2hhZGVyKE1BWF9TQU1QTEVTKTtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IG5ldyBCb3hHZW9tZXRyeSgpO1xuICAgICAgICAgICAgY29uc3QgYmx1ck1lc2ggPSBuZXcgTWVzaChib3gsIHRoaXMuYmx1ck1hdGVyaWFsKTtcbiAgICAgICAgICAgIHRoaXMuYmx1clNjZW5lID0gbmV3IFNjZW5lKCk7XG4gICAgICAgICAgICB0aGlzLmJsdXJTY2VuZS5hZGQoYmx1ck1lc2gpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRlbXBUYXJnZXQgPSBjdWJlVGFyZ2V0LmNsb25lKCk7XG4gICAgICAgIHRoaXMuaGFsZmJsdXIoY3ViZVRhcmdldCwgdGVtcFRhcmdldCwgc2lnbWEsICdsYXRpdHVkaW5hbCcpO1xuICAgICAgICB0aGlzLmhhbGZibHVyKHRlbXBUYXJnZXQsIGN1YmVUYXJnZXQsIHNpZ21hLCAnbG9uZ2l0dWRpbmFsJyk7XG4gICAgICAgIC8vIERpc3Bvc2luZyB0aGlzIHRhcmdldCBhZnRlciB3ZSdyZSBkb25lIHdpdGggaXQgc29tZWhvdyBjb3JydXB0cyBTYWZhcmknc1xuICAgICAgICAvLyB3aG9sZSBncmFwaGljcyBkcml2ZXIuIEl0J3MgcmFuZG9tLCBidXQgb2NjdXJzIG1vcmUgZnJlcXVlbnRseSBvblxuICAgICAgICAvLyBsb3dlci1wb3dlcmVkIEdQVXMgKG1hY2Jvb2tzIHdpdGggaW50ZWwgZ3JhcGhpY3MsIG9sZGVyIGlQaG9uZXMpLiBJdCBnb2VzXG4gICAgICAgIC8vIGJleW9uZCBqdXN0IG1lc3NpbmcgdXAgdGhlIFBNUkVNLCBhcyBpdCBhbHNvIG9jY2FzaW9uYWxseSBjYXVzZXNcbiAgICAgICAgLy8gdmlzaWJsZSBjb3JydXB0aW9uIG9uIHRoZSBjYW52YXMgYW5kIGV2ZW4gb24gdGhlIHJlc3Qgb2YgdGhlIHBhZ2UuXG4gICAgICAgIC8qKiB0ZW1wVGFyZ2V0LmRpc3Bvc2UoKTsgKi9cbiAgICB9XG4gICAgaGFsZmJsdXIodGFyZ2V0SW4sIHRhcmdldE91dCwgc2lnbWFSYWRpYW5zLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgLy8gTnVtYmVyIG9mIHN0YW5kYXJkIGRldmlhdGlvbnMgYXQgd2hpY2ggdG8gY3V0IG9mZiB0aGUgZGlzY3JldGVcbiAgICAgICAgLy8gYXBwcm94aW1hdGlvbi5cbiAgICAgICAgY29uc3QgU1RBTkRBUkRfREVWSUFUSU9OUyA9IDM7XG4gICAgICAgIGNvbnN0IHBpeGVscyA9IHRhcmdldEluLndpZHRoO1xuICAgICAgICBjb25zdCByYWRpYW5zUGVyUGl4ZWwgPSBpc0Zpbml0ZShzaWdtYVJhZGlhbnMpID9cbiAgICAgICAgICAgIE1hdGguUEkgLyAoMiAqIHBpeGVscykgOlxuICAgICAgICAgICAgMiAqIE1hdGguUEkgLyAoMiAqIE1BWF9TQU1QTEVTIC0gMSk7XG4gICAgICAgIGNvbnN0IHNpZ21hUGl4ZWxzID0gc2lnbWFSYWRpYW5zIC8gcmFkaWFuc1BlclBpeGVsO1xuICAgICAgICBjb25zdCBzYW1wbGVzID0gaXNGaW5pdGUoc2lnbWFSYWRpYW5zKSA/XG4gICAgICAgICAgICAxICsgTWF0aC5mbG9vcihTVEFOREFSRF9ERVZJQVRJT05TICogc2lnbWFQaXhlbHMpIDpcbiAgICAgICAgICAgIE1BWF9TQU1QTEVTO1xuICAgICAgICBpZiAoc2FtcGxlcyA+IE1BWF9TQU1QTEVTKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYHNpZ21hUmFkaWFucywgJHtzaWdtYVJhZGlhbnN9LCBpcyB0b28gbGFyZ2UgYW5kIHdpbGwgY2xpcCwgYXMgaXQgcmVxdWVzdGVkICR7c2FtcGxlc30gc2FtcGxlcyB3aGVuIHRoZSBtYXhpbXVtIGlzIHNldCB0byAke01BWF9TQU1QTEVTfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdlaWdodHMgPSBbXTtcbiAgICAgICAgbGV0IHN1bSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTUFYX1NBTVBMRVM7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgeCA9IGkgLyBzaWdtYVBpeGVscztcbiAgICAgICAgICAgIGNvbnN0IHdlaWdodCA9IE1hdGguZXhwKC14ICogeCAvIDIpO1xuICAgICAgICAgICAgd2VpZ2h0cy5wdXNoKHdlaWdodCk7XG4gICAgICAgICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IHdlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGkgPCBzYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgc3VtICs9IDIgKiB3ZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB3ZWlnaHRzW2ldID0gd2VpZ2h0c1tpXSAvIHN1bTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibHVyVW5pZm9ybXMgPSB0aGlzLmJsdXJNYXRlcmlhbC51bmlmb3JtcztcbiAgICAgICAgYmx1clVuaWZvcm1zWydlbnZNYXAnXS52YWx1ZSA9IHRhcmdldEluLnRleHR1cmU7XG4gICAgICAgIGJsdXJVbmlmb3Jtc1snc2FtcGxlcyddLnZhbHVlID0gc2FtcGxlcztcbiAgICAgICAgYmx1clVuaWZvcm1zWyd3ZWlnaHRzJ10udmFsdWUgPSB3ZWlnaHRzO1xuICAgICAgICBibHVyVW5pZm9ybXNbJ2xhdGl0dWRpbmFsJ10udmFsdWUgPSBkaXJlY3Rpb24gPT09ICdsYXRpdHVkaW5hbCc7XG4gICAgICAgIGJsdXJVbmlmb3Jtc1snZFRoZXRhJ10udmFsdWUgPSByYWRpYW5zUGVyUGl4ZWw7XG4gICAgICAgIGNvbnN0IGN1YmVDYW1lcmEgPSBuZXcgQ3ViZUNhbWVyYSgwLjEsIDEwMCwgdGFyZ2V0T3V0KTtcbiAgICAgICAgY3ViZUNhbWVyYS51cGRhdGUodGhpcy50aHJlZVJlbmRlcmVyLCB0aGlzLmJsdXJTY2VuZSk7XG4gICAgfVxuICAgIGdldEJsdXJTaGFkZXIobWF4U2FtcGxlcykge1xuICAgICAgICBjb25zdCB3ZWlnaHRzID0gbmV3IEZsb2F0MzJBcnJheShtYXhTYW1wbGVzKTtcbiAgICAgICAgY29uc3QgcG9sZUF4aXMgPSBuZXcgVmVjdG9yMygwLCAxLCAwKTtcbiAgICAgICAgY29uc3Qgc2hhZGVyTWF0ZXJpYWwgPSBuZXcgU2hhZGVyTWF0ZXJpYWwoe1xuICAgICAgICAgICAgbmFtZTogJ1NwaGVyaWNhbEdhdXNzaWFuQmx1cicsXG4gICAgICAgICAgICBkZWZpbmVzOiB7ICduJzogbWF4U2FtcGxlcyB9LFxuICAgICAgICAgICAgdW5pZm9ybXM6IHtcbiAgICAgICAgICAgICAgICAnZW52TWFwJzogeyB2YWx1ZTogbnVsbCB9LFxuICAgICAgICAgICAgICAgICdzYW1wbGVzJzogeyB2YWx1ZTogMSB9LFxuICAgICAgICAgICAgICAgICd3ZWlnaHRzJzogeyB2YWx1ZTogd2VpZ2h0cyB9LFxuICAgICAgICAgICAgICAgICdsYXRpdHVkaW5hbCc6IHsgdmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgJ2RUaGV0YSc6IHsgdmFsdWU6IDAgfSxcbiAgICAgICAgICAgICAgICAncG9sZUF4aXMnOiB7IHZhbHVlOiBwb2xlQXhpcyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmVydGV4U2hhZGVyOiAvKiBnbHNsICovIGBcbiAgICAgIFxuICAgICAgdmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG4gIFxuICAgICAgdm9pZCBtYWluKCkge1xuICBcbiAgICAgICAgdk91dHB1dERpcmVjdGlvbiA9IHZlYzMoIHBvc2l0aW9uICk7XG4gICAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcbiAgXG4gICAgICB9XG4gICAgYCxcbiAgICAgICAgICAgIGZyYWdtZW50U2hhZGVyOiAvKiBnbHNsICovIGBcbiAgICAgICAgdmFyeWluZyB2ZWMzIHZPdXRwdXREaXJlY3Rpb247XG4gIFxuICAgICAgICB1bmlmb3JtIHNhbXBsZXJDdWJlIGVudk1hcDtcbiAgICAgICAgdW5pZm9ybSBpbnQgc2FtcGxlcztcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB3ZWlnaHRzWyBuIF07XG4gICAgICAgIHVuaWZvcm0gYm9vbCBsYXRpdHVkaW5hbDtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCBkVGhldGE7XG4gICAgICAgIHVuaWZvcm0gdmVjMyBwb2xlQXhpcztcbiAgXG4gICAgICAgIHZlYzMgZ2V0U2FtcGxlKCBmbG9hdCB0aGV0YSwgdmVjMyBheGlzICkge1xuICBcbiAgICAgICAgICBmbG9hdCBjb3NUaGV0YSA9IGNvcyggdGhldGEgKTtcbiAgICAgICAgICAvLyBSb2RyaWd1ZXMnIGF4aXMtYW5nbGUgcm90YXRpb25cbiAgICAgICAgICB2ZWMzIHNhbXBsZURpcmVjdGlvbiA9IHZPdXRwdXREaXJlY3Rpb24gKiBjb3NUaGV0YVxuICAgICAgICAgICAgKyBjcm9zcyggYXhpcywgdk91dHB1dERpcmVjdGlvbiApICogc2luKCB0aGV0YSApXG4gICAgICAgICAgICArIGF4aXMgKiBkb3QoIGF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKSAqICggMS4wIC0gY29zVGhldGEgKTtcbiAgXG4gICAgICAgICAgcmV0dXJuIHZlYzMoIHRleHR1cmVDdWJlKCBlbnZNYXAsIHNhbXBsZURpcmVjdGlvbiApICk7XG4gIFxuICAgICAgICB9XG4gIFxuICAgICAgICB2b2lkIG1haW4oKSB7XG4gIFxuICAgICAgICAgIHZlYzMgYXhpcyA9IGxhdGl0dWRpbmFsID8gcG9sZUF4aXMgOiBjcm9zcyggcG9sZUF4aXMsIHZPdXRwdXREaXJlY3Rpb24gKTtcbiAgXG4gICAgICAgICAgaWYgKCBhbGwoIGVxdWFsKCBheGlzLCB2ZWMzKCAwLjAgKSApICkgKSB7XG4gIFxuICAgICAgICAgICAgYXhpcyA9IHZlYzMoIHZPdXRwdXREaXJlY3Rpb24ueiwgMC4wLCAtIHZPdXRwdXREaXJlY3Rpb24ueCApO1xuICBcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGF4aXMgPSBub3JtYWxpemUoIGF4aXMgKTtcbiAgXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCggMC4wLCAwLjAsIDAuMCwgMS4wICk7XG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyAwIF0gKiBnZXRTYW1wbGUoIDAuMCwgYXhpcyApO1xuICBcbiAgICAgICAgICBmb3IgKCBpbnQgaSA9IDE7IGkgPCBuOyBpKysgKSB7XG4gIFxuICAgICAgICAgICAgaWYgKCBpID49IHNhbXBsZXMgKSB7XG4gIFxuICAgICAgICAgICAgICBicmVhaztcbiAgXG4gICAgICAgICAgICB9XG4gIFxuICAgICAgICAgICAgZmxvYXQgdGhldGEgPSBkVGhldGEgKiBmbG9hdCggaSApO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIC0xLjAgKiB0aGV0YSwgYXhpcyApO1xuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yLnJnYiArPSB3ZWlnaHRzWyBpIF0gKiBnZXRTYW1wbGUoIHRoZXRhLCBheGlzICk7XG4gIFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICAgICAgICAgIGJsZW5kaW5nOiBOb0JsZW5kaW5nLFxuICAgICAgICAgICAgZGVwdGhUZXN0OiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoV3JpdGU6IGZhbHNlLFxuICAgICAgICAgICAgc2lkZTogQmFja1NpZGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzaGFkZXJNYXRlcmlhbDtcbiAgICB9XG4gICAgYXN5bmMgZGlzcG9zZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBbLCBwcm9taXNlXSBvZiB0aGlzLnNreWJveENhY2hlKSB7XG4gICAgICAgICAgICBjb25zdCBza3lib3ggPSBhd2FpdCBwcm9taXNlO1xuICAgICAgICAgICAgc2t5Ym94LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAoYXdhaXQgdGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCkuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZWRFbnZpcm9ubWVudE1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXBBbHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgKGF3YWl0IHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXBBbHQpLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVkRW52aXJvbm1lbnRNYXBBbHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJsdXJNYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmJsdXJNYXRlcmlhbC5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlVXRpbHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/TextureUtils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModelViewerGLTFInstance: () => (/* binding */ ModelViewerGLTFInstance)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GLTFInstance.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/GLTFInstance.js\");\n/* harmony import */ var _correlated_scene_graph_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./correlated-scene-graph.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js\");\n/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n\nconst $correlatedSceneGraph = Symbol('correlatedSceneGraph');\n/**\n * This specialization of GLTFInstance collects all of the processing needed\n * to prepare a model and to clone it making special considerations for\n * <model-viewer> use cases.\n */\nclass ModelViewerGLTFInstance extends _GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.GLTFInstance {\n    /**\n     * @override\n     */\n    static [_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$prepare](source) {\n        const prepared = super[_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$prepare](source);\n        if (prepared[$correlatedSceneGraph] == null) {\n            prepared[$correlatedSceneGraph] = _correlated_scene_graph_js__WEBPACK_IMPORTED_MODULE_1__.CorrelatedSceneGraph.from(prepared);\n        }\n        const { scene } = prepared;\n        const nullSphere = new three__WEBPACK_IMPORTED_MODULE_2__.Sphere(undefined, Infinity);\n        scene.traverse((node) => {\n            // Set a high renderOrder while we're here to ensure the model\n            // always renders on top of the sky sphere\n            node.renderOrder = 1000;\n            // Three.js seems to cull some animated models incorrectly. Since we\n            // expect to view our whole scene anyway, we turn off the frustum\n            // culling optimization here.\n            node.frustumCulled = false;\n            // Animations for objects without names target their UUID instead. When\n            // objects are cloned, they get new UUIDs which the animation can't\n            // find. To fix this, we assign their UUID as their name.\n            if (!node.name) {\n                node.name = node.uuid;\n            }\n            const mesh = node;\n            if (mesh.isMesh) {\n                const { geometry } = mesh;\n                mesh.castShadow = true;\n                if (mesh.isSkinnedMesh) {\n                    // Akin to disabling frustum culling above, we have to also manually\n                    // disable the bounds to make raycasting correct for skinned meshes.\n                    geometry.boundingSphere = nullSphere;\n                    // The bounding box is set in GLTFLoader by the accessor bounds, which\n                    // are not updated with animation.\n                    geometry.boundingBox = null;\n                }\n                const material = mesh.material;\n                if (material.isMeshBasicMaterial === true) {\n                    material.toneMapped = false;\n                }\n                // This makes shadows better for non-manifold meshes\n                material.shadowSide = three__WEBPACK_IMPORTED_MODULE_2__.FrontSide;\n                // Fixes an edge case with unused extra UV-coords being incorrectly\n                // referenced by three.js; remove when\n                // https://github.com/mrdoob/three.js/pull/23974 is merged.\n                if (material.aoMap) {\n                    const { gltf, threeObjectMap } = prepared[$correlatedSceneGraph];\n                    const gltfRef = threeObjectMap.get(material);\n                    if (gltf.materials != null && gltfRef != null &&\n                        gltfRef.materials != null) {\n                        const gltfMaterial = gltf.materials[gltfRef.materials];\n                        if (gltfMaterial.occlusionTexture &&\n                            gltfMaterial.occlusionTexture.texCoord === 0 &&\n                            geometry.attributes.uv != null) {\n                            geometry.setAttribute('uv2', geometry.attributes.uv);\n                        }\n                    }\n                }\n            }\n        });\n        return prepared;\n    }\n    get correlatedSceneGraph() {\n        return this[_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$preparedGLTF][$correlatedSceneGraph];\n    }\n    /**\n     * @override\n     */\n    [_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$clone]() {\n        const clone = super[_GLTFInstance_js__WEBPACK_IMPORTED_MODULE_0__.$clone]();\n        const sourceUUIDToClonedMaterial = new Map();\n        clone.scene.traverse((node) => {\n            // Materials aren't cloned when cloning meshes; geometry\n            // and materials are copied by reference. This is necessary\n            // for the same model to be used twice with different\n            // scene-graph operations.\n            if (node.isMesh) {\n                const mesh = node;\n                const material = mesh.material;\n                if (material != null) {\n                    if (sourceUUIDToClonedMaterial.has(material.uuid)) {\n                        mesh.material = sourceUUIDToClonedMaterial.get(material.uuid);\n                        return;\n                    }\n                    mesh.material = material.clone();\n                    sourceUUIDToClonedMaterial.set(material.uuid, mesh.material);\n                }\n            }\n        });\n        // Cross-correlate the scene graph by relying on information in the\n        // current scene graph; without this step, relationships between the\n        // Three.js object graph and the glTF scene graph will be lost.\n        clone[$correlatedSceneGraph] =\n            _correlated_scene_graph_js__WEBPACK_IMPORTED_MODULE_1__.CorrelatedSceneGraph.from(clone, this.correlatedSceneGraph);\n        return clone;\n    }\n}\n//# sourceMappingURL=ModelViewerGLTFInstance.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9Nb2RlbFZpZXdlckdMVEZJbnN0YW5jZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMwQztBQUN5QztBQUNoQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxzQ0FBc0MsMERBQVk7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsWUFBWSxzREFBUTtBQUNwQiwrQkFBK0Isc0RBQVE7QUFDdkM7QUFDQSw4Q0FBOEMsNEVBQW9CO0FBQ2xFO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEIsK0JBQStCLHlDQUFNO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFdBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyw0Q0FBUztBQUMvQztBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJEQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxvREFBTTtBQUNYLDRCQUE0QixvREFBTTtBQUNsQztBQUNBO0FBQ0EsNERBQTREO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0EsWUFBWSw0RUFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL2dsdGYtaW5zdGFuY2UvTW9kZWxWaWV3ZXJHTFRGSW5zdGFuY2UuanM/NmRhOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBGcm9udFNpZGUsIFNwaGVyZSB9IGZyb20gJ3RocmVlJztcbmltcG9ydCB7ICRjbG9uZSwgJHByZXBhcmUsICRwcmVwYXJlZEdMVEYsIEdMVEZJbnN0YW5jZSB9IGZyb20gJy4uL0dMVEZJbnN0YW5jZS5qcyc7XG5pbXBvcnQgeyBDb3JyZWxhdGVkU2NlbmVHcmFwaCB9IGZyb20gJy4vY29ycmVsYXRlZC1zY2VuZS1ncmFwaC5qcyc7XG5jb25zdCAkY29ycmVsYXRlZFNjZW5lR3JhcGggPSBTeW1ib2woJ2NvcnJlbGF0ZWRTY2VuZUdyYXBoJyk7XG4vKipcbiAqIFRoaXMgc3BlY2lhbGl6YXRpb24gb2YgR0xURkluc3RhbmNlIGNvbGxlY3RzIGFsbCBvZiB0aGUgcHJvY2Vzc2luZyBuZWVkZWRcbiAqIHRvIHByZXBhcmUgYSBtb2RlbCBhbmQgdG8gY2xvbmUgaXQgbWFraW5nIHNwZWNpYWwgY29uc2lkZXJhdGlvbnMgZm9yXG4gKiA8bW9kZWwtdmlld2VyPiB1c2UgY2FzZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RlbFZpZXdlckdMVEZJbnN0YW5jZSBleHRlbmRzIEdMVEZJbnN0YW5jZSB7XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc3RhdGljIFskcHJlcGFyZV0oc291cmNlKSB7XG4gICAgICAgIGNvbnN0IHByZXBhcmVkID0gc3VwZXJbJHByZXBhcmVdKHNvdXJjZSk7XG4gICAgICAgIGlmIChwcmVwYXJlZFskY29ycmVsYXRlZFNjZW5lR3JhcGhdID09IG51bGwpIHtcbiAgICAgICAgICAgIHByZXBhcmVkWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF0gPSBDb3JyZWxhdGVkU2NlbmVHcmFwaC5mcm9tKHByZXBhcmVkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHNjZW5lIH0gPSBwcmVwYXJlZDtcbiAgICAgICAgY29uc3QgbnVsbFNwaGVyZSA9IG5ldyBTcGhlcmUodW5kZWZpbmVkLCBJbmZpbml0eSk7XG4gICAgICAgIHNjZW5lLnRyYXZlcnNlKChub2RlKSA9PiB7XG4gICAgICAgICAgICAvLyBTZXQgYSBoaWdoIHJlbmRlck9yZGVyIHdoaWxlIHdlJ3JlIGhlcmUgdG8gZW5zdXJlIHRoZSBtb2RlbFxuICAgICAgICAgICAgLy8gYWx3YXlzIHJlbmRlcnMgb24gdG9wIG9mIHRoZSBza3kgc3BoZXJlXG4gICAgICAgICAgICBub2RlLnJlbmRlck9yZGVyID0gMTAwMDtcbiAgICAgICAgICAgIC8vIFRocmVlLmpzIHNlZW1zIHRvIGN1bGwgc29tZSBhbmltYXRlZCBtb2RlbHMgaW5jb3JyZWN0bHkuIFNpbmNlIHdlXG4gICAgICAgICAgICAvLyBleHBlY3QgdG8gdmlldyBvdXIgd2hvbGUgc2NlbmUgYW55d2F5LCB3ZSB0dXJuIG9mZiB0aGUgZnJ1c3R1bVxuICAgICAgICAgICAgLy8gY3VsbGluZyBvcHRpbWl6YXRpb24gaGVyZS5cbiAgICAgICAgICAgIG5vZGUuZnJ1c3R1bUN1bGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gQW5pbWF0aW9ucyBmb3Igb2JqZWN0cyB3aXRob3V0IG5hbWVzIHRhcmdldCB0aGVpciBVVUlEIGluc3RlYWQuIFdoZW5cbiAgICAgICAgICAgIC8vIG9iamVjdHMgYXJlIGNsb25lZCwgdGhleSBnZXQgbmV3IFVVSURzIHdoaWNoIHRoZSBhbmltYXRpb24gY2FuJ3RcbiAgICAgICAgICAgIC8vIGZpbmQuIFRvIGZpeCB0aGlzLCB3ZSBhc3NpZ24gdGhlaXIgVVVJRCBhcyB0aGVpciBuYW1lLlxuICAgICAgICAgICAgaWYgKCFub2RlLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBub2RlLnV1aWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXNoID0gbm9kZTtcbiAgICAgICAgICAgIGlmIChtZXNoLmlzTWVzaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZ2VvbWV0cnkgfSA9IG1lc2g7XG4gICAgICAgICAgICAgICAgbWVzaC5jYXN0U2hhZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAobWVzaC5pc1NraW5uZWRNZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFraW4gdG8gZGlzYWJsaW5nIGZydXN0dW0gY3VsbGluZyBhYm92ZSwgd2UgaGF2ZSB0byBhbHNvIG1hbnVhbGx5XG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgdGhlIGJvdW5kcyB0byBtYWtlIHJheWNhc3RpbmcgY29ycmVjdCBmb3Igc2tpbm5lZCBtZXNoZXMuXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LmJvdW5kaW5nU3BoZXJlID0gbnVsbFNwaGVyZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJvdW5kaW5nIGJveCBpcyBzZXQgaW4gR0xURkxvYWRlciBieSB0aGUgYWNjZXNzb3IgYm91bmRzLCB3aGljaFxuICAgICAgICAgICAgICAgICAgICAvLyBhcmUgbm90IHVwZGF0ZWQgd2l0aCBhbmltYXRpb24uXG4gICAgICAgICAgICAgICAgICAgIGdlb21ldHJ5LmJvdW5kaW5nQm94ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbC5pc01lc2hCYXNpY01hdGVyaWFsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsLnRvbmVNYXBwZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtYWtlcyBzaGFkb3dzIGJldHRlciBmb3Igbm9uLW1hbmlmb2xkIG1lc2hlc1xuICAgICAgICAgICAgICAgIG1hdGVyaWFsLnNoYWRvd1NpZGUgPSBGcm9udFNpZGU7XG4gICAgICAgICAgICAgICAgLy8gRml4ZXMgYW4gZWRnZSBjYXNlIHdpdGggdW51c2VkIGV4dHJhIFVWLWNvb3JkcyBiZWluZyBpbmNvcnJlY3RseVxuICAgICAgICAgICAgICAgIC8vIHJlZmVyZW5jZWQgYnkgdGhyZWUuanM7IHJlbW92ZSB3aGVuXG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzIzOTc0IGlzIG1lcmdlZC5cbiAgICAgICAgICAgICAgICBpZiAobWF0ZXJpYWwuYW9NYXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBnbHRmLCB0aHJlZU9iamVjdE1hcCB9ID0gcHJlcGFyZWRbJGNvcnJlbGF0ZWRTY2VuZUdyYXBoXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2x0ZlJlZiA9IHRocmVlT2JqZWN0TWFwLmdldChtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnbHRmLm1hdGVyaWFscyAhPSBudWxsICYmIGdsdGZSZWYgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZ2x0ZlJlZi5tYXRlcmlhbHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2x0Zk1hdGVyaWFsID0gZ2x0Zi5tYXRlcmlhbHNbZ2x0ZlJlZi5tYXRlcmlhbHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdsdGZNYXRlcmlhbC5vY2NsdXNpb25UZXh0dXJlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2x0Zk1hdGVyaWFsLm9jY2x1c2lvblRleHR1cmUudGV4Q29vcmQgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzLnV2ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3V2MicsIGdlb21ldHJ5LmF0dHJpYnV0ZXMudXYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByZXBhcmVkO1xuICAgIH1cbiAgICBnZXQgY29ycmVsYXRlZFNjZW5lR3JhcGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyRwcmVwYXJlZEdMVEZdWyRjb3JyZWxhdGVkU2NlbmVHcmFwaF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIFskY2xvbmVdKCkge1xuICAgICAgICBjb25zdCBjbG9uZSA9IHN1cGVyWyRjbG9uZV0oKTtcbiAgICAgICAgY29uc3Qgc291cmNlVVVJRFRvQ2xvbmVkTWF0ZXJpYWwgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNsb25lLnNjZW5lLnRyYXZlcnNlKChub2RlKSA9PiB7XG4gICAgICAgICAgICAvLyBNYXRlcmlhbHMgYXJlbid0IGNsb25lZCB3aGVuIGNsb25pbmcgbWVzaGVzOyBnZW9tZXRyeVxuICAgICAgICAgICAgLy8gYW5kIG1hdGVyaWFscyBhcmUgY29waWVkIGJ5IHJlZmVyZW5jZS4gVGhpcyBpcyBuZWNlc3NhcnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgc2FtZSBtb2RlbCB0byBiZSB1c2VkIHR3aWNlIHdpdGggZGlmZmVyZW50XG4gICAgICAgICAgICAvLyBzY2VuZS1ncmFwaCBvcGVyYXRpb25zLlxuICAgICAgICAgICAgaWYgKG5vZGUuaXNNZXNoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaCA9IG5vZGU7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBtZXNoLm1hdGVyaWFsO1xuICAgICAgICAgICAgICAgIGlmIChtYXRlcmlhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VVVUlEVG9DbG9uZWRNYXRlcmlhbC5oYXMobWF0ZXJpYWwudXVpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSBzb3VyY2VVVUlEVG9DbG9uZWRNYXRlcmlhbC5nZXQobWF0ZXJpYWwudXVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzaC5tYXRlcmlhbCA9IG1hdGVyaWFsLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVVVSURUb0Nsb25lZE1hdGVyaWFsLnNldChtYXRlcmlhbC51dWlkLCBtZXNoLm1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcm9zcy1jb3JyZWxhdGUgdGhlIHNjZW5lIGdyYXBoIGJ5IHJlbHlpbmcgb24gaW5mb3JtYXRpb24gaW4gdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgc2NlbmUgZ3JhcGg7IHdpdGhvdXQgdGhpcyBzdGVwLCByZWxhdGlvbnNoaXBzIGJldHdlZW4gdGhlXG4gICAgICAgIC8vIFRocmVlLmpzIG9iamVjdCBncmFwaCBhbmQgdGhlIGdsVEYgc2NlbmUgZ3JhcGggd2lsbCBiZSBsb3N0LlxuICAgICAgICBjbG9uZVskY29ycmVsYXRlZFNjZW5lR3JhcGhdID1cbiAgICAgICAgICAgIENvcnJlbGF0ZWRTY2VuZUdyYXBoLmZyb20oY2xvbmUsIHRoaXMuY29ycmVsYXRlZFNjZW5lR3JhcGgpO1xuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TW9kZWxWaWV3ZXJHTFRGSW5zdGFuY2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/ModelViewerGLTFInstance.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GLTFExporterMaterialsVariantsExtension)\n/* harmony export */ });\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @param object {THREE.Object3D}\n * @return {boolean}\n */\nconst compatibleObject = (object) => {\n    // @TODO: Need properer variantMaterials format validation?\n    return object.material !==\n        undefined && // easier than (!object.isMesh && !object.isLine &&\n        // !object.isPoints)\n        object.userData && // just in case\n        object.userData.variantMaterials &&\n        // Is this line costly?\n        !!Array\n            .from(object.userData.variantMaterials\n            .values())\n            .filter(m => compatibleMaterial(m.material));\n};\n/**\n * @param material {THREE.Material}\n * @return {boolean}\n */\nconst compatibleMaterial = (material) => {\n    // @TODO: support multi materials?\n    return material && material.isMaterial && !Array.isArray(material);\n};\nclass GLTFExporterMaterialsVariantsExtension {\n    constructor(writer) {\n        this.writer = writer;\n        this.name = 'KHR_materials_variants';\n        this.variantNames = [];\n    }\n    beforeParse(objects) {\n        // Find all variant names and store them to the table\n        const variantNameSet = new Set();\n        for (const object of objects) {\n            object.traverse(o => {\n                if (!compatibleObject(o)) {\n                    return;\n                }\n                const variantMaterials = o.userData.variantMaterials;\n                const variantDataMap = o.userData.variantData;\n                for (const [variantName, variantData] of variantDataMap) {\n                    const variantMaterial = variantMaterials.get(variantData.index);\n                    // Ignore unloaded variant materials\n                    if (variantMaterial && compatibleMaterial(variantMaterial.material)) {\n                        variantNameSet.add(variantName);\n                    }\n                }\n            });\n        }\n        // We may want to sort?\n        variantNameSet.forEach(name => this.variantNames.push(name));\n    }\n    writeMesh(mesh, meshDef) {\n        if (!compatibleObject(mesh)) {\n            return;\n        }\n        const userData = mesh.userData;\n        const variantMaterials = userData.variantMaterials;\n        const variantDataMap = userData.variantData;\n        const mappingTable = new Map();\n        // Removes gaps in the variant indices list (caused by deleting variants).\n        const reIndexedVariants = new Map();\n        const variants = Array.from(variantDataMap.values()).sort((a, b) => {\n            return a.index - b.index;\n        });\n        for (const [i, variantData] of variants.entries()) {\n            reIndexedVariants.set(variantData.index, i);\n        }\n        for (const variantData of variantDataMap.values()) {\n            const variantInstance = variantMaterials.get(variantData.index);\n            if (!variantInstance || !compatibleMaterial(variantInstance.material)) {\n                continue;\n            }\n            const materialIndex = this.writer.processMaterial(variantInstance.material);\n            if (!mappingTable.has(materialIndex)) {\n                mappingTable.set(materialIndex, { material: materialIndex, variants: [] });\n            }\n            mappingTable.get(materialIndex).variants.push(reIndexedVariants.get(variantData.index));\n        }\n        const mappingsDef = Array.from(mappingTable.values())\n            .map((m => { return m.variants.sort((a, b) => a - b) && m; }))\n            .sort((a, b) => a.material - b.material);\n        if (mappingsDef.length === 0) {\n            return;\n        }\n        const originalMaterialIndex = compatibleMaterial(userData.originalMaterial) ?\n            this.writer.processMaterial(userData.originalMaterial) :\n            -1;\n        for (const primitiveDef of meshDef.primitives) {\n            // Override primitiveDef.material with original material.\n            if (originalMaterialIndex >= 0) {\n                primitiveDef.material = originalMaterialIndex;\n            }\n            primitiveDef.extensions = primitiveDef.extensions || {};\n            primitiveDef.extensions[this.name] = { mappings: mappingsDef };\n        }\n    }\n    afterParse() {\n        if (this.variantNames.length === 0) {\n            return;\n        }\n        const root = this.writer.json;\n        root.extensions = root.extensions || {};\n        const variantsDef = this.variantNames.map(n => {\n            return { name: n };\n        });\n        root.extensions[this.name] = { variants: variantsDef };\n        this.writer.extensionsUsed[this.name] = true;\n    }\n}\n//# sourceMappingURL=VariantMaterialExporterPlugin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9WYXJpYW50TWF0ZXJpYWxFeHBvcnRlclBsdWdpbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEIsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELHVDQUF1QztBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwrQ0FBK0M7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLFNBQVM7QUFDVCx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL2dsdGYtaW5zdGFuY2UvVmFyaWFudE1hdGVyaWFsRXhwb3J0ZXJQbHVnaW4uanM/MzAxMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBwYXJhbSBvYmplY3Qge1RIUkVFLk9iamVjdDNEfVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgY29tcGF0aWJsZU9iamVjdCA9IChvYmplY3QpID0+IHtcbiAgICAvLyBAVE9ETzogTmVlZCBwcm9wZXJlciB2YXJpYW50TWF0ZXJpYWxzIGZvcm1hdCB2YWxpZGF0aW9uP1xuICAgIHJldHVybiBvYmplY3QubWF0ZXJpYWwgIT09XG4gICAgICAgIHVuZGVmaW5lZCAmJiAvLyBlYXNpZXIgdGhhbiAoIW9iamVjdC5pc01lc2ggJiYgIW9iamVjdC5pc0xpbmUgJiZcbiAgICAgICAgLy8gIW9iamVjdC5pc1BvaW50cylcbiAgICAgICAgb2JqZWN0LnVzZXJEYXRhICYmIC8vIGp1c3QgaW4gY2FzZVxuICAgICAgICBvYmplY3QudXNlckRhdGEudmFyaWFudE1hdGVyaWFscyAmJlxuICAgICAgICAvLyBJcyB0aGlzIGxpbmUgY29zdGx5P1xuICAgICAgICAhIUFycmF5XG4gICAgICAgICAgICAuZnJvbShvYmplY3QudXNlckRhdGEudmFyaWFudE1hdGVyaWFsc1xuICAgICAgICAgICAgLnZhbHVlcygpKVxuICAgICAgICAgICAgLmZpbHRlcihtID0+IGNvbXBhdGlibGVNYXRlcmlhbChtLm1hdGVyaWFsKSk7XG59O1xuLyoqXG4gKiBAcGFyYW0gbWF0ZXJpYWwge1RIUkVFLk1hdGVyaWFsfVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgY29tcGF0aWJsZU1hdGVyaWFsID0gKG1hdGVyaWFsKSA9PiB7XG4gICAgLy8gQFRPRE86IHN1cHBvcnQgbXVsdGkgbWF0ZXJpYWxzP1xuICAgIHJldHVybiBtYXRlcmlhbCAmJiBtYXRlcmlhbC5pc01hdGVyaWFsICYmICFBcnJheS5pc0FycmF5KG1hdGVyaWFsKTtcbn07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHTFRGRXhwb3J0ZXJNYXRlcmlhbHNWYXJpYW50c0V4dGVuc2lvbiB7XG4gICAgY29uc3RydWN0b3Iod3JpdGVyKSB7XG4gICAgICAgIHRoaXMud3JpdGVyID0gd3JpdGVyO1xuICAgICAgICB0aGlzLm5hbWUgPSAnS0hSX21hdGVyaWFsc192YXJpYW50cyc7XG4gICAgICAgIHRoaXMudmFyaWFudE5hbWVzID0gW107XG4gICAgfVxuICAgIGJlZm9yZVBhcnNlKG9iamVjdHMpIHtcbiAgICAgICAgLy8gRmluZCBhbGwgdmFyaWFudCBuYW1lcyBhbmQgc3RvcmUgdGhlbSB0byB0aGUgdGFibGVcbiAgICAgICAgY29uc3QgdmFyaWFudE5hbWVTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0IG9mIG9iamVjdHMpIHtcbiAgICAgICAgICAgIG9iamVjdC50cmF2ZXJzZShvID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBhdGlibGVPYmplY3QobykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYW50TWF0ZXJpYWxzID0gby51c2VyRGF0YS52YXJpYW50TWF0ZXJpYWxzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhbnREYXRhTWFwID0gby51c2VyRGF0YS52YXJpYW50RGF0YTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFt2YXJpYW50TmFtZSwgdmFyaWFudERhdGFdIG9mIHZhcmlhbnREYXRhTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhbnRNYXRlcmlhbCA9IHZhcmlhbnRNYXRlcmlhbHMuZ2V0KHZhcmlhbnREYXRhLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHVubG9hZGVkIHZhcmlhbnQgbWF0ZXJpYWxzXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYW50TWF0ZXJpYWwgJiYgY29tcGF0aWJsZU1hdGVyaWFsKHZhcmlhbnRNYXRlcmlhbC5tYXRlcmlhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnROYW1lU2V0LmFkZCh2YXJpYW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBtYXkgd2FudCB0byBzb3J0P1xuICAgICAgICB2YXJpYW50TmFtZVNldC5mb3JFYWNoKG5hbWUgPT4gdGhpcy52YXJpYW50TmFtZXMucHVzaChuYW1lKSk7XG4gICAgfVxuICAgIHdyaXRlTWVzaChtZXNoLCBtZXNoRGVmKSB7XG4gICAgICAgIGlmICghY29tcGF0aWJsZU9iamVjdChtZXNoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gbWVzaC51c2VyRGF0YTtcbiAgICAgICAgY29uc3QgdmFyaWFudE1hdGVyaWFscyA9IHVzZXJEYXRhLnZhcmlhbnRNYXRlcmlhbHM7XG4gICAgICAgIGNvbnN0IHZhcmlhbnREYXRhTWFwID0gdXNlckRhdGEudmFyaWFudERhdGE7XG4gICAgICAgIGNvbnN0IG1hcHBpbmdUYWJsZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gUmVtb3ZlcyBnYXBzIGluIHRoZSB2YXJpYW50IGluZGljZXMgbGlzdCAoY2F1c2VkIGJ5IGRlbGV0aW5nIHZhcmlhbnRzKS5cbiAgICAgICAgY29uc3QgcmVJbmRleGVkVmFyaWFudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzID0gQXJyYXkuZnJvbSh2YXJpYW50RGF0YU1hcC52YWx1ZXMoKSkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCBbaSwgdmFyaWFudERhdGFdIG9mIHZhcmlhbnRzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgcmVJbmRleGVkVmFyaWFudHMuc2V0KHZhcmlhbnREYXRhLmluZGV4LCBpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnREYXRhIG9mIHZhcmlhbnREYXRhTWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YXJpYW50SW5zdGFuY2UgPSB2YXJpYW50TWF0ZXJpYWxzLmdldCh2YXJpYW50RGF0YS5pbmRleCk7XG4gICAgICAgICAgICBpZiAoIXZhcmlhbnRJbnN0YW5jZSB8fCAhY29tcGF0aWJsZU1hdGVyaWFsKHZhcmlhbnRJbnN0YW5jZS5tYXRlcmlhbCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hdGVyaWFsSW5kZXggPSB0aGlzLndyaXRlci5wcm9jZXNzTWF0ZXJpYWwodmFyaWFudEluc3RhbmNlLm1hdGVyaWFsKTtcbiAgICAgICAgICAgIGlmICghbWFwcGluZ1RhYmxlLmhhcyhtYXRlcmlhbEluZGV4KSkge1xuICAgICAgICAgICAgICAgIG1hcHBpbmdUYWJsZS5zZXQobWF0ZXJpYWxJbmRleCwgeyBtYXRlcmlhbDogbWF0ZXJpYWxJbmRleCwgdmFyaWFudHM6IFtdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwcGluZ1RhYmxlLmdldChtYXRlcmlhbEluZGV4KS52YXJpYW50cy5wdXNoKHJlSW5kZXhlZFZhcmlhbnRzLmdldCh2YXJpYW50RGF0YS5pbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hcHBpbmdzRGVmID0gQXJyYXkuZnJvbShtYXBwaW5nVGFibGUudmFsdWVzKCkpXG4gICAgICAgICAgICAubWFwKChtID0+IHsgcmV0dXJuIG0udmFyaWFudHMuc29ydCgoYSwgYikgPT4gYSAtIGIpICYmIG07IH0pKVxuICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubWF0ZXJpYWwgLSBiLm1hdGVyaWFsKTtcbiAgICAgICAgaWYgKG1hcHBpbmdzRGVmLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTWF0ZXJpYWxJbmRleCA9IGNvbXBhdGlibGVNYXRlcmlhbCh1c2VyRGF0YS5vcmlnaW5hbE1hdGVyaWFsKSA/XG4gICAgICAgICAgICB0aGlzLndyaXRlci5wcm9jZXNzTWF0ZXJpYWwodXNlckRhdGEub3JpZ2luYWxNYXRlcmlhbCkgOlxuICAgICAgICAgICAgLTE7XG4gICAgICAgIGZvciAoY29uc3QgcHJpbWl0aXZlRGVmIG9mIG1lc2hEZWYucHJpbWl0aXZlcykge1xuICAgICAgICAgICAgLy8gT3ZlcnJpZGUgcHJpbWl0aXZlRGVmLm1hdGVyaWFsIHdpdGggb3JpZ2luYWwgbWF0ZXJpYWwuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxNYXRlcmlhbEluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmVEZWYubWF0ZXJpYWwgPSBvcmlnaW5hbE1hdGVyaWFsSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucyA9IHByaW1pdGl2ZURlZi5leHRlbnNpb25zIHx8IHt9O1xuICAgICAgICAgICAgcHJpbWl0aXZlRGVmLmV4dGVuc2lvbnNbdGhpcy5uYW1lXSA9IHsgbWFwcGluZ3M6IG1hcHBpbmdzRGVmIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWZ0ZXJQYXJzZSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFyaWFudE5hbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvb3QgPSB0aGlzLndyaXRlci5qc29uO1xuICAgICAgICByb290LmV4dGVuc2lvbnMgPSByb290LmV4dGVuc2lvbnMgfHwge307XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzRGVmID0gdGhpcy52YXJpYW50TmFtZXMubWFwKG4gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogbiB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcm9vdC5leHRlbnNpb25zW3RoaXMubmFtZV0gPSB7IHZhcmlhbnRzOiB2YXJpYW50c0RlZiB9O1xuICAgICAgICB0aGlzLndyaXRlci5leHRlbnNpb25zVXNlZFt0aGlzLm5hbWVdID0gdHJ1ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WYXJpYW50TWF0ZXJpYWxFeHBvcnRlclBsdWdpbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialExporterPlugin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GLTFMaterialsVariantsExtension)\n/* harmony export */ });\n/* @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * KHR_materials_variants specification allows duplicated variant names\n * but it makes handling the extension complex.\n * We ensure tha names and make it easier.\n * If you want to export the extension with the original names\n * you are recommended to write GLTFExporter plugin to restore the names.\n *\n * @param variantNames {Array<string>}\n * @return {Array<string>}\n */\nconst ensureUniqueNames = (variantNames) => {\n    const uniqueNames = [];\n    const knownNames = new Set();\n    for (const name of variantNames) {\n        let uniqueName = name;\n        let suffix = 0;\n        // @TODO: An easy solution.\n        //        O(N^2) in the worst scenario where N is variantNames.length.\n        //        Fix me if needed.\n        while (knownNames.has(uniqueName)) {\n            uniqueName = name + '.' + (++suffix);\n        }\n        knownNames.add(uniqueName);\n        uniqueNames.push(uniqueName);\n    }\n    return uniqueNames;\n};\n/**\n * Convert mappings array to table object to make handling the extension easier.\n *\n * @param\n *     extensionDef {glTF.meshes[n].primitive.extensions.KHR_materials_variants}\n * @param variantNames {Array<string>} Required to be unique names\n * @return {Map}\n */\nconst mappingsArrayToTable = (extensionDef) => {\n    const table = new Map();\n    for (const mapping of extensionDef.mappings) {\n        for (const variant of mapping.variants) {\n            table.set(variant, { material: null, gltfMaterialIndex: mapping.material });\n        }\n    }\n    return table;\n};\nclass GLTFMaterialsVariantsExtension {\n    constructor(parser) {\n        this.parser = parser;\n        this.name = 'KHR_materials_variants';\n    }\n    // Note that the following properties will be overridden even if they are\n    // pre-defined\n    // - gltf.userData.variants\n    // - mesh.userData.variantMaterials\n    afterRoot(gltf) {\n        const parser = this.parser;\n        const json = parser.json;\n        if (json.extensions === undefined ||\n            json.extensions[this.name] === undefined) {\n            return null;\n        }\n        const extensionDef = json.extensions[this.name];\n        const variantsDef = extensionDef.variants || [];\n        const variants = ensureUniqueNames(variantsDef.map((v) => v.name));\n        for (const scene of gltf.scenes) {\n            // Save the variants data under associated mesh.userData\n            scene.traverse(object => {\n                const mesh = object;\n                if (!mesh.isMesh) {\n                    return;\n                }\n                const association = parser.associations.get(mesh);\n                if (association == null || association.meshes == null ||\n                    association.primitives == null) {\n                    return;\n                }\n                const meshDef = json.meshes[association.meshes];\n                const primitivesDef = meshDef.primitives;\n                const primitiveDef = primitivesDef[association.primitives];\n                const extensionsDef = primitiveDef.extensions;\n                if (!extensionsDef || !extensionsDef[this.name]) {\n                    return;\n                }\n                mesh.userData.variantMaterials =\n                    mappingsArrayToTable(extensionsDef[this.name]);\n            });\n        }\n        gltf.userData.variants = variants;\n        return Promise.resolve();\n    }\n}\n//# sourceMappingURL=VariantMaterialLoaderPlugin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9WYXJpYW50TWF0ZXJpYWxMb2FkZXJQbHVnaW4uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsd0JBQXdCLGVBQWU7QUFDdkMsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMscURBQXFEO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9nbHRmLWluc3RhbmNlL1ZhcmlhbnRNYXRlcmlhbExvYWRlclBsdWdpbi5qcz83MzYzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogS0hSX21hdGVyaWFsc192YXJpYW50cyBzcGVjaWZpY2F0aW9uIGFsbG93cyBkdXBsaWNhdGVkIHZhcmlhbnQgbmFtZXNcbiAqIGJ1dCBpdCBtYWtlcyBoYW5kbGluZyB0aGUgZXh0ZW5zaW9uIGNvbXBsZXguXG4gKiBXZSBlbnN1cmUgdGhhIG5hbWVzIGFuZCBtYWtlIGl0IGVhc2llci5cbiAqIElmIHlvdSB3YW50IHRvIGV4cG9ydCB0aGUgZXh0ZW5zaW9uIHdpdGggdGhlIG9yaWdpbmFsIG5hbWVzXG4gKiB5b3UgYXJlIHJlY29tbWVuZGVkIHRvIHdyaXRlIEdMVEZFeHBvcnRlciBwbHVnaW4gdG8gcmVzdG9yZSB0aGUgbmFtZXMuXG4gKlxuICogQHBhcmFtIHZhcmlhbnROYW1lcyB7QXJyYXk8c3RyaW5nPn1cbiAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59XG4gKi9cbmNvbnN0IGVuc3VyZVVuaXF1ZU5hbWVzID0gKHZhcmlhbnROYW1lcykgPT4ge1xuICAgIGNvbnN0IHVuaXF1ZU5hbWVzID0gW107XG4gICAgY29uc3Qga25vd25OYW1lcyA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdmFyaWFudE5hbWVzKSB7XG4gICAgICAgIGxldCB1bmlxdWVOYW1lID0gbmFtZTtcbiAgICAgICAgbGV0IHN1ZmZpeCA9IDA7XG4gICAgICAgIC8vIEBUT0RPOiBBbiBlYXN5IHNvbHV0aW9uLlxuICAgICAgICAvLyAgICAgICAgTyhOXjIpIGluIHRoZSB3b3JzdCBzY2VuYXJpbyB3aGVyZSBOIGlzIHZhcmlhbnROYW1lcy5sZW5ndGguXG4gICAgICAgIC8vICAgICAgICBGaXggbWUgaWYgbmVlZGVkLlxuICAgICAgICB3aGlsZSAoa25vd25OYW1lcy5oYXModW5pcXVlTmFtZSkpIHtcbiAgICAgICAgICAgIHVuaXF1ZU5hbWUgPSBuYW1lICsgJy4nICsgKCsrc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBrbm93bk5hbWVzLmFkZCh1bmlxdWVOYW1lKTtcbiAgICAgICAgdW5pcXVlTmFtZXMucHVzaCh1bmlxdWVOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuaXF1ZU5hbWVzO1xufTtcbi8qKlxuICogQ29udmVydCBtYXBwaW5ncyBhcnJheSB0byB0YWJsZSBvYmplY3QgdG8gbWFrZSBoYW5kbGluZyB0aGUgZXh0ZW5zaW9uIGVhc2llci5cbiAqXG4gKiBAcGFyYW1cbiAqICAgICBleHRlbnNpb25EZWYge2dsVEYubWVzaGVzW25dLnByaW1pdGl2ZS5leHRlbnNpb25zLktIUl9tYXRlcmlhbHNfdmFyaWFudHN9XG4gKiBAcGFyYW0gdmFyaWFudE5hbWVzIHtBcnJheTxzdHJpbmc+fSBSZXF1aXJlZCB0byBiZSB1bmlxdWUgbmFtZXNcbiAqIEByZXR1cm4ge01hcH1cbiAqL1xuY29uc3QgbWFwcGluZ3NBcnJheVRvVGFibGUgPSAoZXh0ZW5zaW9uRGVmKSA9PiB7XG4gICAgY29uc3QgdGFibGUgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBtYXBwaW5nIG9mIGV4dGVuc2lvbkRlZi5tYXBwaW5ncykge1xuICAgICAgICBmb3IgKGNvbnN0IHZhcmlhbnQgb2YgbWFwcGluZy52YXJpYW50cykge1xuICAgICAgICAgICAgdGFibGUuc2V0KHZhcmlhbnQsIHsgbWF0ZXJpYWw6IG51bGwsIGdsdGZNYXRlcmlhbEluZGV4OiBtYXBwaW5nLm1hdGVyaWFsIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YWJsZTtcbn07XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHTFRGTWF0ZXJpYWxzVmFyaWFudHNFeHRlbnNpb24ge1xuICAgIGNvbnN0cnVjdG9yKHBhcnNlcikge1xuICAgICAgICB0aGlzLnBhcnNlciA9IHBhcnNlcjtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0tIUl9tYXRlcmlhbHNfdmFyaWFudHMnO1xuICAgIH1cbiAgICAvLyBOb3RlIHRoYXQgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdpbGwgYmUgb3ZlcnJpZGRlbiBldmVuIGlmIHRoZXkgYXJlXG4gICAgLy8gcHJlLWRlZmluZWRcbiAgICAvLyAtIGdsdGYudXNlckRhdGEudmFyaWFudHNcbiAgICAvLyAtIG1lc2gudXNlckRhdGEudmFyaWFudE1hdGVyaWFsc1xuICAgIGFmdGVyUm9vdChnbHRmKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyO1xuICAgICAgICBjb25zdCBqc29uID0gcGFyc2VyLmpzb247XG4gICAgICAgIGlmIChqc29uLmV4dGVuc2lvbnMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAganNvbi5leHRlbnNpb25zW3RoaXMubmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0ZW5zaW9uRGVmID0ganNvbi5leHRlbnNpb25zW3RoaXMubmFtZV07XG4gICAgICAgIGNvbnN0IHZhcmlhbnRzRGVmID0gZXh0ZW5zaW9uRGVmLnZhcmlhbnRzIHx8IFtdO1xuICAgICAgICBjb25zdCB2YXJpYW50cyA9IGVuc3VyZVVuaXF1ZU5hbWVzKHZhcmlhbnRzRGVmLm1hcCgodikgPT4gdi5uYW1lKSk7XG4gICAgICAgIGZvciAoY29uc3Qgc2NlbmUgb2YgZ2x0Zi5zY2VuZXMpIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIHZhcmlhbnRzIGRhdGEgdW5kZXIgYXNzb2NpYXRlZCBtZXNoLnVzZXJEYXRhXG4gICAgICAgICAgICBzY2VuZS50cmF2ZXJzZShvYmplY3QgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc2ggPSBvYmplY3Q7XG4gICAgICAgICAgICAgICAgaWYgKCFtZXNoLmlzTWVzaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGFzc29jaWF0aW9uID0gcGFyc2VyLmFzc29jaWF0aW9ucy5nZXQobWVzaCk7XG4gICAgICAgICAgICAgICAgaWYgKGFzc29jaWF0aW9uID09IG51bGwgfHwgYXNzb2NpYXRpb24ubWVzaGVzID09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb24ucHJpbWl0aXZlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzaERlZiA9IGpzb24ubWVzaGVzW2Fzc29jaWF0aW9uLm1lc2hlc107XG4gICAgICAgICAgICAgICAgY29uc3QgcHJpbWl0aXZlc0RlZiA9IG1lc2hEZWYucHJpbWl0aXZlcztcbiAgICAgICAgICAgICAgICBjb25zdCBwcmltaXRpdmVEZWYgPSBwcmltaXRpdmVzRGVmW2Fzc29jaWF0aW9uLnByaW1pdGl2ZXNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnNEZWYgPSBwcmltaXRpdmVEZWYuZXh0ZW5zaW9ucztcbiAgICAgICAgICAgICAgICBpZiAoIWV4dGVuc2lvbnNEZWYgfHwgIWV4dGVuc2lvbnNEZWZbdGhpcy5uYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lc2gudXNlckRhdGEudmFyaWFudE1hdGVyaWFscyA9XG4gICAgICAgICAgICAgICAgICAgIG1hcHBpbmdzQXJyYXlUb1RhYmxlKGV4dGVuc2lvbnNEZWZbdGhpcy5uYW1lXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBnbHRmLnVzZXJEYXRhLnZhcmlhbnRzID0gdmFyaWFudHM7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1WYXJpYW50TWF0ZXJpYWxMb2FkZXJQbHVnaW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/VariantMaterialLoaderPlugin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CorrelatedSceneGraph: () => (/* binding */ CorrelatedSceneGraph)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n\nconst $threeGLTF = Symbol('threeGLTF');\nconst $gltf = Symbol('gltf');\nconst $gltfElementMap = Symbol('gltfElementMap');\nconst $threeObjectMap = Symbol('threeObjectMap');\nconst $parallelTraverseThreeScene = Symbol('parallelTraverseThreeScene');\nconst $correlateOriginalThreeGLTF = Symbol('correlateOriginalThreeGLTF');\nconst $correlateCloneThreeGLTF = Symbol('correlateCloneThreeGLTF');\n/**\n * The Three.js GLTFLoader provides us with an in-memory representation\n * of a glTF in terms of Three.js constructs. It also provides us with a copy\n * of the deserialized glTF without any Three.js decoration, and a mapping of\n * glTF elements to their corresponding Three.js constructs.\n *\n * A CorrelatedSceneGraph exposes a synchronously available mapping of glTF\n * element references to their corresponding Three.js constructs.\n */\nclass CorrelatedSceneGraph {\n    constructor(threeGLTF, gltf, threeObjectMap, gltfElementMap) {\n        this[$threeGLTF] = threeGLTF;\n        this[$gltf] = gltf;\n        this[$gltfElementMap] = gltfElementMap;\n        this[$threeObjectMap] = threeObjectMap;\n    }\n    /**\n     * Produce a CorrelatedSceneGraph from a naturally generated Three.js GLTF.\n     * Such GLTFs are produced by Three.js' GLTFLoader, and contain cached\n     * details that expedite the correlation step.\n     *\n     * If a CorrelatedSceneGraph is provided as the second argument, re-correlates\n     * a cloned Three.js GLTF with a clone of the glTF hierarchy used to produce\n     * the upstream Three.js GLTF that the clone was created from. The result\n     * CorrelatedSceneGraph is representative of the cloned hierarchy.\n     */\n    static from(threeGLTF, upstreamCorrelatedSceneGraph) {\n        if (upstreamCorrelatedSceneGraph != null) {\n            return this[$correlateCloneThreeGLTF](threeGLTF, upstreamCorrelatedSceneGraph);\n        }\n        else {\n            return this[$correlateOriginalThreeGLTF](threeGLTF);\n        }\n    }\n    static [$correlateOriginalThreeGLTF](threeGLTF) {\n        const gltf = threeGLTF.parser.json;\n        const associations = threeGLTF.parser.associations;\n        const gltfElementMap = new Map();\n        const defaultMaterial = { name: 'Default' };\n        const defaultReference = { type: 'materials', index: -1 };\n        for (const threeMaterial of associations.keys()) {\n            // Note: GLTFLoader creates a \"default\" material that has no\n            // corresponding glTF element in the case that no materials are\n            // specified in the source glTF. In this case we append a default\n            // material to allow this to be operated upon.\n            if (threeMaterial instanceof three__WEBPACK_IMPORTED_MODULE_0__.Material &&\n                associations.get(threeMaterial) == null) {\n                if (defaultReference.index < 0) {\n                    if (gltf.materials == null) {\n                        gltf.materials = [];\n                    }\n                    defaultReference.index = gltf.materials.length;\n                    gltf.materials.push(defaultMaterial);\n                }\n                threeMaterial.name = defaultMaterial.name;\n                associations.set(threeMaterial, { materials: defaultReference.index });\n            }\n        }\n        // Creates a reverse look up map (gltf-object to Three-object)\n        for (const [threeObject, gltfMappings] of associations) {\n            if (gltfMappings) {\n                const objWithUserData = threeObject;\n                objWithUserData.userData = objWithUserData.userData || {};\n                objWithUserData.userData.associations = gltfMappings;\n            }\n            for (const mapping in gltfMappings) {\n                if (mapping != null && mapping !== 'primitives') {\n                    const type = mapping;\n                    const elementArray = gltf[type] || [];\n                    const gltfElement = elementArray[gltfMappings[type]];\n                    if (gltfElement == null) {\n                        // TODO: Maybe throw here...\n                        continue;\n                    }\n                    let threeObjects = gltfElementMap.get(gltfElement);\n                    if (threeObjects == null) {\n                        threeObjects = new Set();\n                        gltfElementMap.set(gltfElement, threeObjects);\n                    }\n                    threeObjects.add(threeObject);\n                }\n            }\n        }\n        return new CorrelatedSceneGraph(threeGLTF, gltf, associations, gltfElementMap);\n    }\n    /**\n     * Transfers the association between a raw glTF and a Three.js scene graph\n     * to a clone of the Three.js scene graph, resolved as a new\n     * CorrelatedSceneGraph instance.\n     */\n    static [$correlateCloneThreeGLTF](cloneThreeGLTF, upstreamCorrelatedSceneGraph) {\n        const originalThreeGLTF = upstreamCorrelatedSceneGraph.threeGLTF;\n        const originalGLTF = upstreamCorrelatedSceneGraph.gltf;\n        const cloneGLTF = JSON.parse(JSON.stringify(originalGLTF));\n        const cloneThreeObjectMap = new Map();\n        const cloneGLTFElementMap = new Map();\n        for (let i = 0; i < originalThreeGLTF.scenes.length; i++) {\n            this[$parallelTraverseThreeScene](originalThreeGLTF.scenes[i], cloneThreeGLTF.scenes[i], (object, cloneObject) => {\n                const elementReference = upstreamCorrelatedSceneGraph.threeObjectMap.get(object);\n                if (elementReference == null) {\n                    return;\n                }\n                for (const mapping in elementReference) {\n                    if (mapping != null && mapping !== 'primitives') {\n                        const type = mapping;\n                        const index = elementReference[type];\n                        const cloneElement = cloneGLTF[type][index];\n                        const mappings = cloneThreeObjectMap.get(cloneObject) || {};\n                        mappings[type] = index;\n                        cloneThreeObjectMap.set(cloneObject, mappings);\n                        const cloneObjects = cloneGLTFElementMap.get(cloneElement) || new Set();\n                        cloneObjects.add(cloneObject);\n                        cloneGLTFElementMap.set(cloneElement, cloneObjects);\n                    }\n                }\n            });\n        }\n        return new CorrelatedSceneGraph(cloneThreeGLTF, cloneGLTF, cloneThreeObjectMap, cloneGLTFElementMap);\n    }\n    /**\n     * Traverses two presumably identical Three.js scenes, and invokes a\n     * callback for each Object3D or Material encountered, including the initial\n     * scene. Adapted from\n     * https://github.com/mrdoob/three.js/blob/7c1424c5819ab622a346dd630ee4e6431388021e/examples/jsm/utils/SkeletonUtils.js#L586-L596\n     */\n    static [$parallelTraverseThreeScene](sceneOne, sceneTwo, callback) {\n        const isMesh = (object) => {\n            return object.isMesh;\n        };\n        const traverse = (a, b) => {\n            callback(a, b);\n            if (a.isObject3D) {\n                if (isMesh(a)) {\n                    if (Array.isArray(a.material)) {\n                        for (let i = 0; i < a.material.length; ++i) {\n                            traverse(a.material[i], b.material[i]);\n                        }\n                    }\n                    else {\n                        traverse(a.material, b.material);\n                    }\n                }\n                for (let i = 0; i < a.children.length; ++i) {\n                    traverse(a.children[i], b.children[i]);\n                }\n            }\n        };\n        traverse(sceneOne, sceneTwo);\n    }\n    /**\n     * The source Three.js GLTF result given to us by a Three.js GLTFLoader.\n     */\n    get threeGLTF() {\n        return this[$threeGLTF];\n    }\n    /**\n     * The in-memory deserialized source glTF.\n     */\n    get gltf() {\n        return this[$gltf];\n    }\n    /**\n     * A Map of glTF element references to arrays of corresponding Three.js\n     * object references. Three.js objects are kept in arrays to account for\n     * cases where more than one Three.js object corresponds to a single glTF\n     * element.\n     */\n    get gltfElementMap() {\n        return this[$gltfElementMap];\n    }\n    /**\n     * A map of individual Three.js objects to corresponding elements in the\n     * source glTF.\n     */\n    get threeObjectMap() {\n        return this[$threeObjectMap];\n    }\n}\n//# sourceMappingURL=correlated-scene-graph.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9jb3JyZWxhdGVkLXNjZW5lLWdyYXBoLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywyQ0FBUTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsbUNBQW1DO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFDQUFxQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHVCQUF1QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdGhyZWUtY29tcG9uZW50cy9nbHRmLWluc3RhbmNlL2NvcnJlbGF0ZWQtc2NlbmUtZ3JhcGguanM/MGU5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gJ3RocmVlJztcbmNvbnN0ICR0aHJlZUdMVEYgPSBTeW1ib2woJ3RocmVlR0xURicpO1xuY29uc3QgJGdsdGYgPSBTeW1ib2woJ2dsdGYnKTtcbmNvbnN0ICRnbHRmRWxlbWVudE1hcCA9IFN5bWJvbCgnZ2x0ZkVsZW1lbnRNYXAnKTtcbmNvbnN0ICR0aHJlZU9iamVjdE1hcCA9IFN5bWJvbCgndGhyZWVPYmplY3RNYXAnKTtcbmNvbnN0ICRwYXJhbGxlbFRyYXZlcnNlVGhyZWVTY2VuZSA9IFN5bWJvbCgncGFyYWxsZWxUcmF2ZXJzZVRocmVlU2NlbmUnKTtcbmNvbnN0ICRjb3JyZWxhdGVPcmlnaW5hbFRocmVlR0xURiA9IFN5bWJvbCgnY29ycmVsYXRlT3JpZ2luYWxUaHJlZUdMVEYnKTtcbmNvbnN0ICRjb3JyZWxhdGVDbG9uZVRocmVlR0xURiA9IFN5bWJvbCgnY29ycmVsYXRlQ2xvbmVUaHJlZUdMVEYnKTtcbi8qKlxuICogVGhlIFRocmVlLmpzIEdMVEZMb2FkZXIgcHJvdmlkZXMgdXMgd2l0aCBhbiBpbi1tZW1vcnkgcmVwcmVzZW50YXRpb25cbiAqIG9mIGEgZ2xURiBpbiB0ZXJtcyBvZiBUaHJlZS5qcyBjb25zdHJ1Y3RzLiBJdCBhbHNvIHByb3ZpZGVzIHVzIHdpdGggYSBjb3B5XG4gKiBvZiB0aGUgZGVzZXJpYWxpemVkIGdsVEYgd2l0aG91dCBhbnkgVGhyZWUuanMgZGVjb3JhdGlvbiwgYW5kIGEgbWFwcGluZyBvZlxuICogZ2xURiBlbGVtZW50cyB0byB0aGVpciBjb3JyZXNwb25kaW5nIFRocmVlLmpzIGNvbnN0cnVjdHMuXG4gKlxuICogQSBDb3JyZWxhdGVkU2NlbmVHcmFwaCBleHBvc2VzIGEgc3luY2hyb25vdXNseSBhdmFpbGFibGUgbWFwcGluZyBvZiBnbFRGXG4gKiBlbGVtZW50IHJlZmVyZW5jZXMgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBUaHJlZS5qcyBjb25zdHJ1Y3RzLlxuICovXG5leHBvcnQgY2xhc3MgQ29ycmVsYXRlZFNjZW5lR3JhcGgge1xuICAgIGNvbnN0cnVjdG9yKHRocmVlR0xURiwgZ2x0ZiwgdGhyZWVPYmplY3RNYXAsIGdsdGZFbGVtZW50TWFwKSB7XG4gICAgICAgIHRoaXNbJHRocmVlR0xURl0gPSB0aHJlZUdMVEY7XG4gICAgICAgIHRoaXNbJGdsdGZdID0gZ2x0ZjtcbiAgICAgICAgdGhpc1skZ2x0ZkVsZW1lbnRNYXBdID0gZ2x0ZkVsZW1lbnRNYXA7XG4gICAgICAgIHRoaXNbJHRocmVlT2JqZWN0TWFwXSA9IHRocmVlT2JqZWN0TWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlIGEgQ29ycmVsYXRlZFNjZW5lR3JhcGggZnJvbSBhIG5hdHVyYWxseSBnZW5lcmF0ZWQgVGhyZWUuanMgR0xURi5cbiAgICAgKiBTdWNoIEdMVEZzIGFyZSBwcm9kdWNlZCBieSBUaHJlZS5qcycgR0xURkxvYWRlciwgYW5kIGNvbnRhaW4gY2FjaGVkXG4gICAgICogZGV0YWlscyB0aGF0IGV4cGVkaXRlIHRoZSBjb3JyZWxhdGlvbiBzdGVwLlxuICAgICAqXG4gICAgICogSWYgYSBDb3JyZWxhdGVkU2NlbmVHcmFwaCBpcyBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCByZS1jb3JyZWxhdGVzXG4gICAgICogYSBjbG9uZWQgVGhyZWUuanMgR0xURiB3aXRoIGEgY2xvbmUgb2YgdGhlIGdsVEYgaGllcmFyY2h5IHVzZWQgdG8gcHJvZHVjZVxuICAgICAqIHRoZSB1cHN0cmVhbSBUaHJlZS5qcyBHTFRGIHRoYXQgdGhlIGNsb25lIHdhcyBjcmVhdGVkIGZyb20uIFRoZSByZXN1bHRcbiAgICAgKiBDb3JyZWxhdGVkU2NlbmVHcmFwaCBpcyByZXByZXNlbnRhdGl2ZSBvZiB0aGUgY2xvbmVkIGhpZXJhcmNoeS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbSh0aHJlZUdMVEYsIHVwc3RyZWFtQ29ycmVsYXRlZFNjZW5lR3JhcGgpIHtcbiAgICAgICAgaWYgKHVwc3RyZWFtQ29ycmVsYXRlZFNjZW5lR3JhcGggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJGNvcnJlbGF0ZUNsb25lVGhyZWVHTFRGXSh0aHJlZUdMVEYsIHVwc3RyZWFtQ29ycmVsYXRlZFNjZW5lR3JhcGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbJGNvcnJlbGF0ZU9yaWdpbmFsVGhyZWVHTFRGXSh0aHJlZUdMVEYpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBbJGNvcnJlbGF0ZU9yaWdpbmFsVGhyZWVHTFRGXSh0aHJlZUdMVEYpIHtcbiAgICAgICAgY29uc3QgZ2x0ZiA9IHRocmVlR0xURi5wYXJzZXIuanNvbjtcbiAgICAgICAgY29uc3QgYXNzb2NpYXRpb25zID0gdGhyZWVHTFRGLnBhcnNlci5hc3NvY2lhdGlvbnM7XG4gICAgICAgIGNvbnN0IGdsdGZFbGVtZW50TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBkZWZhdWx0TWF0ZXJpYWwgPSB7IG5hbWU6ICdEZWZhdWx0JyB9O1xuICAgICAgICBjb25zdCBkZWZhdWx0UmVmZXJlbmNlID0geyB0eXBlOiAnbWF0ZXJpYWxzJywgaW5kZXg6IC0xIH07XG4gICAgICAgIGZvciAoY29uc3QgdGhyZWVNYXRlcmlhbCBvZiBhc3NvY2lhdGlvbnMua2V5cygpKSB7XG4gICAgICAgICAgICAvLyBOb3RlOiBHTFRGTG9hZGVyIGNyZWF0ZXMgYSBcImRlZmF1bHRcIiBtYXRlcmlhbCB0aGF0IGhhcyBub1xuICAgICAgICAgICAgLy8gY29ycmVzcG9uZGluZyBnbFRGIGVsZW1lbnQgaW4gdGhlIGNhc2UgdGhhdCBubyBtYXRlcmlhbHMgYXJlXG4gICAgICAgICAgICAvLyBzcGVjaWZpZWQgaW4gdGhlIHNvdXJjZSBnbFRGLiBJbiB0aGlzIGNhc2Ugd2UgYXBwZW5kIGEgZGVmYXVsdFxuICAgICAgICAgICAgLy8gbWF0ZXJpYWwgdG8gYWxsb3cgdGhpcyB0byBiZSBvcGVyYXRlZCB1cG9uLlxuICAgICAgICAgICAgaWYgKHRocmVlTWF0ZXJpYWwgaW5zdGFuY2VvZiBNYXRlcmlhbCAmJlxuICAgICAgICAgICAgICAgIGFzc29jaWF0aW9ucy5nZXQodGhyZWVNYXRlcmlhbCkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UmVmZXJlbmNlLmluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2x0Zi5tYXRlcmlhbHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2x0Zi5tYXRlcmlhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UmVmZXJlbmNlLmluZGV4ID0gZ2x0Zi5tYXRlcmlhbHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBnbHRmLm1hdGVyaWFscy5wdXNoKGRlZmF1bHRNYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocmVlTWF0ZXJpYWwubmFtZSA9IGRlZmF1bHRNYXRlcmlhbC5uYW1lO1xuICAgICAgICAgICAgICAgIGFzc29jaWF0aW9ucy5zZXQodGhyZWVNYXRlcmlhbCwgeyBtYXRlcmlhbHM6IGRlZmF1bHRSZWZlcmVuY2UuaW5kZXggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlcyBhIHJldmVyc2UgbG9vayB1cCBtYXAgKGdsdGYtb2JqZWN0IHRvIFRocmVlLW9iamVjdClcbiAgICAgICAgZm9yIChjb25zdCBbdGhyZWVPYmplY3QsIGdsdGZNYXBwaW5nc10gb2YgYXNzb2NpYXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoZ2x0Zk1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqV2l0aFVzZXJEYXRhID0gdGhyZWVPYmplY3Q7XG4gICAgICAgICAgICAgICAgb2JqV2l0aFVzZXJEYXRhLnVzZXJEYXRhID0gb2JqV2l0aFVzZXJEYXRhLnVzZXJEYXRhIHx8IHt9O1xuICAgICAgICAgICAgICAgIG9ialdpdGhVc2VyRGF0YS51c2VyRGF0YS5hc3NvY2lhdGlvbnMgPSBnbHRmTWFwcGluZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1hcHBpbmcgaW4gZ2x0Zk1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcHBpbmcgIT0gbnVsbCAmJiBtYXBwaW5nICE9PSAncHJpbWl0aXZlcycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IG1hcHBpbmc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBcnJheSA9IGdsdGZbdHlwZV0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsdGZFbGVtZW50ID0gZWxlbWVudEFycmF5W2dsdGZNYXBwaW5nc1t0eXBlXV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChnbHRmRWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYXliZSB0aHJvdyBoZXJlLi4uXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgdGhyZWVPYmplY3RzID0gZ2x0ZkVsZW1lbnRNYXAuZ2V0KGdsdGZFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRocmVlT2JqZWN0cyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlZU9iamVjdHMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbHRmRWxlbWVudE1hcC5zZXQoZ2x0ZkVsZW1lbnQsIHRocmVlT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyZWVPYmplY3RzLmFkZCh0aHJlZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ29ycmVsYXRlZFNjZW5lR3JhcGgodGhyZWVHTFRGLCBnbHRmLCBhc3NvY2lhdGlvbnMsIGdsdGZFbGVtZW50TWFwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmZXJzIHRoZSBhc3NvY2lhdGlvbiBiZXR3ZWVuIGEgcmF3IGdsVEYgYW5kIGEgVGhyZWUuanMgc2NlbmUgZ3JhcGhcbiAgICAgKiB0byBhIGNsb25lIG9mIHRoZSBUaHJlZS5qcyBzY2VuZSBncmFwaCwgcmVzb2x2ZWQgYXMgYSBuZXdcbiAgICAgKiBDb3JyZWxhdGVkU2NlbmVHcmFwaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgWyRjb3JyZWxhdGVDbG9uZVRocmVlR0xURl0oY2xvbmVUaHJlZUdMVEYsIHVwc3RyZWFtQ29ycmVsYXRlZFNjZW5lR3JhcGgpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUaHJlZUdMVEYgPSB1cHN0cmVhbUNvcnJlbGF0ZWRTY2VuZUdyYXBoLnRocmVlR0xURjtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxHTFRGID0gdXBzdHJlYW1Db3JyZWxhdGVkU2NlbmVHcmFwaC5nbHRmO1xuICAgICAgICBjb25zdCBjbG9uZUdMVEYgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9yaWdpbmFsR0xURikpO1xuICAgICAgICBjb25zdCBjbG9uZVRocmVlT2JqZWN0TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBjb25zdCBjbG9uZUdMVEZFbGVtZW50TWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yaWdpbmFsVGhyZWVHTFRGLnNjZW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpc1skcGFyYWxsZWxUcmF2ZXJzZVRocmVlU2NlbmVdKG9yaWdpbmFsVGhyZWVHTFRGLnNjZW5lc1tpXSwgY2xvbmVUaHJlZUdMVEYuc2NlbmVzW2ldLCAob2JqZWN0LCBjbG9uZU9iamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRSZWZlcmVuY2UgPSB1cHN0cmVhbUNvcnJlbGF0ZWRTY2VuZUdyYXBoLnRocmVlT2JqZWN0TWFwLmdldChvYmplY3QpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50UmVmZXJlbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG1hcHBpbmcgaW4gZWxlbWVudFJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWFwcGluZyAhPSBudWxsICYmIG1hcHBpbmcgIT09ICdwcmltaXRpdmVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IG1hcHBpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGVsZW1lbnRSZWZlcmVuY2VbdHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbG9uZUVsZW1lbnQgPSBjbG9uZUdMVEZbdHlwZV1baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFwcGluZ3MgPSBjbG9uZVRocmVlT2JqZWN0TWFwLmdldChjbG9uZU9iamVjdCkgfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nc1t0eXBlXSA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVUaHJlZU9iamVjdE1hcC5zZXQoY2xvbmVPYmplY3QsIG1hcHBpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lT2JqZWN0cyA9IGNsb25lR0xURkVsZW1lbnRNYXAuZ2V0KGNsb25lRWxlbWVudCkgfHwgbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVPYmplY3RzLmFkZChjbG9uZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZUdMVEZFbGVtZW50TWFwLnNldChjbG9uZUVsZW1lbnQsIGNsb25lT2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENvcnJlbGF0ZWRTY2VuZUdyYXBoKGNsb25lVGhyZWVHTFRGLCBjbG9uZUdMVEYsIGNsb25lVGhyZWVPYmplY3RNYXAsIGNsb25lR0xURkVsZW1lbnRNYXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmF2ZXJzZXMgdHdvIHByZXN1bWFibHkgaWRlbnRpY2FsIFRocmVlLmpzIHNjZW5lcywgYW5kIGludm9rZXMgYVxuICAgICAqIGNhbGxiYWNrIGZvciBlYWNoIE9iamVjdDNEIG9yIE1hdGVyaWFsIGVuY291bnRlcmVkLCBpbmNsdWRpbmcgdGhlIGluaXRpYWxcbiAgICAgKiBzY2VuZS4gQWRhcHRlZCBmcm9tXG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9ibG9iLzdjMTQyNGM1ODE5YWI2MjJhMzQ2ZGQ2MzBlZTRlNjQzMTM4ODAyMWUvZXhhbXBsZXMvanNtL3V0aWxzL1NrZWxldG9uVXRpbHMuanMjTDU4Ni1MNTk2XG4gICAgICovXG4gICAgc3RhdGljIFskcGFyYWxsZWxUcmF2ZXJzZVRocmVlU2NlbmVdKHNjZW5lT25lLCBzY2VuZVR3bywgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgaXNNZXNoID0gKG9iamVjdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5pc01lc2g7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHRyYXZlcnNlID0gKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGEsIGIpO1xuICAgICAgICAgICAgaWYgKGEuaXNPYmplY3QzRCkge1xuICAgICAgICAgICAgICAgIGlmIChpc01lc2goYSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYS5tYXRlcmlhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5tYXRlcmlhbC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlKGEubWF0ZXJpYWxbaV0sIGIubWF0ZXJpYWxbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhdmVyc2UoYS5tYXRlcmlhbCwgYi5tYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYXZlcnNlKGEuY2hpbGRyZW5baV0sIGIuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdHJhdmVyc2Uoc2NlbmVPbmUsIHNjZW5lVHdvKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNvdXJjZSBUaHJlZS5qcyBHTFRGIHJlc3VsdCBnaXZlbiB0byB1cyBieSBhIFRocmVlLmpzIEdMVEZMb2FkZXIuXG4gICAgICovXG4gICAgZ2V0IHRocmVlR0xURigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHRocmVlR0xURl07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBpbi1tZW1vcnkgZGVzZXJpYWxpemVkIHNvdXJjZSBnbFRGLlxuICAgICAqL1xuICAgIGdldCBnbHRmKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skZ2x0Zl07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgTWFwIG9mIGdsVEYgZWxlbWVudCByZWZlcmVuY2VzIHRvIGFycmF5cyBvZiBjb3JyZXNwb25kaW5nIFRocmVlLmpzXG4gICAgICogb2JqZWN0IHJlZmVyZW5jZXMuIFRocmVlLmpzIG9iamVjdHMgYXJlIGtlcHQgaW4gYXJyYXlzIHRvIGFjY291bnQgZm9yXG4gICAgICogY2FzZXMgd2hlcmUgbW9yZSB0aGFuIG9uZSBUaHJlZS5qcyBvYmplY3QgY29ycmVzcG9uZHMgdG8gYSBzaW5nbGUgZ2xURlxuICAgICAqIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0IGdsdGZFbGVtZW50TWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skZ2x0ZkVsZW1lbnRNYXBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiBpbmRpdmlkdWFsIFRocmVlLmpzIG9iamVjdHMgdG8gY29ycmVzcG9uZGluZyBlbGVtZW50cyBpbiB0aGVcbiAgICAgKiBzb3VyY2UgZ2xURi5cbiAgICAgKi9cbiAgICBnZXQgdGhyZWVPYmplY3RNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzWyR0aHJlZU9iamVjdE1hcF07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29ycmVsYXRlZC1zY2VuZS1ncmFwaC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/correlated-scene-graph.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Filter: () => (/* binding */ Filter),\n/* harmony export */   Wrap: () => (/* binding */ Wrap)\n/* harmony export */ });\nvar Filter;\n(function (Filter) {\n    Filter[Filter[\"Nearest\"] = 9728] = \"Nearest\";\n    Filter[Filter[\"Linear\"] = 9729] = \"Linear\";\n    Filter[Filter[\"NearestMipmapNearest\"] = 9984] = \"NearestMipmapNearest\";\n    Filter[Filter[\"LinearMipmapNearest\"] = 9985] = \"LinearMipmapNearest\";\n    Filter[Filter[\"NearestMipmapLinear\"] = 9986] = \"NearestMipmapLinear\";\n    Filter[Filter[\"LinearMipmapLinear\"] = 9987] = \"LinearMipmapLinear\";\n})(Filter || (Filter = {}));\nvar Wrap;\n(function (Wrap) {\n    Wrap[Wrap[\"ClampToEdge\"] = 33071] = \"ClampToEdge\";\n    Wrap[Wrap[\"MirroredRepeat\"] = 33648] = \"MirroredRepeat\";\n    Wrap[Wrap[\"Repeat\"] = 10497] = \"Repeat\";\n})(Wrap || (Wrap = {}));\n//# sourceMappingURL=gltf-2.0.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3RocmVlLWNvbXBvbmVudHMvZ2x0Zi1pbnN0YW5jZS9nbHRmLTIuMC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QjtBQUNsQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQkFBb0I7QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi90aHJlZS1jb21wb25lbnRzL2dsdGYtaW5zdGFuY2UvZ2x0Zi0yLjAuanM/Zjk1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIEZpbHRlcjtcbihmdW5jdGlvbiAoRmlsdGVyKSB7XG4gICAgRmlsdGVyW0ZpbHRlcltcIk5lYXJlc3RcIl0gPSA5NzI4XSA9IFwiTmVhcmVzdFwiO1xuICAgIEZpbHRlcltGaWx0ZXJbXCJMaW5lYXJcIl0gPSA5NzI5XSA9IFwiTGluZWFyXCI7XG4gICAgRmlsdGVyW0ZpbHRlcltcIk5lYXJlc3RNaXBtYXBOZWFyZXN0XCJdID0gOTk4NF0gPSBcIk5lYXJlc3RNaXBtYXBOZWFyZXN0XCI7XG4gICAgRmlsdGVyW0ZpbHRlcltcIkxpbmVhck1pcG1hcE5lYXJlc3RcIl0gPSA5OTg1XSA9IFwiTGluZWFyTWlwbWFwTmVhcmVzdFwiO1xuICAgIEZpbHRlcltGaWx0ZXJbXCJOZWFyZXN0TWlwbWFwTGluZWFyXCJdID0gOTk4Nl0gPSBcIk5lYXJlc3RNaXBtYXBMaW5lYXJcIjtcbiAgICBGaWx0ZXJbRmlsdGVyW1wiTGluZWFyTWlwbWFwTGluZWFyXCJdID0gOTk4N10gPSBcIkxpbmVhck1pcG1hcExpbmVhclwiO1xufSkoRmlsdGVyIHx8IChGaWx0ZXIgPSB7fSkpO1xuZXhwb3J0IHZhciBXcmFwO1xuKGZ1bmN0aW9uIChXcmFwKSB7XG4gICAgV3JhcFtXcmFwW1wiQ2xhbXBUb0VkZ2VcIl0gPSAzMzA3MV0gPSBcIkNsYW1wVG9FZGdlXCI7XG4gICAgV3JhcFtXcmFwW1wiTWlycm9yZWRSZXBlYXRcIl0gPSAzMzY0OF0gPSBcIk1pcnJvcmVkUmVwZWF0XCI7XG4gICAgV3JhcFtXcmFwW1wiUmVwZWF0XCJdID0gMTA0OTddID0gXCJSZXBlYXRcIjtcbn0pKFdyYXAgfHwgKFdyYXAgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2x0Zi0yLjAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/three-components/gltf-instance/gltf-2.0.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities.js":
/*!************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CAPPED_DEVICE_PIXEL_RATIO: () => (/* binding */ CAPPED_DEVICE_PIXEL_RATIO),\n/* harmony export */   assertIsArCandidate: () => (/* binding */ assertIsArCandidate),\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   deserializeUrl: () => (/* binding */ deserializeUrl),\n/* harmony export */   getFirstMapKey: () => (/* binding */ getFirstMapKey),\n/* harmony export */   isDebugMode: () => (/* binding */ isDebugMode),\n/* harmony export */   resolveDpr: () => (/* binding */ resolveDpr),\n/* harmony export */   step: () => (/* binding */ step),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   timePasses: () => (/* binding */ timePasses),\n/* harmony export */   toFullUrl: () => (/* binding */ toFullUrl),\n/* harmony export */   waitForEvent: () => (/* binding */ waitForEvent)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/constants.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst deserializeUrl = (url) => (!!url && url !== 'null') ? toFullUrl(url) : null;\nconst assertIsArCandidate = () => {\n    if (_constants_js__WEBPACK_IMPORTED_MODULE_0__.IS_WEBXR_AR_CANDIDATE) {\n        return;\n    }\n    const missingApis = [];\n    if (!_constants_js__WEBPACK_IMPORTED_MODULE_0__.HAS_WEBXR_DEVICE_API) {\n        missingApis.push('WebXR Device API');\n    }\n    if (!_constants_js__WEBPACK_IMPORTED_MODULE_0__.HAS_WEBXR_HIT_TEST_API) {\n        missingApis.push('WebXR Hit Test API');\n    }\n    throw new Error(`The following APIs are required for AR, but are missing in this browser: ${missingApis.join(', ')}`);\n};\n/**\n * Converts a partial URL string to a fully qualified URL string.\n *\n * @param {String} url\n * @return {String}\n */\nconst toFullUrl = (partialUrl) => {\n    const url = new URL(partialUrl, window.location.toString());\n    return url.toString();\n};\n/**\n * Returns a throttled version of a given function that is only invoked at most\n * once within a given threshold of time in milliseconds.\n *\n * The throttled version of the function has a \"flush\" property that resets the\n * threshold for cases when immediate invocation is desired.\n */\nconst throttle = (fn, ms) => {\n    let timer = null;\n    const throttled = (...args) => {\n        if (timer != null) {\n            return;\n        }\n        fn(...args);\n        timer = self.setTimeout(() => timer = null, ms);\n    };\n    throttled.flush = () => {\n        if (timer != null) {\n            self.clearTimeout(timer);\n            timer = null;\n        }\n    };\n    return throttled;\n};\nconst debounce = (fn, ms) => {\n    let timer = null;\n    return (...args) => {\n        if (timer != null) {\n            self.clearTimeout(timer);\n        }\n        timer = self.setTimeout(() => {\n            timer = null;\n            fn(...args);\n        }, ms);\n    };\n};\n/**\n * @param {Number} edge\n * @param {Number} value\n * @return {Number} 0 if value is less than edge, otherwise 1\n */\nconst step = (edge, value) => {\n    return value < edge ? 0 : 1;\n};\n/**\n * @param {Number} value\n * @param {Number} lowerLimit\n * @param {Number} upperLimit\n * @return {Number} value clamped within lowerLimit..upperLimit\n */\nconst clamp = (value, lowerLimit, upperLimit) => Math.max(lowerLimit, Math.min(upperLimit, value));\n// The DPR we use for a \"capped\" scenario (see resolveDpr below):\nconst CAPPED_DEVICE_PIXEL_RATIO = 1;\n/**\n * This helper analyzes the layout of the current page to decide if we should\n * use the natural device pixel ratio, or a capped value.\n *\n * We cap DPR if there is no meta viewport (suggesting that user is not\n * consciously specifying how to scale the viewport relative to the device\n * screen size).\n *\n * The rationale is that this condition typically leads to a pathological\n * outcome on mobile devices. When the window dimensions are scaled up on a\n * device with a high DPR, we create a canvas that is much larger than\n * appropriate to accommodate for the pixel density if we naively use the\n * reported DPR.\n *\n * This value needs to be measured in real time, as device pixel ratio can\n * change over time (e.g., when a user zooms the page). Also, in some cases\n * (such as Firefox on Android), the window's innerWidth is initially reported\n * as the same as the screen's availWidth but changes later.\n *\n * A user who specifies a meta viewport, thereby consciously creating scaling\n * conditions where <model-viewer> is slow, will be encouraged to live their\n * best life.\n */\nconst resolveDpr = (() => {\n    // If true, implies that the user is conscious of the viewport scaling\n    // relative to the device screen size.\n    const HAS_META_VIEWPORT_TAG = (() => {\n        var _a;\n        // Search result pages sometimes do not include a meta viewport tag even\n        // though they are certainly modern and work properly with devicePixelRatio.\n        if ((_a = document.documentElement.getAttribute('itemtype')) === null || _a === void 0 ? void 0 : _a.includes('schema.org/SearchResultsPage')) {\n            return true;\n        }\n        const metas = document.head != null ?\n            Array.from(document.head.querySelectorAll('meta')) :\n            [];\n        for (const meta of metas) {\n            if (meta.name === 'viewport') {\n                return true;\n            }\n        }\n        return false;\n    })();\n    if (!HAS_META_VIEWPORT_TAG) {\n        console.warn('No <meta name=\"viewport\"> detected; <model-viewer> will cap pixel density at 1.');\n    }\n    return () => HAS_META_VIEWPORT_TAG ? window.devicePixelRatio :\n        CAPPED_DEVICE_PIXEL_RATIO;\n})();\n/**\n * Debug mode is enabled when one of the two following conditions is true:\n *\n *  1. A 'model-viewer-debug-mode' query parameter is present in the current\n *     search string\n *  2. There is a global object ModelViewerElement with a debugMode property set\n *     to true\n */\nconst isDebugMode = (() => {\n    const debugQueryParameterName = 'model-viewer-debug-mode';\n    const debugQueryParameter = new RegExp(`[?&]${debugQueryParameterName}(&|$)`);\n    return () => (self.ModelViewerElement &&\n        self.ModelViewerElement.debugMode) ||\n        (self.location && self.location.search &&\n            self.location.search.match(debugQueryParameter));\n})();\n/**\n * Returns the first key in a Map in iteration order.\n *\n * NOTE(cdata): This is necessary because IE11 does not implement iterator\n * methods of Map, and polymer-build does not polyfill these methods for\n * compatibility and performance reasons. This helper proposes that it is\n * a reasonable compromise to sacrifice a very small amount of runtime\n * performance in IE11 for the sake of code clarity.\n */\nconst getFirstMapKey = (map) => {\n    if (map.keys != null) {\n        return map.keys().next().value || null;\n    }\n    let firstKey = null;\n    try {\n        map.forEach((_value, key, _map) => {\n            firstKey = key;\n            // Stop iterating the Map with forEach:\n            throw new Error();\n        });\n    }\n    catch (_error) {\n    }\n    return firstKey;\n};\nconst timePasses = (ms = 0) => new Promise(resolve => setTimeout(resolve, ms));\n/**\n * @param {EventTarget|EventDispatcher} target\n * @param {string} eventName\n * @param {?Function} predicate\n */\nconst waitForEvent = (target, eventName, predicate = null) => new Promise(resolve => {\n    function handler(event) {\n        if (!predicate || predicate(event)) {\n            resolve(event);\n            target.removeEventListener(eventName, handler);\n        }\n    }\n    target.addEventListener(eventName, handler);\n});\n//# sourceMappingURL=utilities.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDcUc7QUFDOUY7QUFDQTtBQUNQLFFBQVEsZ0VBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0RBQW9CO0FBQzdCO0FBQ0E7QUFDQSxTQUFTLGlFQUFzQjtBQUMvQjtBQUNBO0FBQ0EsZ0dBQWdHLHVCQUF1QjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ087QUFDUDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGtEQUFrRCx3QkFBd0I7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxXQUFXLDZCQUE2QjtBQUN4QyxXQUFXLFFBQVE7QUFDbkIsV0FBVyxXQUFXO0FBQ3RCO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NyeXB0by1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy5qcz8xNzk2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IEhBU19XRUJYUl9ERVZJQ0VfQVBJLCBIQVNfV0VCWFJfSElUX1RFU1RfQVBJLCBJU19XRUJYUl9BUl9DQU5ESURBVEUgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5leHBvcnQgY29uc3QgZGVzZXJpYWxpemVVcmwgPSAodXJsKSA9PiAoISF1cmwgJiYgdXJsICE9PSAnbnVsbCcpID8gdG9GdWxsVXJsKHVybCkgOiBudWxsO1xuZXhwb3J0IGNvbnN0IGFzc2VydElzQXJDYW5kaWRhdGUgPSAoKSA9PiB7XG4gICAgaWYgKElTX1dFQlhSX0FSX0NBTkRJREFURSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1pc3NpbmdBcGlzID0gW107XG4gICAgaWYgKCFIQVNfV0VCWFJfREVWSUNFX0FQSSkge1xuICAgICAgICBtaXNzaW5nQXBpcy5wdXNoKCdXZWJYUiBEZXZpY2UgQVBJJyk7XG4gICAgfVxuICAgIGlmICghSEFTX1dFQlhSX0hJVF9URVNUX0FQSSkge1xuICAgICAgICBtaXNzaW5nQXBpcy5wdXNoKCdXZWJYUiBIaXQgVGVzdCBBUEknKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgZm9sbG93aW5nIEFQSXMgYXJlIHJlcXVpcmVkIGZvciBBUiwgYnV0IGFyZSBtaXNzaW5nIGluIHRoaXMgYnJvd3NlcjogJHttaXNzaW5nQXBpcy5qb2luKCcsICcpfWApO1xufTtcbi8qKlxuICogQ29udmVydHMgYSBwYXJ0aWFsIFVSTCBzdHJpbmcgdG8gYSBmdWxseSBxdWFsaWZpZWQgVVJMIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCB0b0Z1bGxVcmwgPSAocGFydGlhbFVybCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocGFydGlhbFVybCwgd2luZG93LmxvY2F0aW9uLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiB1cmwudG9TdHJpbmcoKTtcbn07XG4vKipcbiAqIFJldHVybnMgYSB0aHJvdHRsZWQgdmVyc2lvbiBvZiBhIGdpdmVuIGZ1bmN0aW9uIHRoYXQgaXMgb25seSBpbnZva2VkIGF0IG1vc3RcbiAqIG9uY2Ugd2l0aGluIGEgZ2l2ZW4gdGhyZXNob2xkIG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIFRoZSB0aHJvdHRsZWQgdmVyc2lvbiBvZiB0aGUgZnVuY3Rpb24gaGFzIGEgXCJmbHVzaFwiIHByb3BlcnR5IHRoYXQgcmVzZXRzIHRoZVxuICogdGhyZXNob2xkIGZvciBjYXNlcyB3aGVuIGltbWVkaWF0ZSBpbnZvY2F0aW9uIGlzIGRlc2lyZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB0aHJvdHRsZSA9IChmbiwgbXMpID0+IHtcbiAgICBsZXQgdGltZXIgPSBudWxsO1xuICAgIGNvbnN0IHRocm90dGxlZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmICh0aW1lciAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm4oLi4uYXJncyk7XG4gICAgICAgIHRpbWVyID0gc2VsZi5zZXRUaW1lb3V0KCgpID0+IHRpbWVyID0gbnVsbCwgbXMpO1xuICAgIH07XG4gICAgdGhyb3R0bGVkLmZsdXNoID0gKCkgPT4ge1xuICAgICAgICBpZiAodGltZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5jbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gdGhyb3R0bGVkO1xufTtcbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IChmbiwgbXMpID0+IHtcbiAgICBsZXQgdGltZXIgPSBudWxsO1xuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAodGltZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2VsZi5jbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVyID0gc2VsZi5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIGZuKC4uLmFyZ3MpO1xuICAgICAgICB9LCBtcyk7XG4gICAgfTtcbn07XG4vKipcbiAqIEBwYXJhbSB7TnVtYmVyfSBlZGdlXG4gKiBAcGFyYW0ge051bWJlcn0gdmFsdWVcbiAqIEByZXR1cm4ge051bWJlcn0gMCBpZiB2YWx1ZSBpcyBsZXNzIHRoYW4gZWRnZSwgb3RoZXJ3aXNlIDFcbiAqL1xuZXhwb3J0IGNvbnN0IHN0ZXAgPSAoZWRnZSwgdmFsdWUpID0+IHtcbiAgICByZXR1cm4gdmFsdWUgPCBlZGdlID8gMCA6IDE7XG59O1xuLyoqXG4gKiBAcGFyYW0ge051bWJlcn0gdmFsdWVcbiAqIEBwYXJhbSB7TnVtYmVyfSBsb3dlckxpbWl0XG4gKiBAcGFyYW0ge051bWJlcn0gdXBwZXJMaW1pdFxuICogQHJldHVybiB7TnVtYmVyfSB2YWx1ZSBjbGFtcGVkIHdpdGhpbiBsb3dlckxpbWl0Li51cHBlckxpbWl0XG4gKi9cbmV4cG9ydCBjb25zdCBjbGFtcCA9ICh2YWx1ZSwgbG93ZXJMaW1pdCwgdXBwZXJMaW1pdCkgPT4gTWF0aC5tYXgobG93ZXJMaW1pdCwgTWF0aC5taW4odXBwZXJMaW1pdCwgdmFsdWUpKTtcbi8vIFRoZSBEUFIgd2UgdXNlIGZvciBhIFwiY2FwcGVkXCIgc2NlbmFyaW8gKHNlZSByZXNvbHZlRHByIGJlbG93KTpcbmV4cG9ydCBjb25zdCBDQVBQRURfREVWSUNFX1BJWEVMX1JBVElPID0gMTtcbi8qKlxuICogVGhpcyBoZWxwZXIgYW5hbHl6ZXMgdGhlIGxheW91dCBvZiB0aGUgY3VycmVudCBwYWdlIHRvIGRlY2lkZSBpZiB3ZSBzaG91bGRcbiAqIHVzZSB0aGUgbmF0dXJhbCBkZXZpY2UgcGl4ZWwgcmF0aW8sIG9yIGEgY2FwcGVkIHZhbHVlLlxuICpcbiAqIFdlIGNhcCBEUFIgaWYgdGhlcmUgaXMgbm8gbWV0YSB2aWV3cG9ydCAoc3VnZ2VzdGluZyB0aGF0IHVzZXIgaXMgbm90XG4gKiBjb25zY2lvdXNseSBzcGVjaWZ5aW5nIGhvdyB0byBzY2FsZSB0aGUgdmlld3BvcnQgcmVsYXRpdmUgdG8gdGhlIGRldmljZVxuICogc2NyZWVuIHNpemUpLlxuICpcbiAqIFRoZSByYXRpb25hbGUgaXMgdGhhdCB0aGlzIGNvbmRpdGlvbiB0eXBpY2FsbHkgbGVhZHMgdG8gYSBwYXRob2xvZ2ljYWxcbiAqIG91dGNvbWUgb24gbW9iaWxlIGRldmljZXMuIFdoZW4gdGhlIHdpbmRvdyBkaW1lbnNpb25zIGFyZSBzY2FsZWQgdXAgb24gYVxuICogZGV2aWNlIHdpdGggYSBoaWdoIERQUiwgd2UgY3JlYXRlIGEgY2FudmFzIHRoYXQgaXMgbXVjaCBsYXJnZXIgdGhhblxuICogYXBwcm9wcmlhdGUgdG8gYWNjb21tb2RhdGUgZm9yIHRoZSBwaXhlbCBkZW5zaXR5IGlmIHdlIG5haXZlbHkgdXNlIHRoZVxuICogcmVwb3J0ZWQgRFBSLlxuICpcbiAqIFRoaXMgdmFsdWUgbmVlZHMgdG8gYmUgbWVhc3VyZWQgaW4gcmVhbCB0aW1lLCBhcyBkZXZpY2UgcGl4ZWwgcmF0aW8gY2FuXG4gKiBjaGFuZ2Ugb3ZlciB0aW1lIChlLmcuLCB3aGVuIGEgdXNlciB6b29tcyB0aGUgcGFnZSkuIEFsc28sIGluIHNvbWUgY2FzZXNcbiAqIChzdWNoIGFzIEZpcmVmb3ggb24gQW5kcm9pZCksIHRoZSB3aW5kb3cncyBpbm5lcldpZHRoIGlzIGluaXRpYWxseSByZXBvcnRlZFxuICogYXMgdGhlIHNhbWUgYXMgdGhlIHNjcmVlbidzIGF2YWlsV2lkdGggYnV0IGNoYW5nZXMgbGF0ZXIuXG4gKlxuICogQSB1c2VyIHdobyBzcGVjaWZpZXMgYSBtZXRhIHZpZXdwb3J0LCB0aGVyZWJ5IGNvbnNjaW91c2x5IGNyZWF0aW5nIHNjYWxpbmdcbiAqIGNvbmRpdGlvbnMgd2hlcmUgPG1vZGVsLXZpZXdlcj4gaXMgc2xvdywgd2lsbCBiZSBlbmNvdXJhZ2VkIHRvIGxpdmUgdGhlaXJcbiAqIGJlc3QgbGlmZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlc29sdmVEcHIgPSAoKCkgPT4ge1xuICAgIC8vIElmIHRydWUsIGltcGxpZXMgdGhhdCB0aGUgdXNlciBpcyBjb25zY2lvdXMgb2YgdGhlIHZpZXdwb3J0IHNjYWxpbmdcbiAgICAvLyByZWxhdGl2ZSB0byB0aGUgZGV2aWNlIHNjcmVlbiBzaXplLlxuICAgIGNvbnN0IEhBU19NRVRBX1ZJRVdQT1JUX1RBRyA9ICgoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gU2VhcmNoIHJlc3VsdCBwYWdlcyBzb21ldGltZXMgZG8gbm90IGluY2x1ZGUgYSBtZXRhIHZpZXdwb3J0IHRhZyBldmVuXG4gICAgICAgIC8vIHRob3VnaCB0aGV5IGFyZSBjZXJ0YWlubHkgbW9kZXJuIGFuZCB3b3JrIHByb3Blcmx5IHdpdGggZGV2aWNlUGl4ZWxSYXRpby5cbiAgICAgICAgaWYgKChfYSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2l0ZW10eXBlJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcygnc2NoZW1hLm9yZy9TZWFyY2hSZXN1bHRzUGFnZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhcyA9IGRvY3VtZW50LmhlYWQgIT0gbnVsbCA/XG4gICAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvckFsbCgnbWV0YScpKSA6XG4gICAgICAgICAgICBbXTtcbiAgICAgICAgZm9yIChjb25zdCBtZXRhIG9mIG1ldGFzKSB7XG4gICAgICAgICAgICBpZiAobWV0YS5uYW1lID09PSAndmlld3BvcnQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pKCk7XG4gICAgaWYgKCFIQVNfTUVUQV9WSUVXUE9SVF9UQUcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdObyA8bWV0YSBuYW1lPVwidmlld3BvcnRcIj4gZGV0ZWN0ZWQ7IDxtb2RlbC12aWV3ZXI+IHdpbGwgY2FwIHBpeGVsIGRlbnNpdHkgYXQgMS4nKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IEhBU19NRVRBX1ZJRVdQT1JUX1RBRyA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDpcbiAgICAgICAgQ0FQUEVEX0RFVklDRV9QSVhFTF9SQVRJTztcbn0pKCk7XG4vKipcbiAqIERlYnVnIG1vZGUgaXMgZW5hYmxlZCB3aGVuIG9uZSBvZiB0aGUgdHdvIGZvbGxvd2luZyBjb25kaXRpb25zIGlzIHRydWU6XG4gKlxuICogIDEuIEEgJ21vZGVsLXZpZXdlci1kZWJ1Zy1tb2RlJyBxdWVyeSBwYXJhbWV0ZXIgaXMgcHJlc2VudCBpbiB0aGUgY3VycmVudFxuICogICAgIHNlYXJjaCBzdHJpbmdcbiAqICAyLiBUaGVyZSBpcyBhIGdsb2JhbCBvYmplY3QgTW9kZWxWaWV3ZXJFbGVtZW50IHdpdGggYSBkZWJ1Z01vZGUgcHJvcGVydHkgc2V0XG4gKiAgICAgdG8gdHJ1ZVxuICovXG5leHBvcnQgY29uc3QgaXNEZWJ1Z01vZGUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGRlYnVnUXVlcnlQYXJhbWV0ZXJOYW1lID0gJ21vZGVsLXZpZXdlci1kZWJ1Zy1tb2RlJztcbiAgICBjb25zdCBkZWJ1Z1F1ZXJ5UGFyYW1ldGVyID0gbmV3IFJlZ0V4cChgWz8mXSR7ZGVidWdRdWVyeVBhcmFtZXRlck5hbWV9KCZ8JClgKTtcbiAgICByZXR1cm4gKCkgPT4gKHNlbGYuTW9kZWxWaWV3ZXJFbGVtZW50ICYmXG4gICAgICAgIHNlbGYuTW9kZWxWaWV3ZXJFbGVtZW50LmRlYnVnTW9kZSkgfHxcbiAgICAgICAgKHNlbGYubG9jYXRpb24gJiYgc2VsZi5sb2NhdGlvbi5zZWFyY2ggJiZcbiAgICAgICAgICAgIHNlbGYubG9jYXRpb24uc2VhcmNoLm1hdGNoKGRlYnVnUXVlcnlQYXJhbWV0ZXIpKTtcbn0pKCk7XG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGtleSBpbiBhIE1hcCBpbiBpdGVyYXRpb24gb3JkZXIuXG4gKlxuICogTk9URShjZGF0YSk6IFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgSUUxMSBkb2VzIG5vdCBpbXBsZW1lbnQgaXRlcmF0b3JcbiAqIG1ldGhvZHMgb2YgTWFwLCBhbmQgcG9seW1lci1idWlsZCBkb2VzIG5vdCBwb2x5ZmlsbCB0aGVzZSBtZXRob2RzIGZvclxuICogY29tcGF0aWJpbGl0eSBhbmQgcGVyZm9ybWFuY2UgcmVhc29ucy4gVGhpcyBoZWxwZXIgcHJvcG9zZXMgdGhhdCBpdCBpc1xuICogYSByZWFzb25hYmxlIGNvbXByb21pc2UgdG8gc2FjcmlmaWNlIGEgdmVyeSBzbWFsbCBhbW91bnQgb2YgcnVudGltZVxuICogcGVyZm9ybWFuY2UgaW4gSUUxMSBmb3IgdGhlIHNha2Ugb2YgY29kZSBjbGFyaXR5LlxuICovXG5leHBvcnQgY29uc3QgZ2V0Rmlyc3RNYXBLZXkgPSAobWFwKSA9PiB7XG4gICAgaWYgKG1hcC5rZXlzICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG1hcC5rZXlzKCkubmV4dCgpLnZhbHVlIHx8IG51bGw7XG4gICAgfVxuICAgIGxldCBmaXJzdEtleSA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgICAgbWFwLmZvckVhY2goKF92YWx1ZSwga2V5LCBfbWFwKSA9PiB7XG4gICAgICAgICAgICBmaXJzdEtleSA9IGtleTtcbiAgICAgICAgICAgIC8vIFN0b3AgaXRlcmF0aW5nIHRoZSBNYXAgd2l0aCBmb3JFYWNoOlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoX2Vycm9yKSB7XG4gICAgfVxuICAgIHJldHVybiBmaXJzdEtleTtcbn07XG5leHBvcnQgY29uc3QgdGltZVBhc3NlcyA9IChtcyA9IDApID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuLyoqXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEV2ZW50RGlzcGF0Y2hlcn0gdGFyZ2V0XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gKiBAcGFyYW0gez9GdW5jdGlvbn0gcHJlZGljYXRlXG4gKi9cbmV4cG9ydCBjb25zdCB3YWl0Rm9yRXZlbnQgPSAodGFyZ2V0LCBldmVudE5hbWUsIHByZWRpY2F0ZSA9IG51bGwpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIGZ1bmN0aW9uIGhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFwcmVkaWNhdGUgfHwgcHJlZGljYXRlKGV2ZW50KSkge1xuICAgICAgICAgICAgcmVzb2x2ZShldmVudCk7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxpdGllcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/animation.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/animation.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   easeInOutQuad: () => (/* binding */ easeInOutQuad),\n/* harmony export */   interpolate: () => (/* binding */ interpolate),\n/* harmony export */   sequence: () => (/* binding */ sequence),\n/* harmony export */   timeline: () => (/* binding */ timeline)\n/* harmony export */ });\n/* harmony import */ var _utilities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Adapted from https://gist.github.com/gre/1650294\nconst easeInOutQuad = (t) => t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n/**\n * Creates a TimingFunction that uses a given ease to interpolate between\n * two configured number values.\n */\nconst interpolate = (start, end, ease = easeInOutQuad) => (time) => start + (end - start) * ease(time);\n/**\n * Creates a TimingFunction that interpolates through a weighted list\n * of other TimingFunctions (\"tracks\"). Tracks are interpolated in order, and\n * allocated a percentage of the total time based on their relative weight.\n */\nconst sequence = (tracks, weights) => {\n    const cumulativeSum = ((sum) => (value) => sum += value);\n    const times = weights.map(cumulativeSum(0));\n    return (time) => {\n        time = (0,_utilities__WEBPACK_IMPORTED_MODULE_0__.clamp)(time, 0, 1);\n        time *= times[times.length - 1];\n        const i = times.findIndex((val) => val >= time);\n        const start = i < 1 ? 0 : times[i - 1];\n        const end = times[i];\n        return tracks[i]((time - start) / (end - start));\n    };\n};\n/**\n * Creates a \"timeline\" TimingFunction out of an initial value and a series of\n * Keyframes. The timeline function accepts value from 0-1 and returns the\n * current value based on keyframe interpolation across the total number of\n * frames. Frames are only used to indicate the relative length of each keyframe\n * transition, so interpolated values will be computed for fractional frames.\n */\nconst timeline = (path) => {\n    const tracks = [];\n    const weights = [];\n    let lastValue = path.initialValue;\n    for (let i = 0; i < path.keyframes.length; ++i) {\n        const keyframe = path.keyframes[i];\n        const { value, frames } = keyframe;\n        const ease = keyframe.ease || easeInOutQuad;\n        const track = interpolate(lastValue, value, ease);\n        tracks.push(track);\n        weights.push(frames);\n        lastValue = value;\n    }\n    return sequence(tracks, weights);\n};\n//# sourceMappingURL=animation.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9hbmltYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ3FDO0FBQ3JDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpREFBSztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkJBQTJCO0FBQy9DO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jcnlwdG8tY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvbW9kZWwtdmlld2VyL2xpYi91dGlsaXRpZXMvYW5pbWF0aW9uLmpzPzZiMjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTEMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgJ0xpY2Vuc2UnKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAnQVMgSVMnIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi91dGlsaXRpZXMnO1xuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2dyZS8xNjUwMjk0XG5leHBvcnQgY29uc3QgZWFzZUluT3V0UXVhZCA9ICh0KSA9PiB0IDwgLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdDtcbi8qKlxuICogQ3JlYXRlcyBhIFRpbWluZ0Z1bmN0aW9uIHRoYXQgdXNlcyBhIGdpdmVuIGVhc2UgdG8gaW50ZXJwb2xhdGUgYmV0d2VlblxuICogdHdvIGNvbmZpZ3VyZWQgbnVtYmVyIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGludGVycG9sYXRlID0gKHN0YXJ0LCBlbmQsIGVhc2UgPSBlYXNlSW5PdXRRdWFkKSA9PiAodGltZSkgPT4gc3RhcnQgKyAoZW5kIC0gc3RhcnQpICogZWFzZSh0aW1lKTtcbi8qKlxuICogQ3JlYXRlcyBhIFRpbWluZ0Z1bmN0aW9uIHRoYXQgaW50ZXJwb2xhdGVzIHRocm91Z2ggYSB3ZWlnaHRlZCBsaXN0XG4gKiBvZiBvdGhlciBUaW1pbmdGdW5jdGlvbnMgKFwidHJhY2tzXCIpLiBUcmFja3MgYXJlIGludGVycG9sYXRlZCBpbiBvcmRlciwgYW5kXG4gKiBhbGxvY2F0ZWQgYSBwZXJjZW50YWdlIG9mIHRoZSB0b3RhbCB0aW1lIGJhc2VkIG9uIHRoZWlyIHJlbGF0aXZlIHdlaWdodC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNlcXVlbmNlID0gKHRyYWNrcywgd2VpZ2h0cykgPT4ge1xuICAgIGNvbnN0IGN1bXVsYXRpdmVTdW0gPSAoKHN1bSkgPT4gKHZhbHVlKSA9PiBzdW0gKz0gdmFsdWUpO1xuICAgIGNvbnN0IHRpbWVzID0gd2VpZ2h0cy5tYXAoY3VtdWxhdGl2ZVN1bSgwKSk7XG4gICAgcmV0dXJuICh0aW1lKSA9PiB7XG4gICAgICAgIHRpbWUgPSBjbGFtcCh0aW1lLCAwLCAxKTtcbiAgICAgICAgdGltZSAqPSB0aW1lc1t0aW1lcy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgaSA9IHRpbWVzLmZpbmRJbmRleCgodmFsKSA9PiB2YWwgPj0gdGltZSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gaSA8IDEgPyAwIDogdGltZXNbaSAtIDFdO1xuICAgICAgICBjb25zdCBlbmQgPSB0aW1lc1tpXTtcbiAgICAgICAgcmV0dXJuIHRyYWNrc1tpXSgodGltZSAtIHN0YXJ0KSAvIChlbmQgLSBzdGFydCkpO1xuICAgIH07XG59O1xuLyoqXG4gKiBDcmVhdGVzIGEgXCJ0aW1lbGluZVwiIFRpbWluZ0Z1bmN0aW9uIG91dCBvZiBhbiBpbml0aWFsIHZhbHVlIGFuZCBhIHNlcmllcyBvZlxuICogS2V5ZnJhbWVzLiBUaGUgdGltZWxpbmUgZnVuY3Rpb24gYWNjZXB0cyB2YWx1ZSBmcm9tIDAtMSBhbmQgcmV0dXJucyB0aGVcbiAqIGN1cnJlbnQgdmFsdWUgYmFzZWQgb24ga2V5ZnJhbWUgaW50ZXJwb2xhdGlvbiBhY3Jvc3MgdGhlIHRvdGFsIG51bWJlciBvZlxuICogZnJhbWVzLiBGcmFtZXMgYXJlIG9ubHkgdXNlZCB0byBpbmRpY2F0ZSB0aGUgcmVsYXRpdmUgbGVuZ3RoIG9mIGVhY2gga2V5ZnJhbWVcbiAqIHRyYW5zaXRpb24sIHNvIGludGVycG9sYXRlZCB2YWx1ZXMgd2lsbCBiZSBjb21wdXRlZCBmb3IgZnJhY3Rpb25hbCBmcmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCB0aW1lbGluZSA9IChwYXRoKSA9PiB7XG4gICAgY29uc3QgdHJhY2tzID0gW107XG4gICAgY29uc3Qgd2VpZ2h0cyA9IFtdO1xuICAgIGxldCBsYXN0VmFsdWUgPSBwYXRoLmluaXRpYWxWYWx1ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgua2V5ZnJhbWVzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGtleWZyYW1lID0gcGF0aC5rZXlmcmFtZXNbaV07XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGZyYW1lcyB9ID0ga2V5ZnJhbWU7XG4gICAgICAgIGNvbnN0IGVhc2UgPSBrZXlmcmFtZS5lYXNlIHx8IGVhc2VJbk91dFF1YWQ7XG4gICAgICAgIGNvbnN0IHRyYWNrID0gaW50ZXJwb2xhdGUobGFzdFZhbHVlLCB2YWx1ZSwgZWFzZSk7XG4gICAgICAgIHRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgd2VpZ2h0cy5wdXNoKGZyYW1lcyk7XG4gICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gc2VxdWVuY2UodHJhY2tzLCB3ZWlnaHRzKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmltYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/animation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheEvictionPolicy: () => (/* binding */ CacheEvictionPolicy)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar _a, _b;\nconst $retainerCount = Symbol('retainerCount');\nconst $recentlyUsed = Symbol('recentlyUsed');\nconst $evict = Symbol('evict');\nconst $evictionThreshold = Symbol('evictionThreshold');\nconst $cache = Symbol('cache');\n/**\n * The CacheEvictionPolicy manages the lifecycle for items in a cache,\n * evicting any items outside some threshold bounds in \"recently used\" order,\n * if they are evictable.\n *\n * Items are considered cached as they are retained. When all retainers\n * of an item release it, that item is considered evictable.\n */\nclass CacheEvictionPolicy {\n    constructor(cache, evictionThreshold = 5) {\n        this[_a] = new Map();\n        this[_b] = [];\n        this[$cache] = cache;\n        this[$evictionThreshold] = evictionThreshold;\n    }\n    /**\n     * The eviction threshold is the maximum number of items to hold\n     * in cache indefinitely. Items within the threshold (in recently\n     * used order) will continue to be cached even if they have zero\n     * retainers.\n     */\n    set evictionThreshold(value) {\n        this[$evictionThreshold] = value;\n        this[$evict]();\n    }\n    get evictionThreshold() {\n        return this[$evictionThreshold];\n    }\n    /**\n     * A reference to the cache that operates under this policy\n     */\n    get cache() {\n        return this[$cache];\n    }\n    /**\n     * Given an item key, returns the number of retainers of that item\n     */\n    retainerCount(key) {\n        return this[$retainerCount].get(key) || 0;\n    }\n    /**\n     * Resets the internal tracking of cache item retainers. Use only in cases\n     * where it is certain that all retained cache items have been accounted for!\n     */\n    reset() {\n        this[$retainerCount].clear();\n        this[$recentlyUsed] = [];\n    }\n    /**\n     * Mark a given cache item as retained, where the item is represented\n     * by its key. An item can have any number of retainers.\n     */\n    retain(key) {\n        if (!this[$retainerCount].has(key)) {\n            this[$retainerCount].set(key, 0);\n        }\n        this[$retainerCount].set(key, this[$retainerCount].get(key) + 1);\n        const recentlyUsedIndex = this[$recentlyUsed].indexOf(key);\n        if (recentlyUsedIndex !== -1) {\n            this[$recentlyUsed].splice(recentlyUsedIndex, 1);\n        }\n        this[$recentlyUsed].unshift(key);\n        // Evict, in case retaining a new item pushed an evictable item beyond the\n        // eviction threshold\n        this[$evict]();\n    }\n    /**\n     * Mark a given cache item as released by one of its retainers, where the item\n     * is represented by its key. When all retainers of an item have released it,\n     * the item is considered evictable.\n     */\n    release(key) {\n        if (this[$retainerCount].has(key)) {\n            this[$retainerCount].set(key, Math.max(this[$retainerCount].get(key) - 1, 0));\n        }\n        this[$evict]();\n    }\n    [(_a = $retainerCount, _b = $recentlyUsed, $evict)]() {\n        if (this[$recentlyUsed].length < this[$evictionThreshold]) {\n            return;\n        }\n        for (let i = this[$recentlyUsed].length - 1; i >= this[$evictionThreshold]; --i) {\n            const key = this[$recentlyUsed][i];\n            const retainerCount = this[$retainerCount].get(key);\n            if (retainerCount === 0) {\n                this[$cache].delete(key);\n                this[$recentlyUsed].splice(i, 1);\n            }\n        }\n    }\n}\n//# sourceMappingURL=cache-eviction-policy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9jYWNoZS1ldmljdGlvbi1wb2xpY3kuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsK0JBQStCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdXRpbGl0aWVzL2NhY2hlLWV2aWN0aW9uLXBvbGljeS5qcz9mNzlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfYSwgX2I7XG5jb25zdCAkcmV0YWluZXJDb3VudCA9IFN5bWJvbCgncmV0YWluZXJDb3VudCcpO1xuY29uc3QgJHJlY2VudGx5VXNlZCA9IFN5bWJvbCgncmVjZW50bHlVc2VkJyk7XG5jb25zdCAkZXZpY3QgPSBTeW1ib2woJ2V2aWN0Jyk7XG5jb25zdCAkZXZpY3Rpb25UaHJlc2hvbGQgPSBTeW1ib2woJ2V2aWN0aW9uVGhyZXNob2xkJyk7XG5jb25zdCAkY2FjaGUgPSBTeW1ib2woJ2NhY2hlJyk7XG4vKipcbiAqIFRoZSBDYWNoZUV2aWN0aW9uUG9saWN5IG1hbmFnZXMgdGhlIGxpZmVjeWNsZSBmb3IgaXRlbXMgaW4gYSBjYWNoZSxcbiAqIGV2aWN0aW5nIGFueSBpdGVtcyBvdXRzaWRlIHNvbWUgdGhyZXNob2xkIGJvdW5kcyBpbiBcInJlY2VudGx5IHVzZWRcIiBvcmRlcixcbiAqIGlmIHRoZXkgYXJlIGV2aWN0YWJsZS5cbiAqXG4gKiBJdGVtcyBhcmUgY29uc2lkZXJlZCBjYWNoZWQgYXMgdGhleSBhcmUgcmV0YWluZWQuIFdoZW4gYWxsIHJldGFpbmVyc1xuICogb2YgYW4gaXRlbSByZWxlYXNlIGl0LCB0aGF0IGl0ZW0gaXMgY29uc2lkZXJlZCBldmljdGFibGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWNoZUV2aWN0aW9uUG9saWN5IHtcbiAgICBjb25zdHJ1Y3RvcihjYWNoZSwgZXZpY3Rpb25UaHJlc2hvbGQgPSA1KSB7XG4gICAgICAgIHRoaXNbX2FdID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzW19iXSA9IFtdO1xuICAgICAgICB0aGlzWyRjYWNoZV0gPSBjYWNoZTtcbiAgICAgICAgdGhpc1skZXZpY3Rpb25UaHJlc2hvbGRdID0gZXZpY3Rpb25UaHJlc2hvbGQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBldmljdGlvbiB0aHJlc2hvbGQgaXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIGhvbGRcbiAgICAgKiBpbiBjYWNoZSBpbmRlZmluaXRlbHkuIEl0ZW1zIHdpdGhpbiB0aGUgdGhyZXNob2xkIChpbiByZWNlbnRseVxuICAgICAqIHVzZWQgb3JkZXIpIHdpbGwgY29udGludWUgdG8gYmUgY2FjaGVkIGV2ZW4gaWYgdGhleSBoYXZlIHplcm9cbiAgICAgKiByZXRhaW5lcnMuXG4gICAgICovXG4gICAgc2V0IGV2aWN0aW9uVGhyZXNob2xkKHZhbHVlKSB7XG4gICAgICAgIHRoaXNbJGV2aWN0aW9uVGhyZXNob2xkXSA9IHZhbHVlO1xuICAgICAgICB0aGlzWyRldmljdF0oKTtcbiAgICB9XG4gICAgZ2V0IGV2aWN0aW9uVGhyZXNob2xkKCkge1xuICAgICAgICByZXR1cm4gdGhpc1skZXZpY3Rpb25UaHJlc2hvbGRdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgY2FjaGUgdGhhdCBvcGVyYXRlcyB1bmRlciB0aGlzIHBvbGljeVxuICAgICAqL1xuICAgIGdldCBjYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJGNhY2hlXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYW4gaXRlbSBrZXksIHJldHVybnMgdGhlIG51bWJlciBvZiByZXRhaW5lcnMgb2YgdGhhdCBpdGVtXG4gICAgICovXG4gICAgcmV0YWluZXJDb3VudChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbJHJldGFpbmVyQ291bnRdLmdldChrZXkpIHx8IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgdHJhY2tpbmcgb2YgY2FjaGUgaXRlbSByZXRhaW5lcnMuIFVzZSBvbmx5IGluIGNhc2VzXG4gICAgICogd2hlcmUgaXQgaXMgY2VydGFpbiB0aGF0IGFsbCByZXRhaW5lZCBjYWNoZSBpdGVtcyBoYXZlIGJlZW4gYWNjb3VudGVkIGZvciFcbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpc1skcmV0YWluZXJDb3VudF0uY2xlYXIoKTtcbiAgICAgICAgdGhpc1skcmVjZW50bHlVc2VkXSA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXJrIGEgZ2l2ZW4gY2FjaGUgaXRlbSBhcyByZXRhaW5lZCwgd2hlcmUgdGhlIGl0ZW0gaXMgcmVwcmVzZW50ZWRcbiAgICAgKiBieSBpdHMga2V5LiBBbiBpdGVtIGNhbiBoYXZlIGFueSBudW1iZXIgb2YgcmV0YWluZXJzLlxuICAgICAqL1xuICAgIHJldGFpbihrZXkpIHtcbiAgICAgICAgaWYgKCF0aGlzWyRyZXRhaW5lckNvdW50XS5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpc1skcmV0YWluZXJDb3VudF0uc2V0KGtleSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1skcmV0YWluZXJDb3VudF0uc2V0KGtleSwgdGhpc1skcmV0YWluZXJDb3VudF0uZ2V0KGtleSkgKyAxKTtcbiAgICAgICAgY29uc3QgcmVjZW50bHlVc2VkSW5kZXggPSB0aGlzWyRyZWNlbnRseVVzZWRdLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgaWYgKHJlY2VudGx5VXNlZEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpc1skcmVjZW50bHlVc2VkXS5zcGxpY2UocmVjZW50bHlVc2VkSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbJHJlY2VudGx5VXNlZF0udW5zaGlmdChrZXkpO1xuICAgICAgICAvLyBFdmljdCwgaW4gY2FzZSByZXRhaW5pbmcgYSBuZXcgaXRlbSBwdXNoZWQgYW4gZXZpY3RhYmxlIGl0ZW0gYmV5b25kIHRoZVxuICAgICAgICAvLyBldmljdGlvbiB0aHJlc2hvbGRcbiAgICAgICAgdGhpc1skZXZpY3RdKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmsgYSBnaXZlbiBjYWNoZSBpdGVtIGFzIHJlbGVhc2VkIGJ5IG9uZSBvZiBpdHMgcmV0YWluZXJzLCB3aGVyZSB0aGUgaXRlbVxuICAgICAqIGlzIHJlcHJlc2VudGVkIGJ5IGl0cyBrZXkuIFdoZW4gYWxsIHJldGFpbmVycyBvZiBhbiBpdGVtIGhhdmUgcmVsZWFzZWQgaXQsXG4gICAgICogdGhlIGl0ZW0gaXMgY29uc2lkZXJlZCBldmljdGFibGUuXG4gICAgICovXG4gICAgcmVsZWFzZShrZXkpIHtcbiAgICAgICAgaWYgKHRoaXNbJHJldGFpbmVyQ291bnRdLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzWyRyZXRhaW5lckNvdW50XS5zZXQoa2V5LCBNYXRoLm1heCh0aGlzWyRyZXRhaW5lckNvdW50XS5nZXQoa2V5KSAtIDEsIDApKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzWyRldmljdF0oKTtcbiAgICB9XG4gICAgWyhfYSA9ICRyZXRhaW5lckNvdW50LCBfYiA9ICRyZWNlbnRseVVzZWQsICRldmljdCldKCkge1xuICAgICAgICBpZiAodGhpc1skcmVjZW50bHlVc2VkXS5sZW5ndGggPCB0aGlzWyRldmljdGlvblRocmVzaG9sZF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gdGhpc1skcmVjZW50bHlVc2VkXS5sZW5ndGggLSAxOyBpID49IHRoaXNbJGV2aWN0aW9uVGhyZXNob2xkXTsgLS1pKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzWyRyZWNlbnRseVVzZWRdW2ldO1xuICAgICAgICAgICAgY29uc3QgcmV0YWluZXJDb3VudCA9IHRoaXNbJHJldGFpbmVyQ291bnRdLmdldChrZXkpO1xuICAgICAgICAgICAgaWYgKHJldGFpbmVyQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzWyRjYWNoZV0uZGVsZXRlKGtleSk7XG4gICAgICAgICAgICAgICAgdGhpc1skcmVjZW50bHlVc2VkXS5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWNoZS1ldmljdGlvbi1wb2xpY3kuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/cache-eviction-policy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/data-conversion.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/data-conversion.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dataUrlToBlob: () => (/* binding */ dataUrlToBlob)\n/* harmony export */ });\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Converts a base64 string which represents a data url\n * into a Blob of the same contents.\n */\nconst dataUrlToBlob = async (base64DataUrl) => {\n    return new Promise((resolve, reject) => {\n        const sliceSize = 512;\n        const typeMatch = base64DataUrl.match(/data:(.*);/);\n        if (!typeMatch) {\n            return reject(new Error(`${base64DataUrl} is not a valid data Url`));\n        }\n        const type = typeMatch[1];\n        const base64 = base64DataUrl.replace(/data:image\\/\\w+;base64,/, '');\n        const byteCharacters = atob(base64);\n        const byteArrays = [];\n        for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            const slice = byteCharacters.slice(offset, offset + sliceSize);\n            const byteNumbers = new Array(slice.length);\n            for (let i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            const byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        resolve(new Blob(byteArrays, { type }));\n    });\n};\n//# sourceMappingURL=data-conversion.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9kYXRhLWNvbnZlcnNpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBLHVDQUF1QyxlQUFlO0FBQ3REO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBLDZCQUE2QixnQ0FBZ0M7QUFDN0Q7QUFDQTtBQUNBLDRCQUE0QixrQkFBa0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxNQUFNO0FBQzdDLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdXRpbGl0aWVzL2RhdGEtY29udmVyc2lvbi5qcz85MGNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICdMaWNlbnNlJyk7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gJ0FTIElTJyBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ29udmVydHMgYSBiYXNlNjQgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgYSBkYXRhIHVybFxuICogaW50byBhIEJsb2Igb2YgdGhlIHNhbWUgY29udGVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCBkYXRhVXJsVG9CbG9iID0gYXN5bmMgKGJhc2U2NERhdGFVcmwpID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBzbGljZVNpemUgPSA1MTI7XG4gICAgICAgIGNvbnN0IHR5cGVNYXRjaCA9IGJhc2U2NERhdGFVcmwubWF0Y2goL2RhdGE6KC4qKTsvKTtcbiAgICAgICAgaWYgKCF0eXBlTWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QobmV3IEVycm9yKGAke2Jhc2U2NERhdGFVcmx9IGlzIG5vdCBhIHZhbGlkIGRhdGEgVXJsYCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlTWF0Y2hbMV07XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGJhc2U2NERhdGFVcmwucmVwbGFjZSgvZGF0YTppbWFnZVxcL1xcdys7YmFzZTY0LC8sICcnKTtcbiAgICAgICAgY29uc3QgYnl0ZUNoYXJhY3RlcnMgPSBhdG9iKGJhc2U2NCk7XG4gICAgICAgIGNvbnN0IGJ5dGVBcnJheXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgYnl0ZUNoYXJhY3RlcnMubGVuZ3RoOyBvZmZzZXQgKz0gc2xpY2VTaXplKSB7XG4gICAgICAgICAgICBjb25zdCBzbGljZSA9IGJ5dGVDaGFyYWN0ZXJzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2xpY2VTaXplKTtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KHNsaWNlLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYnl0ZU51bWJlcnNbaV0gPSBzbGljZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZU51bWJlcnMpO1xuICAgICAgICAgICAgYnl0ZUFycmF5cy5wdXNoKGJ5dGVBcnJheSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShuZXcgQmxvYihieXRlQXJyYXlzLCB7IHR5cGUgfSkpO1xuICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGEtY29udmVyc2lvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/data-conversion.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/focus-visible.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/focus-visible.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FocusVisiblePolyfillMixin: () => (/* binding */ FocusVisiblePolyfillMixin)\n/* harmony export */ });\n/**\n * This mixin function is designed to be applied to a class that inherits\n * from HTMLElement. It makes it easy for a custom element to coordinate with\n * the :focus-visible polyfill.\n *\n * NOTE(cdata): The code here was adapted from an example proposed with the\n * introduction of ShadowDOM support in the :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196\n * @param {Function} SuperClass The base class implementation to decorate with\n * implementation that coordinates with the :focus-visible polyfill\n */\nconst FocusVisiblePolyfillMixin = (SuperClass) => {\n    var _a;\n    const coordinateWithPolyfill = (instance) => {\n        // If there is no shadow root, there is no need to coordinate with\n        // the polyfill. If we already coordinated with the polyfill, we can\n        // skip subsequent invocations:\n        if (instance.shadowRoot == null ||\n            instance.hasAttribute('data-js-focus-visible')) {\n            return () => { };\n        }\n        // The polyfill might already be loaded. If so, we can apply it to\n        // the shadow root immediately:\n        if (self.applyFocusVisiblePolyfill) {\n            self.applyFocusVisiblePolyfill(instance.shadowRoot);\n        }\n        else {\n            const coordinationHandler = () => {\n                self.applyFocusVisiblePolyfill(instance.shadowRoot);\n            };\n            // Otherwise, wait for the polyfill to be loaded lazily. It might\n            // never be loaded, but if it is then we can apply it to the\n            // shadow root at the appropriate time by waiting for the ready\n            // event:\n            self.addEventListener('focus-visible-polyfill-ready', coordinationHandler, { once: true });\n            return () => {\n                self.removeEventListener('focus-visible-polyfill-ready', coordinationHandler);\n            };\n        }\n        return () => { };\n    };\n    const $endPolyfillCoordination = Symbol('endPolyfillCoordination');\n    // IE11 doesn't natively support custom elements or JavaScript class\n    // syntax The mixin implementation assumes that the user will take the\n    // appropriate steps to support both:\n    class FocusVisibleCoordinator extends SuperClass {\n        constructor() {\n            super(...arguments);\n            this[_a] = null;\n        }\n        // Attempt to coordinate with the polyfill when connected to the\n        // document:\n        connectedCallback() {\n            super.connectedCallback && super.connectedCallback();\n            if (this[$endPolyfillCoordination] == null) {\n                this[$endPolyfillCoordination] = coordinateWithPolyfill(this);\n            }\n        }\n        disconnectedCallback() {\n            super.disconnectedCallback && super.disconnectedCallback();\n            // It's important to remove the polyfill event listener when we\n            // disconnect, otherwise we will leak the whole element via window:\n            if (this[$endPolyfillCoordination] != null) {\n                this[$endPolyfillCoordination]();\n                this[$endPolyfillCoordination] = null;\n            }\n        }\n    }\n    _a = $endPolyfillCoordination;\n    ;\n    return FocusVisibleCoordinator;\n};\n//# sourceMappingURL=focus-visible.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9mb2N1cy12aXNpYmxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RkFBeUYsWUFBWTtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdXRpbGl0aWVzL2ZvY3VzLXZpc2libGUuanM/ZWFmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoaXMgbWl4aW4gZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gYmUgYXBwbGllZCB0byBhIGNsYXNzIHRoYXQgaW5oZXJpdHNcbiAqIGZyb20gSFRNTEVsZW1lbnQuIEl0IG1ha2VzIGl0IGVhc3kgZm9yIGEgY3VzdG9tIGVsZW1lbnQgdG8gY29vcmRpbmF0ZSB3aXRoXG4gKiB0aGUgOmZvY3VzLXZpc2libGUgcG9seWZpbGwuXG4gKlxuICogTk9URShjZGF0YSk6IFRoZSBjb2RlIGhlcmUgd2FzIGFkYXB0ZWQgZnJvbSBhbiBleGFtcGxlIHByb3Bvc2VkIHdpdGggdGhlXG4gKiBpbnRyb2R1Y3Rpb24gb2YgU2hhZG93RE9NIHN1cHBvcnQgaW4gdGhlIDpmb2N1cy12aXNpYmxlIHBvbHlmaWxsLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvZm9jdXMtdmlzaWJsZS9wdWxsLzE5NlxuICogQHBhcmFtIHtGdW5jdGlvbn0gU3VwZXJDbGFzcyBUaGUgYmFzZSBjbGFzcyBpbXBsZW1lbnRhdGlvbiB0byBkZWNvcmF0ZSB3aXRoXG4gKiBpbXBsZW1lbnRhdGlvbiB0aGF0IGNvb3JkaW5hdGVzIHdpdGggdGhlIDpmb2N1cy12aXNpYmxlIHBvbHlmaWxsXG4gKi9cbmV4cG9ydCBjb25zdCBGb2N1c1Zpc2libGVQb2x5ZmlsbE1peGluID0gKFN1cGVyQ2xhc3MpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgY29vcmRpbmF0ZVdpdGhQb2x5ZmlsbCA9IChpbnN0YW5jZSkgPT4ge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBzaGFkb3cgcm9vdCwgdGhlcmUgaXMgbm8gbmVlZCB0byBjb29yZGluYXRlIHdpdGhcbiAgICAgICAgLy8gdGhlIHBvbHlmaWxsLiBJZiB3ZSBhbHJlYWR5IGNvb3JkaW5hdGVkIHdpdGggdGhlIHBvbHlmaWxsLCB3ZSBjYW5cbiAgICAgICAgLy8gc2tpcCBzdWJzZXF1ZW50IGludm9jYXRpb25zOlxuICAgICAgICBpZiAoaW5zdGFuY2Uuc2hhZG93Um9vdCA9PSBudWxsIHx8XG4gICAgICAgICAgICBpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtanMtZm9jdXMtdmlzaWJsZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBwb2x5ZmlsbCBtaWdodCBhbHJlYWR5IGJlIGxvYWRlZC4gSWYgc28sIHdlIGNhbiBhcHBseSBpdCB0b1xuICAgICAgICAvLyB0aGUgc2hhZG93IHJvb3QgaW1tZWRpYXRlbHk6XG4gICAgICAgIGlmIChzZWxmLmFwcGx5Rm9jdXNWaXNpYmxlUG9seWZpbGwpIHtcbiAgICAgICAgICAgIHNlbGYuYXBwbHlGb2N1c1Zpc2libGVQb2x5ZmlsbChpbnN0YW5jZS5zaGFkb3dSb290KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGlvbkhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5hcHBseUZvY3VzVmlzaWJsZVBvbHlmaWxsKGluc3RhbmNlLnNoYWRvd1Jvb3QpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgd2FpdCBmb3IgdGhlIHBvbHlmaWxsIHRvIGJlIGxvYWRlZCBsYXppbHkuIEl0IG1pZ2h0XG4gICAgICAgICAgICAvLyBuZXZlciBiZSBsb2FkZWQsIGJ1dCBpZiBpdCBpcyB0aGVuIHdlIGNhbiBhcHBseSBpdCB0byB0aGVcbiAgICAgICAgICAgIC8vIHNoYWRvdyByb290IGF0IHRoZSBhcHByb3ByaWF0ZSB0aW1lIGJ5IHdhaXRpbmcgZm9yIHRoZSByZWFkeVxuICAgICAgICAgICAgLy8gZXZlbnQ6XG4gICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzLXZpc2libGUtcG9seWZpbGwtcmVhZHknLCBjb29yZGluYXRpb25IYW5kbGVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMtdmlzaWJsZS1wb2x5ZmlsbC1yZWFkeScsIGNvb3JkaW5hdGlvbkhhbmRsZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH07XG4gICAgY29uc3QgJGVuZFBvbHlmaWxsQ29vcmRpbmF0aW9uID0gU3ltYm9sKCdlbmRQb2x5ZmlsbENvb3JkaW5hdGlvbicpO1xuICAgIC8vIElFMTEgZG9lc24ndCBuYXRpdmVseSBzdXBwb3J0IGN1c3RvbSBlbGVtZW50cyBvciBKYXZhU2NyaXB0IGNsYXNzXG4gICAgLy8gc3ludGF4IFRoZSBtaXhpbiBpbXBsZW1lbnRhdGlvbiBhc3N1bWVzIHRoYXQgdGhlIHVzZXIgd2lsbCB0YWtlIHRoZVxuICAgIC8vIGFwcHJvcHJpYXRlIHN0ZXBzIHRvIHN1cHBvcnQgYm90aDpcbiAgICBjbGFzcyBGb2N1c1Zpc2libGVDb29yZGluYXRvciBleHRlbmRzIFN1cGVyQ2xhc3Mge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICB0aGlzW19hXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXR0ZW1wdCB0byBjb29yZGluYXRlIHdpdGggdGhlIHBvbHlmaWxsIHdoZW4gY29ubmVjdGVkIHRvIHRoZVxuICAgICAgICAvLyBkb2N1bWVudDpcbiAgICAgICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjayAmJiBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAgICAgaWYgKHRoaXNbJGVuZFBvbHlmaWxsQ29vcmRpbmF0aW9uXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpc1skZW5kUG9seWZpbGxDb29yZGluYXRpb25dID0gY29vcmRpbmF0ZVdpdGhQb2x5ZmlsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrICYmIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAvLyBJdCdzIGltcG9ydGFudCB0byByZW1vdmUgdGhlIHBvbHlmaWxsIGV2ZW50IGxpc3RlbmVyIHdoZW4gd2VcbiAgICAgICAgICAgIC8vIGRpc2Nvbm5lY3QsIG90aGVyd2lzZSB3ZSB3aWxsIGxlYWsgdGhlIHdob2xlIGVsZW1lbnQgdmlhIHdpbmRvdzpcbiAgICAgICAgICAgIGlmICh0aGlzWyRlbmRQb2x5ZmlsbENvb3JkaW5hdGlvbl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbJGVuZFBvbHlmaWxsQ29vcmRpbmF0aW9uXSgpO1xuICAgICAgICAgICAgICAgIHRoaXNbJGVuZFBvbHlmaWxsQ29vcmRpbmF0aW9uXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2EgPSAkZW5kUG9seWZpbGxDb29yZGluYXRpb247XG4gICAgO1xuICAgIHJldHVybiBGb2N1c1Zpc2libGVDb29yZGluYXRvcjtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb2N1cy12aXNpYmxlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/focus-visible.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProgressTracker: () => (/* binding */ ProgressTracker)\n/* harmony export */ });\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utilities.js */ \"(ssr)/./node_modules/@google/model-viewer/lib/utilities.js\");\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ProgressTracker is an event emitter that helps to track the ongoing progress\n * of many simultaneous actions.\n *\n * ProgressTracker reports progress activity in the form of a progress event.\n * The event.detail.totalProgress value indicates the elapsed progress of all\n * activities being tracked by the ProgressTracker.\n *\n * The value of totalProgress is a number that progresses from 0 to 1. The\n * ProgressTracker allows for the lazy accumulation of tracked actions, so the\n * total progress represents a abstract, non-absolute progress towards the\n * completion of all currently tracked events.\n *\n * When all currently tracked activities are finished, the ProgressTracker\n * emits one final progress event and then resets the list of its currently\n * tracked activities. This means that from an observer's perspective,\n * ongoing activities will accumulate and collectively contribute to the notion\n * of total progress until all currently tracked ongoing activities have\n * completed.\n */\nclass ProgressTracker extends EventTarget {\n    constructor() {\n        super(...arguments);\n        this.ongoingActivities = new Set();\n        this.totalProgress = 0;\n    }\n    /**\n     * The total number of activities currently being tracked.\n     */\n    get ongoingActivityCount() {\n        return this.ongoingActivities.size;\n    }\n    /**\n     * Registers a new activity to be tracked by the progress tracker. The method\n     * returns a special callback that should be invoked whenever new progress is\n     * ready to be reported. The progress should be reported as a value between 0\n     * and 1, where 0 would represent the beginning of the action and 1 would\n     * represent its completion.\n     *\n     * There is no built-in notion of a time-out for ongoing activities, so once\n     * an ongoing activity is begun, it is up to the consumer of this API to\n     * update the progress until that activity is no longer ongoing.\n     *\n     * Progress is only allowed to move forward for any given activity. If a lower\n     * progress is reported than the previously reported progress, it will be\n     * ignored.\n     */\n    beginActivity() {\n        const activity = { progress: 0, completed: false };\n        this.ongoingActivities.add(activity);\n        if (this.ongoingActivityCount === 1) {\n            // Announce the first progress event (which should always be 0 / 1\n            // total progress):\n            this.announceTotalProgress(activity, 0);\n        }\n        return (progress) => {\n            let nextProgress;\n            nextProgress = Math.max((0,_utilities_js__WEBPACK_IMPORTED_MODULE_0__.clamp)(progress, 0, 1), activity.progress);\n            if (nextProgress !== activity.progress) {\n                this.announceTotalProgress(activity, nextProgress);\n            }\n            return activity.progress;\n        };\n    }\n    announceTotalProgress(updatedActivity, nextProgress) {\n        let progressLeft = 0;\n        let completedActivities = 0;\n        if (nextProgress == 1.0)\n            updatedActivity.completed = true;\n        for (const activity of this.ongoingActivities) {\n            const { progress } = activity;\n            progressLeft += 1.0 - progress;\n            if (activity.completed === true) {\n                completedActivities++;\n            }\n        }\n        const lastProgress = updatedActivity.progress;\n        updatedActivity.progress = nextProgress;\n        // Advance the total progress by the fraction of total remaining progress\n        // due to this activity.\n        this.totalProgress += (nextProgress - lastProgress) *\n            (1.0 - this.totalProgress) / progressLeft;\n        const totalProgress = completedActivities === this.ongoingActivityCount ?\n            1.0 :\n            this.totalProgress;\n        this.dispatchEvent(new CustomEvent('progress', { detail: { totalProgress } }));\n        if (completedActivities === this.ongoingActivityCount) {\n            this.totalProgress = 0.0;\n            this.ongoingActivities.clear();\n        }\n    }\n}\n//# sourceMappingURL=progress-tracker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9tb2RlbC12aWV3ZXIvbGliL3V0aWxpdGllcy9wcm9ncmVzcy10cmFja2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvREFBSztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsV0FBVztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELFVBQVUsaUJBQWlCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3J5cHRvLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AZ29vZ2xlL21vZGVsLXZpZXdlci9saWIvdXRpbGl0aWVzL3Byb2dyZXNzLXRyYWNrZXIuanM/YzQzYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAnTGljZW5zZScpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICdBUyBJUycgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4uL3V0aWxpdGllcy5qcyc7XG4vKipcbiAqIFByb2dyZXNzVHJhY2tlciBpcyBhbiBldmVudCBlbWl0dGVyIHRoYXQgaGVscHMgdG8gdHJhY2sgdGhlIG9uZ29pbmcgcHJvZ3Jlc3NcbiAqIG9mIG1hbnkgc2ltdWx0YW5lb3VzIGFjdGlvbnMuXG4gKlxuICogUHJvZ3Jlc3NUcmFja2VyIHJlcG9ydHMgcHJvZ3Jlc3MgYWN0aXZpdHkgaW4gdGhlIGZvcm0gb2YgYSBwcm9ncmVzcyBldmVudC5cbiAqIFRoZSBldmVudC5kZXRhaWwudG90YWxQcm9ncmVzcyB2YWx1ZSBpbmRpY2F0ZXMgdGhlIGVsYXBzZWQgcHJvZ3Jlc3Mgb2YgYWxsXG4gKiBhY3Rpdml0aWVzIGJlaW5nIHRyYWNrZWQgYnkgdGhlIFByb2dyZXNzVHJhY2tlci5cbiAqXG4gKiBUaGUgdmFsdWUgb2YgdG90YWxQcm9ncmVzcyBpcyBhIG51bWJlciB0aGF0IHByb2dyZXNzZXMgZnJvbSAwIHRvIDEuIFRoZVxuICogUHJvZ3Jlc3NUcmFja2VyIGFsbG93cyBmb3IgdGhlIGxhenkgYWNjdW11bGF0aW9uIG9mIHRyYWNrZWQgYWN0aW9ucywgc28gdGhlXG4gKiB0b3RhbCBwcm9ncmVzcyByZXByZXNlbnRzIGEgYWJzdHJhY3QsIG5vbi1hYnNvbHV0ZSBwcm9ncmVzcyB0b3dhcmRzIHRoZVxuICogY29tcGxldGlvbiBvZiBhbGwgY3VycmVudGx5IHRyYWNrZWQgZXZlbnRzLlxuICpcbiAqIFdoZW4gYWxsIGN1cnJlbnRseSB0cmFja2VkIGFjdGl2aXRpZXMgYXJlIGZpbmlzaGVkLCB0aGUgUHJvZ3Jlc3NUcmFja2VyXG4gKiBlbWl0cyBvbmUgZmluYWwgcHJvZ3Jlc3MgZXZlbnQgYW5kIHRoZW4gcmVzZXRzIHRoZSBsaXN0IG9mIGl0cyBjdXJyZW50bHlcbiAqIHRyYWNrZWQgYWN0aXZpdGllcy4gVGhpcyBtZWFucyB0aGF0IGZyb20gYW4gb2JzZXJ2ZXIncyBwZXJzcGVjdGl2ZSxcbiAqIG9uZ29pbmcgYWN0aXZpdGllcyB3aWxsIGFjY3VtdWxhdGUgYW5kIGNvbGxlY3RpdmVseSBjb250cmlidXRlIHRvIHRoZSBub3Rpb25cbiAqIG9mIHRvdGFsIHByb2dyZXNzIHVudGlsIGFsbCBjdXJyZW50bHkgdHJhY2tlZCBvbmdvaW5nIGFjdGl2aXRpZXMgaGF2ZVxuICogY29tcGxldGVkLlxuICovXG5leHBvcnQgY2xhc3MgUHJvZ3Jlc3NUcmFja2VyIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm9uZ29pbmdBY3Rpdml0aWVzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLnRvdGFsUHJvZ3Jlc3MgPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGFjdGl2aXRpZXMgY3VycmVudGx5IGJlaW5nIHRyYWNrZWQuXG4gICAgICovXG4gICAgZ2V0IG9uZ29pbmdBY3Rpdml0eUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vbmdvaW5nQWN0aXZpdGllcy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBuZXcgYWN0aXZpdHkgdG8gYmUgdHJhY2tlZCBieSB0aGUgcHJvZ3Jlc3MgdHJhY2tlci4gVGhlIG1ldGhvZFxuICAgICAqIHJldHVybnMgYSBzcGVjaWFsIGNhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIGludm9rZWQgd2hlbmV2ZXIgbmV3IHByb2dyZXNzIGlzXG4gICAgICogcmVhZHkgdG8gYmUgcmVwb3J0ZWQuIFRoZSBwcm9ncmVzcyBzaG91bGQgYmUgcmVwb3J0ZWQgYXMgYSB2YWx1ZSBiZXR3ZWVuIDBcbiAgICAgKiBhbmQgMSwgd2hlcmUgMCB3b3VsZCByZXByZXNlbnQgdGhlIGJlZ2lubmluZyBvZiB0aGUgYWN0aW9uIGFuZCAxIHdvdWxkXG4gICAgICogcmVwcmVzZW50IGl0cyBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogVGhlcmUgaXMgbm8gYnVpbHQtaW4gbm90aW9uIG9mIGEgdGltZS1vdXQgZm9yIG9uZ29pbmcgYWN0aXZpdGllcywgc28gb25jZVxuICAgICAqIGFuIG9uZ29pbmcgYWN0aXZpdHkgaXMgYmVndW4sIGl0IGlzIHVwIHRvIHRoZSBjb25zdW1lciBvZiB0aGlzIEFQSSB0b1xuICAgICAqIHVwZGF0ZSB0aGUgcHJvZ3Jlc3MgdW50aWwgdGhhdCBhY3Rpdml0eSBpcyBubyBsb25nZXIgb25nb2luZy5cbiAgICAgKlxuICAgICAqIFByb2dyZXNzIGlzIG9ubHkgYWxsb3dlZCB0byBtb3ZlIGZvcndhcmQgZm9yIGFueSBnaXZlbiBhY3Rpdml0eS4gSWYgYSBsb3dlclxuICAgICAqIHByb2dyZXNzIGlzIHJlcG9ydGVkIHRoYW4gdGhlIHByZXZpb3VzbHkgcmVwb3J0ZWQgcHJvZ3Jlc3MsIGl0IHdpbGwgYmVcbiAgICAgKiBpZ25vcmVkLlxuICAgICAqL1xuICAgIGJlZ2luQWN0aXZpdHkoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2aXR5ID0geyBwcm9ncmVzczogMCwgY29tcGxldGVkOiBmYWxzZSB9O1xuICAgICAgICB0aGlzLm9uZ29pbmdBY3Rpdml0aWVzLmFkZChhY3Rpdml0eSk7XG4gICAgICAgIGlmICh0aGlzLm9uZ29pbmdBY3Rpdml0eUNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAvLyBBbm5vdW5jZSB0aGUgZmlyc3QgcHJvZ3Jlc3MgZXZlbnQgKHdoaWNoIHNob3VsZCBhbHdheXMgYmUgMCAvIDFcbiAgICAgICAgICAgIC8vIHRvdGFsIHByb2dyZXNzKTpcbiAgICAgICAgICAgIHRoaXMuYW5ub3VuY2VUb3RhbFByb2dyZXNzKGFjdGl2aXR5LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmV4dFByb2dyZXNzO1xuICAgICAgICAgICAgbmV4dFByb2dyZXNzID0gTWF0aC5tYXgoY2xhbXAocHJvZ3Jlc3MsIDAsIDEpLCBhY3Rpdml0eS5wcm9ncmVzcyk7XG4gICAgICAgICAgICBpZiAobmV4dFByb2dyZXNzICE9PSBhY3Rpdml0eS5wcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYW5ub3VuY2VUb3RhbFByb2dyZXNzKGFjdGl2aXR5LCBuZXh0UHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2aXR5LnByb2dyZXNzO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBhbm5vdW5jZVRvdGFsUHJvZ3Jlc3ModXBkYXRlZEFjdGl2aXR5LCBuZXh0UHJvZ3Jlc3MpIHtcbiAgICAgICAgbGV0IHByb2dyZXNzTGVmdCA9IDA7XG4gICAgICAgIGxldCBjb21wbGV0ZWRBY3Rpdml0aWVzID0gMDtcbiAgICAgICAgaWYgKG5leHRQcm9ncmVzcyA9PSAxLjApXG4gICAgICAgICAgICB1cGRhdGVkQWN0aXZpdHkuY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCBhY3Rpdml0eSBvZiB0aGlzLm9uZ29pbmdBY3Rpdml0aWVzKSB7XG4gICAgICAgICAgICBjb25zdCB7IHByb2dyZXNzIH0gPSBhY3Rpdml0eTtcbiAgICAgICAgICAgIHByb2dyZXNzTGVmdCArPSAxLjAgLSBwcm9ncmVzcztcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eS5jb21wbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRBY3Rpdml0aWVzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFzdFByb2dyZXNzID0gdXBkYXRlZEFjdGl2aXR5LnByb2dyZXNzO1xuICAgICAgICB1cGRhdGVkQWN0aXZpdHkucHJvZ3Jlc3MgPSBuZXh0UHJvZ3Jlc3M7XG4gICAgICAgIC8vIEFkdmFuY2UgdGhlIHRvdGFsIHByb2dyZXNzIGJ5IHRoZSBmcmFjdGlvbiBvZiB0b3RhbCByZW1haW5pbmcgcHJvZ3Jlc3NcbiAgICAgICAgLy8gZHVlIHRvIHRoaXMgYWN0aXZpdHkuXG4gICAgICAgIHRoaXMudG90YWxQcm9ncmVzcyArPSAobmV4dFByb2dyZXNzIC0gbGFzdFByb2dyZXNzKSAqXG4gICAgICAgICAgICAoMS4wIC0gdGhpcy50b3RhbFByb2dyZXNzKSAvIHByb2dyZXNzTGVmdDtcbiAgICAgICAgY29uc3QgdG90YWxQcm9ncmVzcyA9IGNvbXBsZXRlZEFjdGl2aXRpZXMgPT09IHRoaXMub25nb2luZ0FjdGl2aXR5Q291bnQgP1xuICAgICAgICAgICAgMS4wIDpcbiAgICAgICAgICAgIHRoaXMudG90YWxQcm9ncmVzcztcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncHJvZ3Jlc3MnLCB7IGRldGFpbDogeyB0b3RhbFByb2dyZXNzIH0gfSkpO1xuICAgICAgICBpZiAoY29tcGxldGVkQWN0aXZpdGllcyA9PT0gdGhpcy5vbmdvaW5nQWN0aXZpdHlDb3VudCkge1xuICAgICAgICAgICAgdGhpcy50b3RhbFByb2dyZXNzID0gMC4wO1xuICAgICAgICAgICAgdGhpcy5vbmdvaW5nQWN0aXZpdGllcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvZ3Jlc3MtdHJhY2tlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@google/model-viewer/lib/utilities/progress-tracker.js\n");

/***/ })

};
;